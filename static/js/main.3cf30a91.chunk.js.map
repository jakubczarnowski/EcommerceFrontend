{"version":3,"sources":["utils/states.ts","reducers/messageSlice.ts","utils/BaseUrl.ts","app/tokenService.ts","app/axiosInstance.ts","reducers/productsSlice.ts","utils/ParseCategories.ts","reducers/categorySlice.ts","reducers/authSlice.ts","reducers/cartSlice.ts","reducers/addressSlice.ts","reducers/orderSlice.ts","app/store.ts","reportWebVitals.ts","theme.ts","app/hooks.ts","components/MessageDropdown.tsx","utils/CalculateTotalCost.ts","utils/BaseImageUrl.ts","components/QuantitySelector.tsx","components/cart/CartItem.tsx","components/cart/CartDrawer.tsx","static/images/logo2.svg","components/Navbar/SearchField.tsx","components/Navbar/Navbar.tsx","components/Products/Product.tsx","pages/HomePage.tsx","components/Products/Review.tsx","components/Products/ReviewForm.tsx","utils/GetCategoryChain.ts","pages/ProductPage.tsx","pages/RegisterPage.tsx","pages/LoginPage.tsx","components/profile/Dashboard.tsx","components/profile/Orders.tsx","components/profile/WishList.tsx","components/profile/Profile.tsx","components/checkout/OrderList.tsx","components/profile/Order.tsx","pages/ProfilePage.tsx","components/admin/AddProduct.tsx","components/admin/CategoriesSelectEditField.tsx","components/admin/CategoryList.tsx","components/admin/AddCategory.tsx","components/admin/IncomeView.tsx","components/admin/ProductList.tsx","components/admin/AdminList.tsx","pages/AdminPage.tsx","components/cart/CartPageItem.tsx","pages/CartPage.tsx","components/checkout/AddressModal.tsx","components/checkout/SelectAddress.tsx","components/checkout/Payment.tsx","pages/CheckoutPage.tsx","components/checkout/CheckoutForm.tsx","pages/PaymentPage.tsx","types/SortE.ts","pages/SearchPage.tsx","pages/App.tsx","index.tsx"],"names":["IDLE","LOADING","FULLFILLED","FAILED","messageSlice","createSlice","name","initialState","message","error","reducers","setMessage","state","action","payload","clearMessage","actions","selectMessage","BASE_URL","TokenService","getAccessToken","userData","localStorage","getItem","user","JSON","parse","accessToken","getRefreshToken","refreshToken","updateAccessToken","token","setItem","stringify","axiosInstance","axios","create","baseURL","headers","Authorization","validateStatus","status","interceptors","request","use","config","defaults","common","Promise","reject","response","res","err","originalConfig","url","_retry","post","rs","data","removeItem","store","dispatch","products","fetchProducts","createAsyncThunk","parameters","get","params","fetchProductBySlug","slug","createProduct","product","thunkAPI","rejectWithValue","failed","deleteProduct","id","delete","editProduct","patch","uploadImage","image","onUploadProgress","progressEvent","console","log","loaded","total","toString","addFavorite","product_id","deleteFavorite","addReview","productSlice","resetState","extraReducers","builder","addCase","pending","fulfilled","rejected","index","findIndex","p","push","val","splice","newProduct","favorite","selectFavoriteProducts","filter","selectProducts","selectStatus","selectError","ParseCategories","categories","newCategories","category","categoryChildren","length","forEach","newCat","fetchCategories","deleteCategory","createCategory","editCategory","categorySlice","selectCategories","selectCategoryById","find","selectCategoryStatus","userObject","register","login","logout","_","window","location","reload","isLoggedIn","authSlice","selectUser","auth","selectUserIsLogged","cart","cartItems","totalCost","undefined","fetchCart","addToCart","changeQuantity","put","cartSlice","cartId","item","quantity","selectCart","selectCartItemsLength","len","selectCartStatus","selectCartItemByProductId","resetCartState","addresses","fetchAddress","createAddress","deleteAddress","updateAddress","address","addressSlice","selectAddress","selectAddressStatus","orders","fetchOrders","addOrder","order","orderSlice","order_id","sort","a","b","Date","timeOrdered","getTime","selectOrders","selectOrdersStatus","configureStore","reducer","productsReducer","categoriesReducer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","theme","createTheme","palette","type","primary","main","dark","gray","blue","light","secondary","background","default","text","overrides","MuiSwitch","root","width","height","padding","margin","switchBase","transform","color","opacity","border","thumb","track","borderRadius","backgroundColor","transition","MuiLink","styleOverrides","textDecoration","useAppDispatch","useDispatch","useAppSelector","useSelector","MessageDropdown","props","useState","open","setOpen","useEffect","timer","setTimeout","clearTimeout","Box","sx","zIndex","position","Collapse","in","timeout","mb","paddingBottom","marginBottom","Alert","severity","IconButton","size","onClick","Close","fontSize","CalculateTotalCost","cartItem","price","toFixed","BASE_IMAGE_URL","QuantitySelector","cartItemId","display","flexDirection","alignItems","Add","Typography","variant","disabled","Remove","CartItem","Avatar","marginX","style","objectFit","src","imagesUrl","alt","flex","to","fontWeight","Clear","CartDrawer","onClose","navigate","useNavigate","loggedIn","Drawer","anchor","ShoppingBagOutlined","marginLeft","Divider","map","marginTop","Button","textTransform","marginY","SearchField","categoryId","setCategoryId","selectedCategory","search","setSearch","categoriesAnchor","setCategoriesAnchor","categoriesDropdownOpen","Boolean","handleDropdownClose","renderCategoriesDropdown","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","categoryName","onSubmit","e","preventDefault","URLSearchParams","set","component","borderColor","gap","overflow","Search","TextField","value","onChange","target","placeholder","focused","currentTarget","borderLeft","bgcolor","paddingX","whiteSpace","KeyboardArrowDown","Navbar","isAdmin","cartOpen","setCartOpen","mobileMenuId","React","mobileMoreAnchorEl","setMobileMoreAnchorEl","cartItemsLength","isMobileMenuOpen","renderMobileMenu","AccountBox","Badge","badgeContent","ShoppingCart","AdminPanelSettings","Logout","Login","HowToReg","loginAnchorEl","setloginAnchorEl","isLoginMenuOpen","renderLoginMenu","Container","maxWidth","justifyContent","xs","sm","logo","md","event","Product","existsInCart","setFavorite","handleClickFavorite","meta","requestStatus","Card","minWidth","maxHeight","aspectRatio","Chip","top","left","label","right","Favorite","FavoriteBorder","marginRight","mt","Rating","rating","readOnly","precision","minHeight","productId","HomePage","productStatus","productError","fetchConfig","page","content","Grid","lg","container","spacing","columns","Review","timePosted","MarginX","moment","fromNow","ReviewForm","setRating","OutlinedInput","multiline","rows","review","getCategoryChain","parsedCategories","categoryChain","c","parentCategoryId","ProductPage","useParams","selectedProductUrl","setSelectedProductUrl","selectProductBySlug","categoriesStatus","categoryChainElement","tabValue","setTabValue","reverse","paddingTop","paddingLeft","ratingCount","borderBottom","Tabs","indicatorColor","textColor","newValue","Tab","hidden","description","reviews","postDate","RegisterPage","username","password","email","surname","formData","setFormData","handleSubmit","unwrap","handleChanged","prev","m","autoComplete","required","fullWidth","autoFocus","inputProps","pattern","LoginPage","Dashboard","selectedPage","setSelectedPage","handleClick","favoriteCount","orderCount","boxStyle","Paper","elevation","marginToY","Person","StyledText","Orders","ShoppingBag","toLocaleDateString","ArrowForward","WishList","Profile","OrderList","flexGrow","Order","Number","parseInt","format","gridRow","deliveryAddress","streetLine","city","zipCode","phoneNumber","ProfilePage","ordersStatus","path","element","AddProduct","initialProductState","setProduct","imagePreview","setImagePreview","imageData","setImageData","uploadImageOnClick","step","Select","handleSelectChange","files","file","FormData","append","URL","createObjectURL","onFileChange","accept","multiple","CardMedia","ImageList","cols","rowHeight","ImageListItem","loading","CategorySelectEditField","field","apiRef","useGridApiContext","handleChange","current","setEditCellValue","native","CategoryList","selectedIds","setSelectedIds","handleDeleteClick","headerName","editable","renderCell","row","DataGrid","onSelectionModelChange","ids","selectedIDs","onCellEditCommit","newCategory","rowsPerPageOptions","checkboxSelection","disableSelectionOnClick","AddCategory","initialCategoryState","parentId","setCategory","IncomeView","renderSelectEditInputCell","ProductList","renderEditCell","AdminList","pageChangeCallback","expanded","setExpanded","panel","isExpanded","flexShrink","boxSizing","Toolbar","List","ListItem","disablePadding","ListItemButton","ListItemIcon","Inventory","ListItemText","Accordion","AccordionSummary","expandIcon","AccordionDetails","AdminPage","setPage","CartPageItem","rowGap","CartPage","flexWrap","FormControl","minRows","AddressModal","handleClose","oldAddress","edit","setAddress","Dialog","DialogTitle","DialogContent","defaultValue","SelectAddress","setSelectedAddress","selectedAddressId","addressStatus","modalOpen","setModalOpen","handleOpen","editAddress","setEditAddress","editMode","setEditMode","Edit","DeleteOutline","Payment","CheckoutPage","moreInfo","setSelectedAddressId","replace","CheckoutForm","stripe","useStripe","elements","useElements","isLoading","setIsLoading","clientSecret","retrievePaymentIntent","paymentIntent","confirmPayment","confirmParams","return_url","ProductSort","stripePromise","loadStripe","PaymentPage","setClientSecret","useLocation","fetchData","deliveryAddressId","options","CircularProgress","CategoryText","useSearchParams","children","SearchPage","searchParams","RELEVANCE","selectedSort","setSelectedSort","parentCategory","showCategories","boxShadow","disableGutters","newExpanded","PRICE_ASCENDING","PRICE_DESCENDING","ArrowUpward","App","roles","includes","document","getElementById","createRoot","render","StrictMode","ThemeProvider"],"mappings":"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","file":"static/js/main.3cf30a91.chunk.js","sourcesContent":["export const IDLE = \"idle\";\nexport const LOADING = \"loading\";\nexport const FULLFILLED = \"fullfilled\";\nexport const FAILED = \"failed\";\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../app/store\";\n\ninterface MessageState {\n\tmessage: string;\n\terror: boolean;\n}\n\nconst initialState: MessageState = {\n\tmessage: \"\",\n\terror: false,\n};\n\nconst messageSlice = createSlice({\n\tname: \"message\",\n\tinitialState,\n\treducers: {\n\t\tsetMessage: (state, action) => {\n\t\t\treturn { message: action.payload.message, error: action.payload.error };\n\t\t},\n\t\tclearMessage: () => {\n\t\t\treturn { message: \"\", error: false };\n\t\t},\n\t},\n});\n\nexport default messageSlice.reducer;\nexport const { setMessage, clearMessage } = messageSlice.actions;\nexport const selectMessage = (state: RootState) => ({ message: state.message.message, error: state.message.error });\n","export const BASE_URL: string = \"https://ecommercebackend.czarnowskijakub.tech:8443/api/v1\";\n","function getAccessToken() {\n\tconst userData = localStorage.getItem(\"user\");\n\tif (typeof userData === \"string\" && userData != \"\") {\n\t\tconst user = JSON.parse(userData);\n\t\tif (user && user.accessToken) {\n\t\t\treturn \"Bearer \" + user.accessToken;\n\t\t}\n\t}\n\treturn \"\";\n}\nfunction getRefreshToken() {\n\tconst userData = localStorage.getItem(\"user\");\n\tif (typeof userData === \"string\" && userData != \"\") {\n\t\tconst user = JSON.parse(userData);\n\t\tif (user && user.refreshToken) {\n\t\t\treturn user.refreshToken;\n\t\t}\n\t}\n\treturn \"\";\n}\nconst updateAccessToken = (token: string) => {\n\tlet user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n\tuser.accessToken = token;\n\tlocalStorage.setItem(\"user\", JSON.stringify(user));\n};\nconst TokenService = {\n\tgetAccessToken,\n\tgetRefreshToken,\n\tupdateAccessToken,\n};\nexport default TokenService;\n","import axios from \"axios\";\nimport { logout } from \"../reducers/authSlice\";\nimport { setMessage } from \"../reducers/messageSlice\";\nimport { BASE_URL } from \"../utils/BaseUrl\";\nimport { useAppDispatch } from \"./hooks\";\nimport { store } from \"./store\";\nimport TokenService from \"./tokenService\";\n\nconst axiosInstance = axios.create({\n\tbaseURL: BASE_URL,\n\theaders: {\n\t\tAuthorization: TokenService.getAccessToken(),\n\t\t\"Content-Type\": \"application/json\",\n\t},\n\tvalidateStatus: (status) => status >= 200 && status <= 302,\n});\n\naxiosInstance.interceptors.request.use(\n\t(config: any) => {\n\t\tconst token = TokenService.getAccessToken();\n\t\tif (token) {\n\t\t\tconfig.headers.Authorization = token;\n\t\t} else {\n\t\t\tdelete axiosInstance.defaults.headers.common.Authorization;\n\t\t}\n\t\treturn config;\n\t},\n\n\t(error) => Promise.reject(error)\n);\naxiosInstance.interceptors.response.use(\n\t(res: any) => {\n\t\treturn res;\n\t},\n\tasync (err: any) => {\n\t\tconst originalConfig = err.config;\n\n\t\tif (originalConfig.url !== \"/auth/signin\" && err.response && localStorage.getItem(\"user\") !== null) {\n\t\t\t// Access Token was expired\n\t\t\tif (err.response.status === 401 && !originalConfig._retry) {\n\t\t\t\toriginalConfig._retry = true;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst rs = await axiosInstance.post(\n\t\t\t\t\t\t\"/auth/refreshtoken\",\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\trefreshToken: TokenService.getRefreshToken(),\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tconst { accessToken } = rs.data;\n\t\t\t\t\tTokenService.updateAccessToken(accessToken);\n\n\t\t\t\t\treturn axiosInstance(originalConfig);\n\t\t\t\t} catch (_error) {\n\t\t\t\t\tlocalStorage.removeItem(\"user\");\n\t\t\t\t\tdelete axiosInstance.defaults.headers.common.Authorization;\n\t\t\t\t\treturn Promise.reject(_error);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.reject(err);\n\t}\n);\naxiosInstance.interceptors.response.use(\n\t(res: any) => {\n\t\treturn res;\n\t},\n\tasync (err: any) => {\n\t\tconst originalConfig = err.config;\n\n\t\tif (err.response.status === 401) {\n\t\t\tstore.dispatch(setMessage({ message: \"You have to be logged to do that.\", error: true }));\n\t\t}\n\n\t\treturn Promise.reject(err);\n\t}\n);\n\nexport default axiosInstance;\n","import { IDLE } from \"./../utils/states\";\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport axiosInstance from \"../app/axiosInstance\";\nimport { RootState } from \"../app/store\";\nimport ProductCreateI from \"../types/ProductCreateI\";\nimport ProductI from \"../types/ProductI\";\nimport ProductParamsI from \"../types/ProductParamI\";\nimport ReviewCreateI from \"../types/ReviewCreateI\";\nimport { BASE_URL } from \"../utils/BaseUrl\";\nimport { FAILED, FULLFILLED, LOADING } from \"../utils/states\";\nimport { setMessage } from \"./messageSlice\";\n\nexport interface ProductState {\n\tproducts: ProductI[];\n\tstatus: \"idle\" | \"loading\" | \"fullfilled\" | \"failed\";\n\terror: string | undefined;\n}\nconst initialState: ProductState = {\n\tproducts: [],\n\tstatus: \"idle\",\n\terror: \"\",\n};\n\nexport const fetchProducts = createAsyncThunk(\"products/fetchProducts\", async (parameters: ProductParamsI) => {\n\tconst response = await axiosInstance.get(\"/products\", {\n\t\tparams: parameters,\n\t});\n\treturn response.data;\n});\nexport const fetchProductBySlug = createAsyncThunk(\"products/fetchProductBySlug\", async (slug: string) => {\n\tconst response = await axiosInstance.get(\"/products/slug/\" + slug);\n\t// obrzydliwe\n\treturn response.data;\n});\nexport const createProduct = createAsyncThunk(\"products/createProduct\", async (product: ProductCreateI, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.post(\"/products\", JSON.stringify(product));\n\t\tthunkAPI.dispatch(setMessage({ message: \"Product added\", error: false }));\n\t\treturn response.data;\n\t} catch (err: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: err.response.data.message, error: true }));\n\t\treturn thunkAPI.rejectWithValue({ failed: true });\n\t}\n});\n\nexport const deleteProduct = createAsyncThunk(\"products/deleteProduct\", async (id: number, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.delete(\"/products/\" + id);\n\t\treturn id;\n\t} catch (err: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: err.response.data.message, error: true }));\n\t\treturn thunkAPI.rejectWithValue({ failed: true });\n\t}\n});\n\nexport const editProduct = createAsyncThunk(\"products/editProduct\", async (product: ProductCreateI, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.patch(\"/products/\" + product.id, JSON.stringify(product));\n\t\treturn response.data;\n\t} catch (err: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: err.response.data.message, error: true }));\n\t\treturn thunkAPI.rejectWithValue({ failed: true });\n\t}\n});\n\nexport const uploadImage = createAsyncThunk(\"products/uploadPicture\", async (image: FormData, thunkAPI) => {\n\ttry {\n\t\tconst response = await axios.post(BASE_URL + `/static/upload`, image, {\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"multipart/form-data\",\n\t\t\t},\n\t\t\tonUploadProgress: (progressEvent) => {\n\t\t\t\tconsole.log(\"Uploading : \" + ((progressEvent.loaded / progressEvent.total) * 100).toString() + \"%\");\n\t\t\t},\n\t\t});\n\t\treturn response.data;\n\t} catch (err: any) {\n\t\tthunkAPI.rejectWithValue(err.message);\n\t}\n});\nexport const addFavorite = createAsyncThunk(\"favorite/addFavorite\", async (product_id: Number, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.post(`/favorite?product_id=${product_id}`);\n\t\treturn product_id;\n\t} catch (e: any) {\n\t\treturn thunkAPI.rejectWithValue(e.response.message);\n\t}\n});\nexport const deleteFavorite = createAsyncThunk(\"favorite/deleteFavorite\", async (product_id: Number, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.delete(`/favorite/${product_id}`);\n\t\treturn product_id;\n\t} catch (e: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: \"Failed to remove favorite\", error: true }));\n\t\treturn thunkAPI.rejectWithValue(e.response.message);\n\t}\n});\n\nexport const addReview = createAsyncThunk(\"review/addReview\", async (params: ReviewCreateI, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.post(\"/reviews/\", JSON.stringify(params));\n\t\treturn response;\n\t} catch (e: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: \"Failed to add review\", error: true }));\n\t\treturn thunkAPI.rejectWithValue(e.response.message);\n\t}\n});\n\nexport const productSlice = createSlice({\n\tname: \"products\",\n\tinitialState,\n\treducers: {\n\t\tresetState: (state) => initialState,\n\t},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(fetchProducts.pending, (state) => {\n\t\t\t\tstate.status = LOADING;\n\t\t\t})\n\t\t\t.addCase(fetchProducts.fulfilled, (state, action) => {\n\t\t\t\tstate.status = FULLFILLED;\n\t\t\t\tstate.products = action.payload;\n\t\t\t})\n\t\t\t.addCase(fetchProducts.rejected, (state, action) => {\n\t\t\t\tstate.status = FAILED;\n\t\t\t\tconsole.log(action);\n\t\t\t\tstate.error = action.error.message;\n\t\t\t})\n\t\t\t.addCase(fetchProductBySlug.pending, (state) => {\n\t\t\t\tstate.status = LOADING;\n\t\t\t})\n\t\t\t.addCase(fetchProductBySlug.fulfilled, (state, action) => {\n\t\t\t\tstate.status = IDLE;\n\t\t\t\tconst index = state.products.findIndex((p) => p.id === action.payload.id);\n\t\t\t\tif (index != -1) {\n\t\t\t\t\tstate.products[index] = action.payload;\n\t\t\t\t} else {\n\t\t\t\t\tstate.products.push(action.payload);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.addCase(fetchProductBySlug.rejected, (state, action) => {\n\t\t\t\tstate.status = FAILED;\n\t\t\t\tconsole.log(action);\n\t\t\t\tstate.error = action.error.message;\n\t\t\t})\n\t\t\t.addCase(createProduct.fulfilled, (state, action) => {\n\t\t\t\tstate.products.push(action.payload);\n\t\t\t})\n\t\t\t.addCase(deleteProduct.fulfilled, (state, action) => {\n\t\t\t\tconst id: number = state.products.findIndex((val) => val.id === action.payload);\n\t\t\t\tstate.products.splice(id, 1);\n\t\t\t})\n\t\t\t.addCase(addFavorite.fulfilled, (state, action) => {\n\t\t\t\tconst index = state.products.findIndex((val) => val.id === action.payload);\n\t\t\t\tconst newProduct = state.products[index];\n\t\t\t\tnewProduct.favorite = true;\n\t\t\t\tstate.products[index] = newProduct;\n\t\t\t})\n\t\t\t.addCase(deleteFavorite.fulfilled, (state, action) => {\n\t\t\t\tconst index = state.products.findIndex((val) => val.id === action.payload);\n\t\t\t\tconst newProduct = state.products[index];\n\t\t\t\tnewProduct.favorite = false;\n\t\t\t\tstate.products[index] = newProduct;\n\t\t\t});\n\t},\n});\nexport const resetProductState = productSlice.actions.resetState;\nexport const selectFavoriteProducts = (state: RootState) => state.products.products.filter((val) => val.favorite === true);\nexport const selectProducts = (state: RootState) => state.products.products;\nexport const selectStatus = (state: RootState) => state.products.status;\nexport const selectError = (state: RootState) => state.products.error;\nexport const selectProductBySlug = (state: RootState, slug: string) => state.products.products.find((product) => product.slug === slug);\nexport default productSlice.reducer;\n","import CategoryI from \"../types/CategoryI\";\n\nexport default function ParseCategories(categories: CategoryI) {\n\tlet newCategories: CategoryI[] = [];\n\tlet category = categories?.categoryChildren || [];\n\tif (category.length == 0) {\n\t\treturn [categories];\n\t}\n\tcategory.forEach((category) => {\n\t\tlet newCat = ParseCategories(category);\n\t\tnewCategories.push(...newCat);\n\t});\n\tnewCategories.push(categories);\n\treturn newCategories;\n}\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState, AppThunk } from \"../app/store\";\nimport ProductParamsI from \"../types/ProductParamI\";\nimport axiosInstance from \"../app/axiosInstance\";\nimport { FAILED, FULLFILLED, IDLE, LOADING } from \"../utils/states\";\nimport CategoryI from \"../types/CategoryI\";\nimport CategoryCreateI from \"../types/CategoryCreateI\";\nimport { setMessage } from \"./messageSlice\";\nimport CategoryEditI from \"../types/CategoryEditI\";\nimport ParseCategories from \"../utils/ParseCategories\";\n\nexport interface CategoryState {\n\tcategories: CategoryI | null;\n\tstatus: \"idle\" | \"loading\" | \"fullfilled\" | \"failed\";\n\terror: string | undefined;\n}\nconst initialState: CategoryState = {\n\tcategories: null,\n\tstatus: \"idle\",\n\terror: \"\",\n};\n\nexport const fetchCategories = createAsyncThunk(\"categories/fetchCategories\", async () => {\n\tconst response = await axiosInstance.get(\"/category/1\", {});\n\treturn response.data;\n});\n\nexport const deleteCategory = createAsyncThunk(\"categories/deleteCategory\", async (id: number, thunkAPI) => {\n\tconst response = await axiosInstance.delete(\"/category/\" + id, {});\n\treturn response.data;\n});\nexport const createCategory = createAsyncThunk(\"categories/createCategory\", async (category: CategoryCreateI, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.post(\"/category\", JSON.stringify(category));\n\t\tthunkAPI.dispatch(setMessage({ message: \"Category added\", error: false }));\n\t\treturn response.data;\n\t} catch (err: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: err.response.data.message, error: true }));\n\t\treturn thunkAPI.rejectWithValue({ failed: true });\n\t}\n});\n\nexport const editCategory = createAsyncThunk(\"categories/editCategory\", async (category: CategoryEditI, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.patch(\"/category/\" + category.id, JSON.stringify(category));\n\t\treturn response.data;\n\t} catch (err: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: err.response.data.message, error: true }));\n\t\treturn thunkAPI.rejectWithValue({ failed: true });\n\t}\n});\n\nexport const categorySlice = createSlice({\n\tname: \"categories\",\n\tinitialState,\n\treducers: {},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(fetchCategories.pending, (state) => {\n\t\t\t\tstate.status = LOADING;\n\t\t\t})\n\t\t\t.addCase(fetchCategories.fulfilled, (state, action) => {\n\t\t\t\tstate.status = FULLFILLED;\n\t\t\t\tstate.categories = action.payload;\n\t\t\t})\n\t\t\t.addCase(fetchCategories.rejected, (state, action) => {\n\t\t\t\tstate.status = FAILED;\n\t\t\t\tstate.error = action.error.message;\n\t\t\t});\n\t},\n});\n\nexport const selectCategories = (state: RootState) => state.categories.categories;\nexport const selectCategoryById = (state: RootState, id: number) => ParseCategories(state.categories.categories || ({} as CategoryI)).find((val) => val.id === id);\nexport const selectCategoryStatus = (state: RootState) => state.categories.status;\nexport const selectCategoryError = (state: RootState) => state.categories.error;\nexport default categorySlice.reducer;\n","import { ContentPasteGoOutlined, WindowSharp } from \"@mui/icons-material\";\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { rejects } from \"assert\";\nimport { AxiosError } from \"axios\";\nimport axiosInstance from \"../app/axiosInstance\";\nimport { RootState } from \"../app/store\";\nimport LoginParams from \"../types/LoginParams\";\nimport RegisterParamas from \"../types/RegisterParams\";\nimport UserI from \"../types/UserI\";\nimport { IDLE } from \"../utils/states\";\nimport { resetAddressState } from \"./addressSlice\";\nimport { resetCartState } from \"./cartSlice\";\nimport { setMessage } from \"./messageSlice\";\nimport { resetOrderState } from \"./orderSlice\";\nimport { resetProductState } from \"./productsSlice\";\n\ninterface AuthState {\n\tuser: UserI | null;\n\tisLoggedIn: boolean;\n\tstatus: string;\n}\nconst userObject = localStorage.getItem(\"user\");\nlet user: UserI | null;\nif (userObject != null) {\n\tuser = JSON.parse(userObject || \"{}\");\n} else {\n\tuser = null;\n}\n\nexport const register = createAsyncThunk(\"auth/register\", async (params: RegisterParamas, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.post(\"auth/signup\", JSON.stringify(params));\n\t\tthunkAPI.dispatch(setMessage({ message: \"Registered Succesfully\", error: false }));\n\t\treturn response.data;\n\t} catch (err: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: err.response.data.message, error: true }));\n\t\treturn thunkAPI.rejectWithValue({ failed: true });\n\t}\n});\n\nexport const login = createAsyncThunk(\"auth/login\", async (parameters: LoginParams, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.post(\"auth/signin\", JSON.stringify(parameters));\n\t\tthunkAPI.dispatch(setMessage({ message: \"Logged In Succesfully\", error: false }));\n\t\treturn response.data;\n\t} catch (err: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: err.response.data.message, error: true }));\n\t\treturn thunkAPI.rejectWithValue({ failed: true });\n\t}\n});\n\nexport const logout = createAsyncThunk(\"auth/logout\", async (_, thunkAPI) => {\n\tlocalStorage.removeItem(\"user\");\n\twindow.location.reload();\n});\n\nconst initialState: AuthState = user ? { isLoggedIn: true, user: user, status: IDLE } : { isLoggedIn: false, user: null, status: IDLE };\n\nexport const authSlice = createSlice({\n\tname: \"auth\",\n\tinitialState,\n\treducers: {},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(register.fulfilled, (state, action) => {\n\t\t\t\tstate.isLoggedIn = false;\n\t\t\t})\n\t\t\t.addCase(register.rejected, (state, action) => {\n\t\t\t\tstate.isLoggedIn = false;\n\t\t\t})\n\t\t\t.addCase(login.fulfilled, (state, action) => {\n\t\t\t\tstate.isLoggedIn = true;\n\t\t\t\tstate.user = action.payload;\n\t\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(action.payload));\n\t\t\t})\n\t\t\t.addCase(login.rejected, (state, action) => {\n\t\t\t\tconsole.log(action);\n\t\t\t\tstate.isLoggedIn = false;\n\t\t\t\tstate.user = null;\n\t\t\t})\n\t\t\t.addCase(logout.fulfilled, (state, action) => {\n\t\t\t\tstate.isLoggedIn = false;\n\t\t\t\tstate.user = null;\n\t\t\t\tlocalStorage.removeItem(\"user\");\n\t\t\t});\n\t},\n});\n\nexport const selectUser = (state: RootState) => state.auth.user;\nexport const selectUserIsLogged = (state: RootState) => state.auth.isLoggedIn;\nexport default authSlice.reducer;\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState, AppThunk } from \"../app/store\";\nimport ProductI from \"../types/ProductI\";\nimport ProductParamsI from \"../types/ProductParamI\";\nimport axiosInstance from \"../app/axiosInstance\";\nimport { FAILED, FULLFILLED, IDLE, LOADING } from \"../utils/states\";\nimport { setMessage } from \"./messageSlice\";\nimport CartItemI from \"../types/CartItemI\";\nimport { CarCrashTwoTone } from \"@mui/icons-material\";\nimport CartI from \"../types/CartI\";\nimport AddToCartI from \"../types/AddToCartI\";\nimport { queryAllByAltText } from \"@testing-library/react\";\nimport { stat } from \"fs\";\nimport ChangeQuantityI from \"../types/ChangeQuantityI\";\n\ninterface CartState {\n\tcart: CartI;\n\tstatus: \"idle\" | \"loading\" | \"fullfilled\" | \"failed\";\n\terror: string | undefined;\n}\n\nconst initialState: CartState = {\n\tcart: {\n\t\tcartItems: [],\n\t\ttotalCost: 0,\n\t},\n\tstatus: IDLE,\n\terror: undefined,\n};\n\nexport const fetchCart = createAsyncThunk(\"cart/fetchCart\", async () => {\n\tconst response = await axiosInstance.get(\"/cart/\");\n\treturn response.data;\n});\n\nexport const addToCart = createAsyncThunk(\"cart/addToCart\", async (data: AddToCartI, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.post(`/cart/`, data);\n\t\treturn response.data;\n\t} catch (e: any) {\n\t\treturn thunkAPI.rejectWithValue(e.response.message);\n\t}\n});\nexport const changeQuantity = createAsyncThunk(\"cart/changeQuantity\", async (data: ChangeQuantityI, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.put(`/cart/`, data);\n\t\tconsole.log(response);\n\t\treturn response.data;\n\t} catch (e: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: \"Failed to change quantity\", error: true }));\n\t\tconsole.log(e);\n\t\treturn thunkAPI.rejectWithValue(e.response.message);\n\t}\n});\n\nexport const cartSlice = createSlice({\n\tname: \"cart\",\n\tinitialState,\n\treducers: {\n\t\tresetState: (state) => initialState,\n\t},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(fetchCart.pending, (state) => {\n\t\t\t\tstate.status = LOADING;\n\t\t\t})\n\t\t\t.addCase(fetchCart.fulfilled, (state, action) => {\n\t\t\t\tstate.status = FULLFILLED;\n\t\t\t\tstate.cart = action.payload;\n\t\t\t})\n\t\t\t.addCase(fetchCart.rejected, (state, action) => {\n\t\t\t\tstate.status = FAILED;\n\t\t\t\tstate.error = action.error.message;\n\t\t\t})\n\t\t\t.addCase(addToCart.fulfilled, (state, action) => {\n\t\t\t\tconsole.log(action);\n\t\t\t\tstate.cart.cartItems.push(action.payload);\n\t\t\t})\n\n\t\t\t.addCase(addToCart.rejected, (state, action) => {\n\t\t\t\tconsole.log(action);\n\t\t\t})\n\t\t\t.addCase(changeQuantity.fulfilled, (state, action) => {\n\t\t\t\tlet cartId = state.cart.cartItems.findIndex((item) => item.id === action.payload.id);\n\t\t\t\tstate.cart.cartItems[cartId].quantity = action.payload.quantity;\n\t\t\t\tif (action.payload.quantity == 0) {\n\t\t\t\t\tstate.cart.cartItems.splice(cartId, 1);\n\t\t\t\t}\n\t\t\t});\n\t},\n});\n\nexport const selectCart = (state: RootState) => state.cart.cart;\nexport const selectCartItemsLength = (state: RootState) => {\n\tlet len = 0;\n\tstate.cart.cart.cartItems.forEach((val) => {\n\t\tlen += val.quantity;\n\t});\n\treturn len;\n};\nexport const selectCartStatus = (state: RootState) => state.cart.status;\nexport const selectCartError = (state: RootState) => state.cart.error;\nexport const selectExistsInCart = (state: RootState, id: number) => state.cart.cart.cartItems.find((item) => item.id === id) !== undefined;\nexport const selectCartItemByProductId = (state: RootState, id: number) => state.cart.cart.cartItems.find((item) => item.product.id === id);\nexport const resetCartState = cartSlice.actions.resetState;\nexport default cartSlice.reducer;\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState, AppThunk } from \"../app/store\";\nimport ProductI from \"../types/ProductI\";\nimport ProductParamsI from \"../types/ProductParamI\";\nimport axiosInstance from \"../app/axiosInstance\";\nimport { FAILED, FULLFILLED, IDLE, LOADING } from \"../utils/states\";\nimport { setMessage } from \"./messageSlice\";\nimport CartItemI from \"../types/CartItemI\";\nimport { CarCrashTwoTone } from \"@mui/icons-material\";\nimport CartI from \"../types/CartI\";\nimport AddToCartI from \"../types/AddToCartI\";\nimport { queryAllByAltText } from \"@testing-library/react\";\nimport { stat } from \"fs\";\nimport AddressI from \"../types/AddressI\";\n\ninterface AddressState {\n\taddresses: AddressI[];\n\tstatus: \"idle\" | \"loading\" | \"fullfilled\" | \"failed\";\n\terror: string | undefined;\n}\n\nconst initialState: AddressState = {\n\taddresses: [],\n\tstatus: IDLE,\n\terror: undefined,\n};\n\nexport const fetchAddress = createAsyncThunk(\"address/fetchAddress\", async () => {\n\tconst response = await axiosInstance.get(\"/address/\");\n\treturn response.data;\n});\n\nexport const createAddress = createAsyncThunk(\"address/createAddress\", async (data: AddressI, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.post(`/address/`, data);\n\t\treturn response.data;\n\t} catch (e: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: \"Failed to create address\", error: true }));\n\t\treturn thunkAPI.rejectWithValue(e.response.message);\n\t}\n});\nexport const deleteAddress = createAsyncThunk(\"address/deleteAddress\", async (id: number, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.delete(`/address/${id}`);\n\t\treturn id;\n\t} catch (e: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: \"Failed to delete address\", error: true }));\n\t\treturn thunkAPI.rejectWithValue(e.response.message);\n\t}\n});\nexport const updateAddress = createAsyncThunk(\"address/updateAddress\", async (address: AddressI, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.patch(`/address/${address.id}`, address);\n\t\treturn response.data;\n\t} catch (e: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: \"Failed to update address\", error: true }));\n\t\treturn thunkAPI.rejectWithValue(e.response.message);\n\t}\n});\nexport const addressSlice = createSlice({\n\tname: \"address\",\n\tinitialState,\n\treducers: {\n\t\tresetState: (state) => initialState,\n\t},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(fetchAddress.pending, (state) => {\n\t\t\t\tstate.status = LOADING;\n\t\t\t})\n\t\t\t.addCase(fetchAddress.fulfilled, (state, action) => {\n\t\t\t\tstate.status = FULLFILLED;\n\t\t\t\tstate.addresses = action.payload;\n\t\t\t})\n\t\t\t.addCase(fetchAddress.rejected, (state, action) => {\n\t\t\t\tstate.status = FAILED;\n\t\t\t\tstate.error = action.error.message;\n\t\t\t})\n\t\t\t.addCase(createAddress.fulfilled, (state, action) => {\n\t\t\t\tstate.addresses.push(action.payload);\n\t\t\t})\n\t\t\t.addCase(deleteAddress.fulfilled, (state, action) => {\n\t\t\t\tconst index = state.addresses.findIndex((val) => val.id === action.payload);\n\t\t\t\tstate.addresses.splice(index, 1);\n\t\t\t})\n\t\t\t.addCase(updateAddress.fulfilled, (state, action) => {\n\t\t\t\tconst index = state.addresses.findIndex((val) => val.id === action.payload.id);\n\t\t\t\tstate.addresses[index] = action.payload;\n\t\t\t});\n\t},\n});\n\nexport const selectAddress = (state: RootState) => state.address.addresses;\nexport const selectAddressStatus = (state: RootState) => state.address.status;\nexport const selectAddressError = (state: RootState) => state.address.error;\nexport const resetAddressState = addressSlice.actions.resetState;\nexport default addressSlice.reducer;\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState, AppThunk } from \"../app/store\";\nimport ProductI from \"../types/ProductI\";\nimport ProductParamsI from \"../types/ProductParamI\";\nimport axiosInstance from \"../app/axiosInstance\";\nimport { FAILED, FULLFILLED, IDLE, LOADING } from \"../utils/states\";\nimport { setMessage } from \"./messageSlice\";\nimport OrderCreateI from \"../types/OrderCreateI\";\nimport { resetCartState } from \"./cartSlice\";\nimport OrderGetI from \"../types/OrderGetI\";\n\nexport interface OrderState {\n\torders: OrderGetI[];\n\tstatus: \"idle\" | \"loading\" | \"fullfilled\" | \"failed\";\n\terror: string | undefined;\n}\nconst initialState: OrderState = {\n\torders: [],\n\tstatus: \"idle\",\n\terror: \"\",\n};\n\nexport const fetchOrders = createAsyncThunk(\"orders/fetchOrders\", async () => {\n\tconst response = await axiosInstance.get(\"/orders/\");\n\treturn response.data;\n});\nexport const fetchOrder = createAsyncThunk(\"orders/fetchOrders\", async (id: number) => {\n\tconst response = await axiosInstance.get(\"/orders/\" + id);\n\treturn response.data;\n});\nexport const addOrder = createAsyncThunk(\"orders/addOrder\", async (order: OrderCreateI, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.post(`/orders/`, JSON.stringify(order));\n\t\tthunkAPI.dispatch(resetCartState());\n\t\treturn response.data;\n\t} catch (e: any) {\n\t\tconsole.log(e);\n\t\tthunkAPI.dispatch(setMessage({ message: \"Failed to create order\", error: true }));\n\t\treturn thunkAPI.rejectWithValue(e.response.message);\n\t}\n});\nexport const cancelOrder = createAsyncThunk(\"orders/cancelOrder\", async (order_id: Number, thunkAPI) => {\n\ttry {\n\t\tconst response = await axiosInstance.patch(`/orders/${order_id}`);\n\t\treturn response.data;\n\t} catch (e: any) {\n\t\tthunkAPI.dispatch(setMessage({ message: \"Failed to cancel order\", error: true }));\n\t\treturn thunkAPI.rejectWithValue(e.response.message);\n\t}\n});\n\nexport const orderSlice = createSlice({\n\tname: \"order\",\n\tinitialState,\n\treducers: {\n\t\tresetState: (state) => initialState,\n\t},\n\textraReducers: (builder) => {\n\t\tbuilder\n\t\t\t.addCase(fetchOrders.pending, (state) => {\n\t\t\t\tstate.status = LOADING;\n\t\t\t})\n\t\t\t.addCase(fetchOrders.fulfilled, (state, action) => {\n\t\t\t\tstate.orders = action.payload;\n\t\t\t\tstate.orders.sort((a, b) => new Date(b.timeOrdered).getTime() - new Date(a.timeOrdered).getTime());\n\t\t\t\tstate.status = FULLFILLED;\n\t\t\t})\n\t\t\t.addCase(fetchOrders.rejected, (state, action) => {\n\t\t\t\tstate.status = FAILED;\n\t\t\t\tstate.error = action.error.message;\n\t\t\t});\n\t},\n});\n\nexport const selectOrders = (state: RootState) => state.order.orders;\nexport const selectOrdersStatus = (state: RootState) => state.order.status;\nexport const selectOrderError = (state: RootState) => state.order.error;\nexport const resetOrderState = orderSlice.actions.resetState;\nexport default orderSlice.reducer;\n","import { configureStore, ThunkAction, Action } from \"@reduxjs/toolkit\";\nimport productsReducer from \"../reducers/productsSlice\";\nimport categoriesReducer from \"../reducers/categorySlice\";\nimport authSlice from \"../reducers/authSlice\";\nimport messageSlice from \"../reducers/messageSlice\";\nimport cartSlice from \"../reducers/cartSlice\";\nimport addressSlice from \"../reducers/addressSlice\";\nimport orderSlice from \"../reducers/orderSlice\";\n// import searchSlice from \"../reducers/searchSlice\";\n\nexport const store = configureStore({\n\treducer: {\n\t\tproducts: productsReducer,\n\t\tcategories: categoriesReducer,\n\t\tauth: authSlice,\n\t\tmessage: messageSlice,\n\t\tcart: cartSlice,\n\t\taddress: addressSlice,\n\t\torder: orderSlice,\n\t},\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType, RootState, unknown, Action<string>>;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createTheme } from \"@mui/material/styles\";\n\nconst themeOptions = {\n\tpalette: {\n\t\ttype: \"light\",\n\t\tprimary: {\n\t\t\tmain: \"#ffffff\",\n\t\t\tdark: \"#787878\",\n\t\t\tgray: \"#949ba7\",\n\t\t\tblue: \"#373f50\",\n\t\t\tlight: \"#DAE1E7\",\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: \"#d23f57\",\n\t\t},\n\t\tbackground: {\n\t\t\tdefault: \"#f6f9fc\",\n\t\t},\n\t\ttext: {\n\t\t\tsecondary: \"#7d879c\",\n\t\t\tprimary: \"#2B3445\",\n\t\t\tmain: \"949ba7\",\n\t\t},\n\t},\n\toverrides: {\n\t\tMuiSwitch: {\n\t\t\troot: {\n\t\t\t\twidth: 42,\n\t\t\t\theight: 26,\n\t\t\t\tpadding: 0,\n\t\t\t\tmargin: 8,\n\t\t\t},\n\t\t\tswitchBase: {\n\t\t\t\tpadding: 1,\n\t\t\t\t\"&$checked, &$colorPrimary$checked, &$colorSecondary$checked\": {\n\t\t\t\t\ttransform: \"translateX(16px)\",\n\t\t\t\t\tcolor: \"#fff\",\n\t\t\t\t\t\"& + $track\": {\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tborder: \"none\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tthumb: {\n\t\t\t\twidth: 24,\n\t\t\t\theight: 24,\n\t\t\t},\n\t\t\ttrack: {\n\t\t\t\tborderRadius: 13,\n\t\t\t\tborder: \"1px solid #bdbdbd\",\n\t\t\t\tbackgroundColor: \"#fafafa\",\n\t\t\t\topacity: 1,\n\t\t\t\ttransition: \"background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n\t\t\t},\n\t\t\tMuiLink: {\n\t\t\t\tstyleOverrides: {\n\t\t\t\t\troot: {\n\t\t\t\t\t\ttextDecoration: \"none\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n};\nconst theme = createTheme(themeOptions);\nexport default theme;\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\nimport type { RootState, AppDispatch } from \"./store\";\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { Close } from \"@mui/icons-material\";\nimport { Alert, Box, Collapse, IconButton } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { useAppDispatch, useAppSelector } from \"../app/hooks\";\nimport { clearMessage, selectMessage } from \"../reducers/messageSlice\";\ntype Props = {};\n\nconst MessageDropdown = (props: Props) => {\n\tconst [open, setOpen] = useState(false);\n\tconst dispatch = useAppDispatch();\n\tconst { message, error } = useAppSelector(selectMessage);\n\tif (message && !open) {\n\t\tsetOpen(true);\n\t}\n\tuseEffect(() => {\n\t\tconst timer = setTimeout(() => {\n\t\t\tsetOpen(false);\n\t\t\tdispatch(clearMessage());\n\t\t}, 3000);\n\t\treturn () => clearTimeout(timer);\n\t}, [message]);\n\n\treturn (\n\t\t<Box sx={{ width: \"100%\", zIndex: \"1202\", position: \"relative\" }}>\n\t\t\t<Collapse in={open} timeout={\"auto\"} sx={{ mb: 2, paddingBottom: \"0\", marginBottom: \"0\" }}>\n\t\t\t\t<Alert\n\t\t\t\t\tseverity={error ? \"error\" : \"info\"}\n\t\t\t\t\taction={\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\taria-label=\"close\"\n\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetOpen(false);\n\t\t\t\t\t\t\t\tdispatch(clearMessage());\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Close fontSize=\"inherit\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{message}\n\t\t\t\t</Alert>\n\t\t\t</Collapse>\n\t\t</Box>\n\t);\n};\n\nexport default MessageDropdown;\n","import CartItemI from \"../types/CartItemI\";\n\nexport const CalculateTotalCost = (cartItems: CartItemI[]) => {\n\tlet totalCost = 0;\n\tcartItems.forEach((cartItem) => {\n\t\ttotalCost += cartItem.product.price * cartItem.quantity;\n\t});\n\treturn totalCost.toFixed(2);\n};\n","export const BASE_IMAGE_URL: string = \"https://ecommercebackend.czarnowskijakub.tech:8443/api/v1/static/\";\n","import { Add, Remove } from \"@mui/icons-material\";\nimport { Box, IconButton, Typography } from \"@mui/material\";\nimport React from \"react\";\nimport { useAppDispatch } from \"../app/hooks\";\nimport { changeQuantity } from \"../reducers/cartSlice\";\nimport ProductI from \"../types/ProductI\";\n\ntype Props = { product: ProductI; quantity: number; cartItemId: number };\n\nconst QuantitySelector = ({ quantity, product, cartItemId }: Props) => {\n\tconst dispatch = useAppDispatch();\n\treturn (\n\t\t<Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\n\t\t\t<IconButton sx={{ border: \"1px solid\" }} color=\"secondary\" onClick={() => dispatch(changeQuantity({ id: cartItemId, quantity: quantity + 1 }))}>\n\t\t\t\t<Add fontSize=\"small\" color=\"secondary\" />\n\t\t\t</IconButton>\n\t\t\t<Typography variant=\"subtitle2\" sx={{ fontSize: \"15px\" }}>\n\t\t\t\t{quantity}\n\t\t\t</Typography>\n\t\t\t<IconButton sx={{ border: \"1px solid\" }} color=\"secondary\" disabled={quantity === 1} onClick={() => dispatch(changeQuantity({ id: cartItemId, quantity: quantity - 1 }))}>\n\t\t\t\t<Remove fontSize=\"small\" color={quantity === 1 ? \"disabled\" : \"secondary\"} />\n\t\t\t</IconButton>\n\t\t</Box>\n\t);\n};\n\nexport default QuantitySelector;\n","import { Add, AddCircleOutlineOutlined, Clear, Delete, Remove, RemoveCircleOutlineOutlined } from \"@mui/icons-material\";\nimport { Avatar, Box, Button, IconButton, Typography } from \"@mui/material\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAppDispatch } from \"../../app/hooks\";\nimport { changeQuantity } from \"../../reducers/cartSlice\";\nimport ProductI from \"../../types/ProductI\";\nimport { BASE_IMAGE_URL } from \"../../utils/BaseImageUrl\";\nimport QuantitySelector from \"../QuantitySelector\";\n\ntype Props = {\n\tproduct: ProductI;\n\tquantity: number;\n\tcartItemId: number;\n};\n\nconst CartItem = ({ product, quantity, cartItemId }: Props) => {\n\tconst dispatch = useAppDispatch();\n\treturn (\n\t\t<Box sx={{ display: \"flex\", alignItems: \"center\", padding: \"16px 20px\" }}>\n\t\t\t<QuantitySelector quantity={quantity} product={product} cartItemId={cartItemId} />\n\n\t\t\t<Avatar sx={{ width: \"74px\", height: \"76px\", marginX: \"16px\" }} variant=\"square\">\n\t\t\t\t<img style={{ width: \"100%\", height: \"100%\", objectFit: \"cover\" }} src={BASE_IMAGE_URL + product.imagesUrl[0]} alt={product.name} />\n\t\t\t</Avatar>\n\t\t\t<Box sx={{ flex: \"1 1 0\" }}>\n\t\t\t\t<Link to={\"/product/\" + product.slug}>\n\t\t\t\t\t<Typography variant=\"h5\" sx={{ fontSize: \"14px\", fontWeight: \"500\" }}>\n\t\t\t\t\t\t{product.name}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Link>\n\t\t\t\t<Typography variant=\"caption\" sx={{ fontSize: \"10px\" }}>\n\t\t\t\t\t${product.price} x {quantity}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"h5\" color=\"secondary\" sx={{ fontSize: \"14px\", fontWeight: \"500\" }}>\n\t\t\t\t\t${(product.price * quantity).toFixed(2)}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<IconButton onClick={() => dispatch(changeQuantity({ id: cartItemId, quantity: 0 }))} color=\"secondary\">\n\t\t\t\t<Clear color=\"disabled\" />\n\t\t\t</IconButton>\n\t\t</Box>\n\t);\n};\n\nexport default CartItem;\n","import { ShoppingBagOutlined } from \"@mui/icons-material\";\nimport { Button, Divider, Drawer, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { selectUserIsLogged } from \"../../reducers/authSlice\";\nimport { fetchCart, selectCart, selectCartStatus } from \"../../reducers/cartSlice\";\nimport { CalculateTotalCost } from \"../../utils/CalculateTotalCost\";\nimport { IDLE } from \"../../utils/states\";\nimport CartItem from \"./CartItem\";\n\ntype Props = {\n\topen: boolean;\n\tonClose: () => void;\n};\n\nconst CartDrawer = ({ open, onClose }: Props) => {\n\tconst navigate = useNavigate();\n\tconst cart = useAppSelector(selectCart);\n\tconst status = useAppSelector(selectCartStatus);\n\tconst anchor = \"right\";\n\tconst loggedIn = useAppSelector(selectUserIsLogged);\n\tconst dispatch = useAppDispatch();\n\tuseEffect(() => {\n\t\tif (status === IDLE && loggedIn) {\n\t\t\tdispatch(fetchCart());\n\t\t}\n\t}, [loggedIn]);\n\treturn (\n\t\t<Drawer sx={{ zIndex: 1204, display: \"flex\", flexDirection: \"column\" }} anchor={anchor} open={open} onClose={() => onClose()}>\n\t\t\t<Box sx={{ width: \"380px\" }}>\n\t\t\t\t<Box sx={{ height: \"calc((100vh- 80px) - 3.25rem)\" }}>\n\t\t\t\t\t<Box sx={{ display: \"flex\", alignItems: \"center\", marginX: \"20px\", height: \"74px\" }}>\n\t\t\t\t\t\t<ShoppingBagOutlined />\n\t\t\t\t\t\t<Typography variant=\"h6\" sx={{ fontSize: \"16px\", marginLeft: \"8px\" }}>\n\t\t\t\t\t\t\t{cart.cartItems.length} items\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t{cart.cartItems != undefined\n\t\t\t\t\t\t? cart.cartItems.map((cartItem) => {\n\t\t\t\t\t\t\t\treturn <CartItem key={cartItem.id} cartItemId={cartItem.id} product={cartItem.product} quantity={cartItem.quantity} />;\n\t\t\t\t\t\t  })\n\t\t\t\t\t\t: \"\"}\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box sx={{ padding: \"20px\", marginTop: \"auto\" }}>\n\t\t\t\t<Button\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tnavigate(\"/checkout\");\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t}}\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tsx={{ width: \"100%\", textTransform: \"none\" }}\n\t\t\t\t>\n\t\t\t\t\tCheckout now (${CalculateTotalCost(cart.cartItems)})\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tnavigate(\"/cart\");\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsx={{ width: \"100%\", textTransform: \"none\", marginY: \"10px\" }}\n\t\t\t\t>\n\t\t\t\t\tView Cart\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Drawer>\n\t);\n};\n\nexport default CartDrawer;\n","export default __webpack_public_path__ + \"static/media/logo2.90b21b60.svg\";","import { AccountBox, KeyboardArrowDown, Search, TextFormatOutlined, TextFormatRounded } from \"@mui/icons-material\";\nimport { Box, Button, IconButton, Input, Menu, MenuItem, TextField, Typography } from \"@mui/material\";\nimport React, { FormEvent, FormEventHandler, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { RootState } from \"../../app/store\";\nimport { selectCategories, selectCategoryById, selectCategoryStatus } from \"../../reducers/categorySlice\";\n// import { selectSearch, updateSearch, updateSelectedCategory } from \"../../reducers/searchSlice\";\nimport CategoryI from \"../../types/CategoryI\";\nimport { FULLFILLED, IDLE } from \"../../utils/states\";\n\ntype Props = {};\n\nconst SearchField = (props: Props) => {\n\tconst navigate = useNavigate();\n\tconst dispatch = useAppDispatch();\n\n\tconst [categoryId, setCategoryId] = useState(1);\n\tconst categories = useAppSelector(selectCategories) || ({} as CategoryI);\n\t// TODO optimize\n\tconst selectedCategory = useAppSelector((state: RootState) => selectCategoryById(state, categoryId)) || ({} as CategoryI);\n\n\tconst [search, setSearch] = useState(\"\");\n\n\tconst [categoriesAnchor, setCategoriesAnchor] = useState<null | HTMLElement>(null);\n\tconst categoriesDropdownOpen = Boolean(categoriesAnchor);\n\n\tconst handleDropdownOpen = (event: React.MouseEvent<HTMLElement>) => {\n\t\tsetCategoriesAnchor(event.currentTarget);\n\t};\n\n\tconst handleDropdownClose = () => {\n\t\tsetCategoriesAnchor(null);\n\t};\n\n\tconst handleSearch = (e: FormEvent<HTMLFormElement>) => {\n\t\te.preventDefault();\n\t\tlet params = new URLSearchParams();\n\t\tparams.set(\"value\", search);\n\t\tparams.set(\"categoryId\", categoryId.toString());\n\t\tnavigate(\"/search?\" + params.toString());\n\t};\n\n\tconst renderCategoriesDropdown = (\n\t\t<Menu\n\t\t\tanchorEl={categoriesAnchor}\n\t\t\tanchorOrigin={{\n\t\t\t\tvertical: \"bottom\",\n\t\t\t\thorizontal: \"left\",\n\t\t\t}}\n\t\t\tkeepMounted\n\t\t\ttransformOrigin={{\n\t\t\t\tvertical: \"top\",\n\t\t\t\thorizontal: \"left\",\n\t\t\t}}\n\t\t\topen={categoriesDropdownOpen}\n\t\t\tonClose={handleDropdownClose}\n\t\t>\n\t\t\t<MenuItem\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetCategoryId(1);\n\t\t\t\t\thandleDropdownClose();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography variant=\"body1\">All Categories</Typography>\n\t\t\t</MenuItem>\n\t\t\t{categories.categoryChildren?.map((category) => (\n\t\t\t\t<MenuItem\n\t\t\t\t\tkey={category.id}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetCategoryId(category.id);\n\t\t\t\t\t\thandleDropdownClose();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Typography variant=\"body1\">{category.categoryName}</Typography>\n\t\t\t\t</MenuItem>\n\t\t\t)) || \"\"}\n\t\t</Menu>\n\t);\n\treturn (\n\t\t<Box onSubmit={handleSearch} component=\"form\" sx={{ border: \"1px solid\", borderColor: \"primary.light\", width: \"100%\", height: \"44px\", display: \"flex\", flexDirection: \"row\", borderRadius: \"20px\", padding: \"2px\", alignItems: \"center\", gap: \"5px\", overflow: \"hidden\" }}>\n\t\t\t<Search sx={{ marginX: \"10px\" }} />\n\t\t\t<TextField value={search} onChange={(e) => setSearch(e.target.value)} placeholder=\"Search...\" sx={{ width: \"100%\" }} variant=\"standard\" focused></TextField>\n\t\t\t<Button onClick={(e) => handleDropdownOpen(e)} sx={{ borderLeft: \"1px solid #DAE1E7\", bgcolor: \"background.default\", height: \"100%\", color: \"primary.dark\", paddingX: \"24px\", textTransform: \"none\", whiteSpace: \"nowrap\" }}>\n\t\t\t\t{categoryId === 1 ? \"All Categories\" : selectedCategory?.categoryName}\n\t\t\t\t<KeyboardArrowDown />\n\t\t\t</Button>\n\t\t\t{renderCategoriesDropdown}\n\t\t</Box>\n\t);\n};\n\nexport default SearchField;\n","import * as React from \"react\";\nimport { styled, alpha } from \"@mui/material/styles\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Typography from \"@mui/material/Typography\";\nimport InputBase from \"@mui/material/InputBase\";\nimport Badge from \"@mui/material/Badge\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Menu from \"@mui/material/Menu\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport AccountCircle from \"@mui/icons-material/AccountCircle\";\nimport MoreIcon from \"@mui/icons-material/MoreVert\";\nimport { AccountBox, AdminPanelSettings, HowToReg, Login, Logout, Search, ShoppingCart } from \"@mui/icons-material\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { logout, selectUser, selectUserIsLogged } from \"../../reducers/authSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport MessageDropdown from \"../MessageDropdown\";\nimport { useState } from \"react\";\nimport CartDrawer from \"../cart/CartDrawer\";\nimport { selectCart, selectCartItemsLength } from \"../../reducers/cartSlice\";\nimport { Button, Container, FormControl, OutlinedInput } from \"@mui/material\";\nimport logo from \"../../static/images/logo2.svg\";\nimport SearchField from \"./SearchField\";\nimport { setMessage } from \"../../reducers/messageSlice\";\ntype Props = {\n\tisAdmin: boolean;\n};\n\nexport default function Navbar({ isAdmin }: Props) {\n\tconst navigate = useNavigate();\n\t// cart\n\tconst [cartOpen, setCartOpen] = useState(false);\n\tconst onCartClose = () => {\n\t\tsetCartOpen(false);\n\t};\n\t//mobile menu\n\tconst mobileMenuId = \"primary-search-account-menu-mobile\";\n\tconst [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState<null | HTMLElement>(null);\n\tconst loggedIn = useAppSelector(selectUserIsLogged);\n\tconst cartItemsLength = useAppSelector(selectCartItemsLength);\n\tconst isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\tconst dispatch = useAppDispatch();\n\tconst handleMobileMenuClose = () => {\n\t\tsetMobileMoreAnchorEl(null);\n\t};\n\n\tconst handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n\t\tsetMobileMoreAnchorEl(event.currentTarget);\n\t};\n\n\tconst renderMobileMenu = (\n\t\t<Menu\n\t\t\tanchorEl={mobileMoreAnchorEl}\n\t\t\tanchorOrigin={{\n\t\t\t\tvertical: \"top\",\n\t\t\t\thorizontal: \"right\",\n\t\t\t}}\n\t\t\tid={mobileMenuId}\n\t\t\tkeepMounted\n\t\t\ttransformOrigin={{\n\t\t\t\tvertical: \"top\",\n\t\t\t\thorizontal: \"right\",\n\t\t\t}}\n\t\t\topen={isMobileMenuOpen}\n\t\t\tonClose={handleMobileMenuClose}\n\t\t>\n\t\t\t{loggedIn ? (\n\t\t\t\t<div>\n\t\t\t\t\t<MenuItem onClick={() => navigate(\"/profile\")}>\n\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"account of current user\" aria-controls=\"primary-search-account-menu\" aria-haspopup=\"true\" color=\"inherit\">\n\t\t\t\t\t\t\t<AccountBox />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<p>Profile</p>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t\t<MenuItem onClick={() => setCartOpen(!cartOpen)}>\n\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"Open cart\" color=\"inherit\">\n\t\t\t\t\t\t\t<Badge badgeContent={17} color=\"error\">\n\t\t\t\t\t\t\t\t<ShoppingCart />\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<p>Cart</p>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t\t{isAdmin ? (\n\t\t\t\t\t\t<MenuItem onClick={() => navigate(\"/admin\")}>\n\t\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"account of current user\" aria-controls=\"primary-search-account-menu\" aria-haspopup=\"true\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<AdminPanelSettings />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t<p>Admin Panel</p>\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t\t<MenuItem onClick={() => dispatch(logout())}>\n\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"account of current user\" aria-controls=\"primary-search-account-menu\" aria-haspopup=\"true\" color=\"inherit\">\n\t\t\t\t\t\t\t<Logout />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<p>Logout</p>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div>\n\t\t\t\t\t<MenuItem onClick={() => navigate(\"/login\")}>\n\t\t\t\t\t\t{/* // zmienic na check czy jest user */}\n\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"account of current user\" aria-controls=\"primary-search-account-menu\" aria-haspopup=\"true\" color=\"inherit\">\n\t\t\t\t\t\t\t<Login />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<p>Login</p>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t\t<MenuItem onClick={() => navigate(\"/register\")}>\n\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"account of current user\" aria-controls=\"primary-search-account-menu\" aria-haspopup=\"true\" color=\"inherit\">\n\t\t\t\t\t\t\t<HowToReg />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<p>Register</p>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Menu>\n\t);\n\t// Login Menu\n\tconst loginMenuId = \"login-menu\";\n\tconst [loginAnchorEl, setloginAnchorEl] = React.useState<null | HTMLElement>(null);\n\n\tconst isLoginMenuOpen = Boolean(loginAnchorEl);\n\n\tconst handleLoginMenuClose = () => {\n\t\tsetloginAnchorEl(null);\n\t};\n\n\tconst handleLoginMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n\t\tsetloginAnchorEl(event.currentTarget);\n\t};\n\tconst renderLoginMenu = (\n\t\t<Menu\n\t\t\tanchorEl={loginAnchorEl}\n\t\t\tanchorOrigin={{\n\t\t\t\tvertical: \"bottom\",\n\t\t\t\thorizontal: \"right\",\n\t\t\t}}\n\t\t\tkeepMounted\n\t\t\ttransformOrigin={{\n\t\t\t\tvertical: \"top\",\n\t\t\t\thorizontal: \"right\",\n\t\t\t}}\n\t\t\topen={isLoginMenuOpen}\n\t\t\tonClose={handleLoginMenuClose}\n\t\t>\n\t\t\t{loggedIn ? (\n\t\t\t\t<div>\n\t\t\t\t\t<MenuItem onClick={() => navigate(\"/profile\")}>\n\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"account of current user\" aria-controls=\"primary-search-account-menu\" aria-haspopup=\"true\" color=\"inherit\">\n\t\t\t\t\t\t\t<AccountBox />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<p>Profile</p>\n\t\t\t\t\t</MenuItem>\n\n\t\t\t\t\t{isAdmin ? (\n\t\t\t\t\t\t<MenuItem onClick={() => navigate(\"/admin\")}>\n\t\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"account of current user\" aria-controls=\"primary-search-account-menu\" aria-haspopup=\"true\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<AdminPanelSettings />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t<p>Admin Panel</p>\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t\t<MenuItem onClick={() => dispatch(logout())}>\n\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"account of current user\" aria-controls=\"primary-search-account-menu\" aria-haspopup=\"true\" color=\"inherit\">\n\t\t\t\t\t\t\t<Logout />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<p>Logout</p>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div>\n\t\t\t\t\t<MenuItem onClick={() => navigate(\"/login\")}>\n\t\t\t\t\t\t{/* // zmienic na check czy jest user */}\n\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"account of current user\" aria-controls=\"primary-search-account-menu\" aria-haspopup=\"true\" color=\"inherit\">\n\t\t\t\t\t\t\t<Login />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<p>Login</p>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t\t<MenuItem onClick={() => navigate(\"/register\")}>\n\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"account of current user\" aria-controls=\"primary-search-account-menu\" aria-haspopup=\"true\" color=\"inherit\">\n\t\t\t\t\t\t\t<HowToReg />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<p>Register</p>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Menu>\n\t);\n\treturn (\n\t\t<>\n\t\t\t<Box sx={{ zIndex: \"1203\", position: \"relative\" }}>\n\t\t\t\t<MessageDropdown />\n\t\t\t\t<Box sx={{ height: \"80px\", backgroundColor: \"primary.main\" }}>\n\t\t\t\t\t<Container maxWidth=\"lg\" sx={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", gap: \"16px\", height: \"100%\" }}>\n\t\t\t\t\t\t<Button onClick={() => navigate(\"/\")} component=\"div\" sx={{ display: { xs: \"none\", sm: \"flex\" }, height: \"100%\" }}>\n\t\t\t\t\t\t\t<img src={logo} alt=\"logo\" style={{ objectFit: \"scale-down\", height: \"100%\" }} />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Box sx={{ flex: \"1 1 0\", display: \"flex\", alignItems: \"center\" }}>\n\t\t\t\t\t\t\t<Box sx={{ maxWidth: \"670px\", marginX: \"auto\", width: \"100%\" }}>\n\t\t\t\t\t\t\t\t<SearchField />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t<Box sx={{ display: { xs: \"none\", md: \"flex\" } }}>\n\t\t\t\t\t\t\t<IconButton onClick={handleLoginMenuOpen} size=\"large\" aria-label=\"account of current user\" aria-haspopup=\"true\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<AccountCircle />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t<IconButton onClick={() => (loggedIn ? setCartOpen(!cartOpen) : dispatch(setMessage({ message: \"Log In First\", error: false })))} size=\"large\" aria-label=\"Open cart\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<Badge badgeContent={cartItemsLength} color=\"error\">\n\t\t\t\t\t\t\t\t\t<ShoppingCart />\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box sx={{ display: { xs: \"flex\", md: \"none\" } }}>\n\t\t\t\t\t\t\t<IconButton size=\"large\" aria-label=\"show more\" aria-controls={mobileMenuId} aria-haspopup=\"true\" onClick={handleMobileMenuOpen} color=\"inherit\">\n\t\t\t\t\t\t\t\t<MoreIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\n\t\t\t\t{renderMobileMenu}\n\t\t\t\t{renderLoginMenu}\n\t\t\t</Box>\n\t\t\t<CartDrawer open={cartOpen} onClose={onCartClose} />\n\t\t</>\n\t);\n}\n","import * as React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Card from \"@mui/material/Card\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport { Add, AddBoxOutlined, Favorite, FavoriteBorder, Remove, TrySharp } from \"@mui/icons-material\";\nimport { CardMedia, Chip, IconButton, Rating } from \"@mui/material\";\nimport { useState } from \"react\";\nimport ProductI from \"../../types/ProductI\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { BASE_IMAGE_URL } from \"../../utils/BaseImageUrl\";\nimport { addToCart, changeQuantity, selectCartItemByProductId, selectExistsInCart } from \"../../reducers/cartSlice\";\nimport { gridColumnsTotalWidthSelector } from \"@mui/x-data-grid\";\nimport { addFavorite, deleteFavorite } from \"../../reducers/productsSlice\";\nimport { Link } from \"react-router-dom\";\ntype ProductProps = {\n\tproduct: ProductI;\n};\n\nconst Product = ({ product }: ProductProps) => {\n\tconst dispatch = useAppDispatch();\n\tconst cartItem = useAppSelector((state) => selectCartItemByProductId(state, product.id));\n\tconst existsInCart = cartItem !== undefined;\n\tconst [favorite, setFavorite] = useState(product.favorite);\n\tconst handleClickFavorite = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\te.preventDefault();\n\t\tlet res;\n\t\tif (!favorite) {\n\t\t\tres = await dispatch(addFavorite(product.id));\n\t\t} else {\n\t\t\tconsole.log(product);\n\t\t\tres = await dispatch(deleteFavorite(product.id));\n\t\t}\n\t\tif (res.meta.requestStatus !== \"rejected\") {\n\t\t\tsetFavorite(!favorite);\n\t\t}\n\t};\n\treturn (\n\t\t<Card sx={{ minWidth: 275, backgroundColor: \"primary.main\", margin: \"5px\", display: \"flex\", flexDirection: \"column\", height: \"100%\", maxWidth: \"440px\" }}>\n\t\t\t<Box sx={{ display: \"inline-block\", position: \"relative\", marginBottom: \"5px\", maxWidth: \"440px\", maxHeight: \"440px\", aspectRatio: \"1/1\", width: \"100%\", height: \"100%\" }}>\n\t\t\t\t<Chip sx={{ top: \"10px\", left: \"10px\", position: \"absolute\" }} label=\"5% off\" variant=\"filled\" size=\"small\" color=\"secondary\" />\n\t\t\t\t<IconButton sx={{ padding: \"5px\", paddingBottom: \"0\", top: \"7px\", right: \"15px\", position: \"absolute\" }} aria-label=\"favorite\" onClick={(e) => handleClickFavorite(e)}>\n\t\t\t\t\t{favorite ? <Favorite color=\"secondary\" /> : <FavoriteBorder />}\n\t\t\t\t</IconButton>\n\t\t\t\t<Link to={\"/product/\" + product.slug}>\n\t\t\t\t\t<img style={{ objectFit: \"contain\", width: \"100%\", height: \"100%\", aspectRatio: \"1/1\" }} src={BASE_IMAGE_URL + product.imagesUrl[0]} alt=\"product\" />\n\t\t\t\t</Link>\n\t\t\t</Box>\n\t\t\t<Box sx={{ display: \"flex\", padding: \"1rem\" }}>\n\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"column\", minWidth: \"0px\", justifyContent: \"left\", marginRight: \"auto\" }}>\n\t\t\t\t\t<Link to={\"/product/\" + product.slug}>\n\t\t\t\t\t\t<Typography sx={{ marginY: \"5px\", fontSize: \"14px\", fontWeight: \"500\" }} mt={2} variant=\"h3\" color=\"text.primary\">\n\t\t\t\t\t\t\t{product.name}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Link>\n\n\t\t\t\t\t<Rating size=\"small\" name=\"read-only\" sx={{ marginY: \"5px\" }} value={product.rating} readOnly precision={0.25} />\n\t\t\t\t\t<Typography variant=\"subtitle1\" sx={{ fontSize: 14, color: \"secondary.main\", marginY: \"5px\", fontWeight: \"600\" }}>\n\t\t\t\t\t\t${product.price}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t{existsInCart ? (\n\t\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"column-reverse\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n\t\t\t\t\t\t<Button sx={{ aspectRatio: \"1/1\", margin: 0, minWidth: \"0px\", minHeight: \"0px\", padding: \"3px\" }} size=\"small\" variant=\"outlined\" color=\"secondary\" onClick={() => dispatch(changeQuantity({ id: cartItem.id, quantity: cartItem.quantity + 1 }))}>\n\t\t\t\t\t\t\t<Add fontSize=\"small\" color=\"secondary\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Typography variant=\"subtitle2\" sx={{ fontSize: \"15px\" }}>\n\t\t\t\t\t\t\t{cartItem.quantity}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button sx={{ aspectRatio: \"1/1\", margin: 0, minWidth: \"0px\", minHeight: \"0px\", padding: \"3px\" }} size=\"small\" variant=\"outlined\" color=\"secondary\" onClick={() => dispatch(changeQuantity({ id: cartItem.id, quantity: cartItem.quantity - 1 }))}>\n\t\t\t\t\t\t\t<Remove fontSize=\"small\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t) : (\n\t\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"column-reverse\", alignItems: \"center\", justifyContent: \"flex-start\" }}>\n\t\t\t\t\t\t<Button sx={{ aspectRatio: \"1/1\", margin: 0, minWidth: \"0px\", minHeight: \"0px\", padding: \"3px\" }} variant=\"outlined\" size=\"small\" color=\"secondary\" onClick={() => dispatch(addToCart({ productId: product.id, quantity: 1 }))}>\n\t\t\t\t\t\t\t<Add fontSize=\"small\" color=\"secondary\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</Card>\n\t);\n};\nexport default Product;\n","import { Box, Grid } from \"@mui/material\";\nimport axios from \"axios\";\nimport React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useAppDispatch, useAppSelector } from \"../app/hooks\";\nimport Product from \"../components/Products/Product\";\nimport { fetchProducts, selectError, selectProducts, selectStatus } from \"../reducers/productsSlice\";\nimport \"../static/styles.css\";\nimport ProductParamsI from \"../types/ProductParamI\";\nimport { FAILED, FULLFILLED, IDLE, LOADING } from \"../utils/states\";\nfunction HomePage() {\n\tconst dispatch = useAppDispatch();\n\tconst products = useAppSelector(selectProducts);\n\tconst productStatus = useAppSelector(selectStatus);\n\tconst productError = useAppSelector(selectError);\n\n\tconst fetchConfig: ProductParamsI = {\n\t\tsize: 30,\n\t\tpage: 1,\n\t};\n\n\tuseEffect(() => {\n\t\tdispatch(fetchProducts(fetchConfig));\n\t}, []);\n\n\tlet content: JSX.Element | JSX.Element[] = <p>Idle</p>;\n\n\tif (productStatus === LOADING) {\n\t\tcontent = <p>Loading</p>;\n\t} else if (productStatus === FULLFILLED) {\n\t\tcontent = products.map((product) => (\n\t\t\t<Grid xs={4} sm={4} md={4} lg={3} key={product.id} item>\n\t\t\t\t<Product product={product} />\n\t\t\t</Grid>\n\t\t));\n\t} else if (productStatus === FAILED) {\n\t\tcontent = <p>{productError}</p>;\n\t}\n\n\treturn (\n\t\t<Box sx={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n\t\t\t<Grid container spacing={2} columns={{ xs: 4, sm: 8, md: 12, lg: 12 }} sx={{ width: \"100%\", maxWidth: \"1240px\" }}>\n\t\t\t\t{content}\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n}\n\nexport default HomePage;\n","import { Avatar, Rating, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { NumberLiteralType } from \"typescript\";\n\ntype Props = {\n\tname: string;\n\trating: number;\n\ttimePosted: Date;\n\tmessage: string;\n};\n\nconst Review = ({ name, rating, timePosted, message }: Props) => {\n\treturn (\n\t\t<Box sx={{ width: \"100%\", marginTop: \"30px\" }}>\n\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\" }}>\n\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"row\" }}>\n\t\t\t\t\t<Avatar sx={{ marginX: \"5px\" }} />\n\t\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"center\" }}>\n\t\t\t\t\t\t<Typography variant=\"h5\" sx={{ textTransform: \"capitalize\", marginX: \"5px\", fontSize: \"16px\", fontWeight: \"500\" }}>\n\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Box sx={{ display: \"flex\", alignItems: \"center\", gap: \"5px\" }}>\n\t\t\t\t\t\t\t<Rating value={rating} readOnly></Rating>\n\t\t\t\t\t\t\t<Typography sx={{ marginX: \"5px\", fontSize: \"16px\", fontWeight: \"500\" }}>{rating.toFixed(1)}</Typography>\n\t\t\t\t\t\t\t<Typography sx={{ MarginX: \"5px\", fontSize: \"16px\", fontWeight: \"400\" }}>{moment(timePosted).fromNow()}</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<Typography variant=\"body2\" sx={{ marginTop: \"15px\", fontSize: \"15px\", fontWeight: \"400\" }}>\n\t\t\t\t\t\t{message}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default Review;\n","import { Box, Button, OutlinedInput, Rating, Typography } from \"@mui/material\";\nimport { useState } from \"react\";\n\nimport { useAppDispatch } from \"../../app/hooks\";\nimport { addReview } from \"../../reducers/productsSlice\";\n\ntype Props = {\n\tproductId: number;\n};\n\nconst ReviewForm = ({ productId }: Props) => {\n\tconst [message, setMessage] = useState(\"\");\n\tconst [rating, setRating] = useState(0);\n\tconst dispatch = useAppDispatch();\n\tconst handleSubmit = () => {\n\t\tdispatch(addReview({ productId: productId, review: message, rating: rating }));\n\t\tsetMessage(\"\");\n\t\tsetRating(0);\n\t};\n\treturn (\n\t\t<Box sx={{ width: \"100%\", display: \"flex\", flexDirection: \"column\", marginTop: \"30px\", gap: \"15px\" }}>\n\t\t\t<Typography sx={{ fontSize: \"28px\", fontWeight: \"400\" }}>Write a review</Typography>\n\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t<Typography sx={{ fontSize: \"16px\", color: \"primary.blue\" }}>Your Rating:</Typography>\n\t\t\t\t<Rating onChange={(e, val) => setRating(val || 0)} value={rating} />\n\t\t\t</Box>\n\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t<Typography sx={{ fontSize: \"16px\", color: \"primary.blue\" }}>Your Review:</Typography>\n\t\t\t\t<OutlinedInput value={message} onChange={(e) => setMessage(e.target.value)} color=\"secondary\" multiline placeholder=\"Write a review here...\" rows={4} />\n\t\t\t</Box>\n\t\t\t<Button onClick={handleSubmit} sx={{ width: \"80px\", marginY: \"10px \" }} color=\"secondary\" variant=\"contained\">\n\t\t\t\tSubmit\n\t\t\t</Button>\n\t\t</Box>\n\t);\n};\n\nexport default ReviewForm;\n","import CategoryI from \"../types/CategoryI\";\n\nexport default function getCategoryChain(parsedCategories: CategoryI[], category: CategoryI) {\n\tlet categoryChain = [category];\n\tif (category.id === 1) {\n\t\treturn categoryChain;\n\t}\n\tcategoryChain.push(...getCategoryChain(parsedCategories, parsedCategories.find((c) => c.id === category.parentCategoryId) || ({} as CategoryI)));\n\treturn categoryChain;\n}\n","import { Avatar, Box, Button, Divider, Grid, Rating, Select, Tab, Tabs, Typography } from \"@mui/material\";\nimport { Container } from \"@mui/system\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { useAppDispatch, useAppSelector } from \"../app/hooks\";\nimport productsSlice, { fetchProductBySlug, selectProductBySlug, selectProducts } from \"../reducers/productsSlice\";\nimport ProductI from \"../types/ProductI\";\nimport { FULLFILLED, IDLE, LOADING } from \"../utils/states\";\nimport { BASE_URL } from \"../utils/BaseUrl\";\nimport { BASE_IMAGE_URL } from \"../utils/BaseImageUrl\";\nimport { addToCart, changeQuantity, selectCartItemByProductId } from \"../reducers/cartSlice\";\nimport { Remove, Add } from \"@mui/icons-material\";\nimport Review from \"../components/Products/Review\";\nimport ReviewForm from \"../components/Products/ReviewForm\";\nimport { selectCategories, selectCategoryStatus } from \"../reducers/categorySlice\";\nimport ParseCategories from \"../utils/ParseCategories\";\nimport CategoryI from \"../types/CategoryI\";\nimport getCategoryChain from \"../utils/GetCategoryChain\";\n\nfunction ProductPage() {\n\tconst { slug } = useParams();\n\tconst dispatch = useAppDispatch();\n\tconst [selectedProductUrl, setSelectedProductUrl] = useState(0);\n\tconst product = useAppSelector((state) => selectProductBySlug(state, slug || \"\"));\n\tconst cartItem = useAppSelector((state) => selectCartItemByProductId(state, product?.id || 0));\n\tconst categories = useAppSelector(selectCategories);\n\tconst categoriesStatus = useAppSelector(selectCategoryStatus);\n\tlet categoryChainElement = undefined;\n\tconst [tabValue, setTabValue] = useState(0);\n\tuseEffect(() => {\n\t\tdispatch(fetchProductBySlug(slug || \"\"));\n\t}, [slug]);\n\tif (product === undefined) {\n\t\treturn <p>Loading</p>;\n\t}\n\tconst handleChange = (event: React.SyntheticEvent, newValue: number) => {\n\t\tsetTabValue(newValue);\n\t};\n\tconst existsInCart = cartItem !== undefined;\n\tif (product === undefined) {\n\t\treturn <p>Loading</p>;\n\t}\n\tif (categoriesStatus === FULLFILLED) {\n\t\tconst parsedCategories = ParseCategories(categories || ({} as CategoryI));\n\t\tconst categoryChain = getCategoryChain(parsedCategories, parsedCategories.find((c) => c.id === product?.categoryId) || ({} as CategoryI)).reverse();\n\t\tcategoryChainElement = (\n\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\", marginBottom: \"10px\" }}>\n\t\t\t\t{categoryChain.map((val, index) => {\n\t\t\t\t\tif (val.id == 1) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Typography variant=\"body2\" sx={{ fontSize: \"12px\", fontWeight: \"500\", marginBottom: \"15px\" }}>\n\t\t\t\t\t\t\t\t{\"Bazar \"} {index == categoryChain.length - 1 ? \"\" : \"-->\"}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Typography variant=\"body2\" sx={{ fontSize: \"12px\", fontWeight: \"500\", marginBottom: \"15px\" }}>\n\t\t\t\t\t\t\t{val.categoryName} {index == categoryChain.length - 1 ? \"\" : \"-->\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t);\n\t}\n\treturn (\n\t\t<Box sx={{ width: \"100%\", height: \"auto\", position: \"sticky\", backgroundColor: \"primary.main\", overflow: \"hidden\" }}>\n\t\t\t<Grid container maxWidth=\"lg\" columns={12} sx={{ paddingTop: \"24px\", marginBottom: \"16px\", marginX: \" auto\" }}>\n\t\t\t\t<Grid item xs={12} md={6} sx={{ paddingX: \"24px\", alignItems: \"center\", flexDirection: \"column\", display: \"flex\" }}>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<img src={BASE_IMAGE_URL + product.imagesUrl[selectedProductUrl]} style={{ objectFit: \"contain\", height: \"350px\", width: \"350px\" }} alt={\"Main Image\"} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box sx={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", flexDirection: \"row\", gap: \"10px\" }}>\n\t\t\t\t\t\t{product.imagesUrl.map((_, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Box key={index} onClick={() => setSelectedProductUrl(index)} sx={{ border: \"1px solid\", borderColor: [selectedProductUrl === index ? \"secondary.main\" : \"primary.light\"], borderRadius: \"10px\", width: \"64px\", height: \"64px\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n\t\t\t\t\t\t\t\t\t<Avatar sx={{ height: \"40px\" }} variant=\"square\">\n\t\t\t\t\t\t\t\t\t\t<img src={BASE_IMAGE_URL + product.imagesUrl[index]} alt=\"\" style={{ width: \"inherit\", height: \"inherit\", objectFit: \"fill\" }} />\n\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={6} sx={{ paddingLeft: \"10px\" }}>\n\t\t\t\t\t<Typography variant=\"h1\" sx={{ fontSize: \"30px\", fontWeight: \"600\", marginBottom: \"20px\" }}>\n\t\t\t\t\t\t{product.name}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{categoryChainElement !== undefined ? categoryChainElement : <p>...</p>}\n\t\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\", marginBottom: \"20px\" }}>\n\t\t\t\t\t\t<span>Ratings:</span>\n\t\t\t\t\t\t<Rating value={product.rating} readOnly size=\"small\" sx={{ marginX: \"5px\" }} precision={0.25} />\n\t\t\t\t\t\t<span>({product.ratingCount})</span>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box sx={{ marginBottom: \"20px\" }}>\n\t\t\t\t\t\t<Typography variant=\"h2\" sx={{ fontSize: \"25px\", fontWeight: \"600\", color: \"secondary.main\", marginBottom: \"15x\" }}>\n\t\t\t\t\t\t\t${product.price.toFixed(2)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<span>Stock available</span>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t{existsInCart ? (\n\t\t\t\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\", paddingBottom: \"0px\" }}>\n\t\t\t\t\t\t\t\t<Button sx={{ border: \"1px solid\", aspectRatio: \"1/1\", minWidth: \"0px\", minHeight: \"0px\", padding: \"5px\" }} color=\"secondary\" onClick={() => dispatch(changeQuantity({ id: cartItem.id, quantity: cartItem.quantity - 1 }))}>\n\t\t\t\t\t\t\t\t\t<Remove fontSize=\"small\" color={\"secondary\"} />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle2\" sx={{ fontSize: \"15px\", marginX: \"15px\" }}>\n\t\t\t\t\t\t\t\t\t{cartItem.quantity}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Button sx={{ border: \"1px solid\", aspectRatio: \"1/1\", minWidth: \"0px\", minHeight: \"0px\", padding: \"5px\" }} color=\"secondary\" onClick={() => dispatch(changeQuantity({ id: cartItem.id, quantity: cartItem.quantity + 1 }))}>\n\t\t\t\t\t\t\t\t\t<Add fontSize=\"small\" color=\"secondary\" />\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={(e) => dispatch(addToCart({ productId: product.id, quantity: 1 }))}>\n\t\t\t\t\t\t\t\tAdd To Cart\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Container maxWidth=\"lg\">\n\t\t\t\t<Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\n\t\t\t\t\t<Tabs indicatorColor=\"secondary\" textColor=\"secondary\" value={tabValue} onChange={handleChange} aria-label=\"basic tabs example\">\n\t\t\t\t\t\t<Tab label=\"Description\" sx={{ textTransform: \"none\" }} id=\"description\" aria-controls=\"description\" />\n\t\t\t\t\t\t<Tab label={`Reviews (${product.ratingCount})`} sx={{ textTransform: \"none\" }} id=\"review\" aria-controls=\"review\" />\n\t\t\t\t\t</Tabs>\n\t\t\t\t</Box>\n\t\t\t\t<Box id=\"description\" aria-labelledby={`description`} hidden={tabValue !== 0} sx={{ margin: \"16px\" }}>\n\t\t\t\t\t<Typography variant=\"h3\" sx={{ fontSize: \"20px\", fontWeight: \"500\", marginBottom: \"16px\" }}>\n\t\t\t\t\t\tDescription:\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body2\">{product.description}</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box id=\"review\" aria-labelledby={`review`} hidden={tabValue !== 1} sx={{ margin: \"20px\" }}>\n\t\t\t\t\t{product?.reviews?.map((review) => (\n\t\t\t\t\t\t<Review key={\"review\" + review?.id} name={review.name} rating={review.rating} timePosted={review.postDate} message={review.review} />\n\t\t\t\t\t))}\n\t\t\t\t\t<ReviewForm productId={product.id} />\n\t\t\t\t</Box>\n\t\t\t</Container>\n\t\t</Box>\n\t);\n}\n\nexport default ProductPage;\n","import * as React from \"react\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Button from \"@mui/material/Button\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport { Link, Navigate, useNavigate } from \"react-router-dom\";\nimport Grid from \"@mui/material/Grid\";\nimport Box from \"@mui/material/Box\";\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport { useAppDispatch, useAppSelector } from \"../app/hooks\";\nimport { register, selectUserIsLogged } from \"../reducers/authSlice\";\nimport RegisterParams from \"../types/RegisterParams\";\n\nexport default function RegisterPage() {\n\tconst [formData, setFormData] = React.useState<RegisterParams>({\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t\temail: \"\",\n\t\tname: \"\",\n\t\tsurname: \"\",\n\t});\n\tconst navigate = useNavigate();\n\tconst dispatch = useAppDispatch();\n\tconst loggedIn = useAppSelector(selectUserIsLogged);\n\tif (loggedIn) {\n\t\tnavigate(\"/\");\n\t}\n\tconst handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tconst { failed } = await dispatch(register(formData)).unwrap();\n\t\t\tif (!failed) {\n\t\t\t\tnavigate(\"/login\");\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t};\n\tconst handleChanged = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n\t\tsetFormData((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n\t};\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmarginTop: 8,\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Avatar sx={{ m: 1, bgcolor: \"secondary.main\" }}>\n\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tSign up\n\t\t\t\t</Typography>\n\t\t\t\t<Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 3 }}>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} color=\"info\" autoComplete=\"given-name\" name=\"name\" required fullWidth id=\"firstName\" label=\"First Name\" autoFocus />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} color=\"info\" required fullWidth id=\"lastName\" label=\"Last Name\" name=\"surname\" autoComplete=\"family-name\" />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} color=\"info\" required fullWidth id=\"username\" label=\"Username\" name=\"username\" autoComplete=\"nickname\" />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} inputProps={{ pattern: \"^[a-zA-Z0-9._:$!%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]$\" }} color=\"info\" required fullWidth id=\"email\" label=\"Email Address\" name=\"email\" autoComplete=\"email\" />\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} inputProps={{ pattern: \"^(?=.*?[A-Za-z])(?=.*?[0-9]).{6,}$\" }} color=\"info\" required fullWidth name=\"password\" label=\"Password\" type=\"password\" id=\"password\" autoComplete=\"new-password\" />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2, color: \"primary.darker\" }}>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Link to=\"/login\">\n\t\t\t\t\t\t\t\t<Typography color=\"primary.blue\" variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t\tAlready have an account? Sign in\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t);\n}\n","import * as React from \"react\";\nimport Avatar from \"@mui/material/Avatar\";\nimport Button from \"@mui/material/Button\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Grid from \"@mui/material/Grid\";\nimport Box from \"@mui/material/Box\";\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport LoginParams from \"../types/LoginParams\";\nimport { useAppDispatch, useAppSelector } from \"../app/hooks\";\nimport { login, selectUser, selectUserIsLogged } from \"../reducers/authSlice\";\nimport { fetchCart } from \"../reducers/cartSlice\";\n\ninterface FormData {\n\tusername: string;\n\tpassword: string;\n}\n\nexport default function LoginPage() {\n\tconst dispatch = useAppDispatch();\n\tconst navigate = useNavigate();\n\tconst loggedIn = useAppSelector(selectUserIsLogged);\n\tif (loggedIn) {\n\t}\n\tconst [formData, setFormData] = React.useState<LoginParams>({\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t});\n\tconst handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tconst result = await dispatch(login(formData));\n\t\t\tif (result.meta.requestStatus === \"fulfilled\") {\n\t\t\t\tdispatch(fetchCart());\n\t\t\t}\n\t\t\tnavigate(\"/\");\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t};\n\tconst handleChanged = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n\t\tsetFormData((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n\t};\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmarginTop: 8,\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Avatar sx={{ m: 1, bgcolor: \"secondary.main\" }}>\n\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tSign in\n\t\t\t\t</Typography>\n\t\t\t\t<Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1 }}>\n\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} color=\"info\" sx={{ color: \"text.main\" }} margin=\"normal\" required fullWidth label=\"Username\" name=\"username\" autoComplete=\"username\" autoFocus />\n\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} color=\"info\" margin=\"normal\" required fullWidth name=\"password\" label=\"Password\" type=\"password\" id=\"password\" autoComplete=\"current-password\" />\n\t\t\t\t\t<Button type=\"submit\" fullWidth variant=\"contained\" sx={{ mt: 3, mb: 2 }}>\n\t\t\t\t\t\tSign In\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t<Link to=\"/\">\n\t\t\t\t\t\t\t\t<Typography color=\"primary.blue\" variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t\tForgot password?\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Link to=\"/register\">\n\t\t\t\t\t\t\t\t<Typography color=\"primary.blue\" variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t\tDon't have an account? Sign Up\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t);\n}\n","import { LocationOn, Person, ShoppingBagOutlined } from \"@mui/icons-material\";\nimport { Paper, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { selectAddress } from \"../../reducers/addressSlice\";\nimport { selectOrders } from \"../../reducers/orderSlice\";\nimport { selectFavoriteProducts } from \"../../reducers/productsSlice\";\n\ntype Props = {};\n\nconst Dashboard = (props: Props) => {\n\tconst [selectedPage, setSelectedPage] = useState(\"\");\n\tconst handleClick = (name: string) => {\n\t\tsetSelectedPage(name);\n\t};\n\tconst favoriteCount = useAppSelector(selectFavoriteProducts).length;\n\tconst addressCount = useAppSelector(selectAddress).length;\n\tconst orderCount = useAppSelector(selectOrders).length;\n\tconst boxStyle = (val: string) => {\n\t\treturn { display: \"flex\", alignItems: \"center\", marginY: \"1rem\", borderLeft: selectedPage == `${val}` ? \"4px solid #d23f57\" : \"\", \"&:hover\": { borderLeft: \"4px solid #d23f57\" } };\n\t};\n\treturn (\n\t\t<Paper sx={{ padding: \"24px\" }} elevation={1}>\n\t\t\t<Typography color=\"primary.gray\" variant=\"body1\" sx={{ fontSize: \"14px\", marginBottom: \"10px\" }}>\n\t\t\t\tDASHBOARD\n\t\t\t</Typography>\n\t\t\t<Link to=\"/profile/orders\" onClick={() => handleClick(\"orders\")}>\n\t\t\t\t<Box sx={boxStyle(\"orders\")}>\n\t\t\t\t\t<ShoppingBagOutlined color={selectedPage == \"orders\" ? \"secondary\" : \"inherit\"} fontSize=\"small\" />\n\t\t\t\t\t<Typography variant=\"body2\" sx={{ color: selectedPage == \"orders\" ? \"secondary.main\" : \"black\", \"&:hover\": { color: \"secondary.main\" } }}>\n\t\t\t\t\t\tOrders\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body2\" sx={{ marginLeft: \"auto\" }}>\n\t\t\t\t\t\t{orderCount}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Link>\n\t\t\t<Link to=\"/profile/wishlist\" onClick={() => handleClick(\"wishlist\")}>\n\t\t\t\t<Box sx={boxStyle(\"wishlist\")}>\n\t\t\t\t\t<ShoppingBagOutlined color={selectedPage == \"wishlist\" ? \"secondary\" : \"inherit\"} fontSize=\"small\" />\n\t\t\t\t\t<Typography variant=\"body2\" sx={{ color: selectedPage == \"wishlist\" ? \"secondary.main\" : \"black\", \"&:hover\": { color: \"secondary.main\" } }}>\n\t\t\t\t\t\tWishlist\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body2\" sx={{ marginLeft: \"auto\" }}>\n\t\t\t\t\t\t{favoriteCount}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Link>\n\t\t\t<Typography color=\"primary.gray\" variant=\"body1\" sx={{ fontSize: \"14px\", marginToY: \"20px 10px\" }}>\n\t\t\t\tPROFILE\n\t\t\t</Typography>\n\t\t\t<Link to=\"/profile\" onClick={() => handleClick(\"profile\")}>\n\t\t\t\t<Box sx={boxStyle(\"profile\")}>\n\t\t\t\t\t<Person color={selectedPage == \"profile\" ? \"secondary\" : \"inherit\"} fontSize=\"small\" />\n\t\t\t\t\t<Typography variant=\"body2\" sx={{ color: selectedPage == \"profile\" ? \"secondary.main\" : \"black\", \"&:hover\": { color: \"secondary.main\" } }}>\n\t\t\t\t\t\tProfile info\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</Link>\n\t\t</Paper>\n\t);\n};\n\nexport default Dashboard;\n","import { ArrowForward, ShoppingBag } from \"@mui/icons-material\";\nimport { Box, Chip, IconButton, Paper, Typography } from \"@mui/material\";\nimport React from \"react\";\nimport { Navigate, useNavigate } from \"react-router\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { selectOrders } from \"../../reducers/orderSlice\";\nimport OrderGetI from \"../../types/OrderGetI\";\n\ntype Props = {\n\torders: OrderGetI[];\n};\nconst StyledText = ({ text }: { text: string | JSX.Element }) => (\n\t<Typography variant=\"h3\" sx={{ fontSize: \"16px\", fontWeight: \"600\", marginX: \"12px\", flex: \"1 1 0\" }} color=\"primary.gray\">\n\t\t{text}\n\t</Typography>\n);\n\nconst Orders = ({ orders }: Props) => {\n\tconst navigate = useNavigate();\n\tconsole.log(orders);\n\n\treturn (\n\t\t<Box>\n\t\t\t<Paper elevation={0} sx={{ display: \"flex\", flexDirection: \"row\", padding: \"5px\", alignItems: \"center\", backgroundColor: \"background.default\" }}>\n\t\t\t\t<ShoppingBag color=\"secondary\" />\n\t\t\t\t<Typography variant=\"h2\" sx={{ fontSize: \"25px\", fontWeight: \"bold\", marginX: \"12px\" }}>\n\t\t\t\t\tMy Orders\n\t\t\t\t</Typography>\n\t\t\t</Paper>\n\t\t\t<Paper elevation={0} sx={{ display: \"flex\", flexDirection: \"row\", padding: \"5px\", alignItems: \"center\", backgroundColor: \"background.default\" }}>\n\t\t\t\t<StyledText text=\"Order #\" />\n\n\t\t\t\t<StyledText text=\"Status\" />\n\n\t\t\t\t<StyledText text=\"Date Purchased\" />\n\n\t\t\t\t<StyledText text=\"Total\" />\n\n\t\t\t\t<Typography variant=\"h3\" sx={{ fontSize: \"16px\", fontWeight: \"600\", marginX: \"12px\", flex: \"0 0 0px\" }} color=\"primary.gray\"></Typography>\n\t\t\t</Paper>\n\t\t\t{orders.map((order) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Paper key={order.id} elevation={4} sx={{ display: \"flex\", flexDirection: \"row\", padding: \"5px\", alignItems: \"center\", marginY: \"10px\" }}>\n\t\t\t\t\t\t<StyledText text={\"#\" + order.id} />\n\t\t\t\t\t\t<StyledText text={<Chip color=\"secondary\" label={order.status} />} />\n\t\t\t\t\t\t<StyledText text={new Date(order.timeOrdered).toLocaleDateString()} />\n\t\t\t\t\t\t<StyledText text={\"$\" + order.totalCost.toFixed(2)} />\n\t\t\t\t\t\t<IconButton onClick={() => navigate(\"/profile/orders/\" + order.id)} sx={{ flex: \"0 0 0px\" }}>\n\t\t\t\t\t\t\t<ArrowForward />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Paper>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Box>\n\t);\n};\n\nexport default Orders;\n","import { ShoppingBag } from \"@mui/icons-material\";\nimport { Grid, Box, Paper, Typography } from \"@mui/material\";\nimport React, { useEffect } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { selectProducts, selectStatus, selectError, fetchProducts, selectFavoriteProducts } from \"../../reducers/productsSlice\";\nimport ProductParamsI from \"../../types/ProductParamI\";\nimport { IDLE, LOADING, FULLFILLED, FAILED } from \"../../utils/states\";\nimport Product from \"../Products/Product\";\n\ntype Props = {};\n\nconst WishList = (props: Props) => {\n\tconst dispatch = useAppDispatch();\n\tconst products = useAppSelector(selectFavoriteProducts);\n\tconst productStatus = useAppSelector(selectStatus);\n\tconst productError = useAppSelector(selectError);\n\tconsole.log(products);\n\tconst fetchConfig: ProductParamsI = {\n\t\tsize: 30,\n\t\tpage: 1,\n\t};\n\n\tuseEffect(() => {\n\t\tif (productStatus === IDLE) {\n\t\t\tdispatch(fetchProducts(fetchConfig));\n\t\t}\n\t}, [dispatch]);\n\n\tlet content: JSX.Element | JSX.Element[] = <p>Idle</p>;\n\n\tif (productStatus === LOADING) {\n\t\tcontent = <p>Loading</p>;\n\t} else if (productStatus === FULLFILLED) {\n\t\tcontent = products.map((product) => (\n\t\t\t<Grid xs={4} sm={4} md={4} lg={4} key={product.id} item>\n\t\t\t\t<Product product={product} />\n\t\t\t</Grid>\n\t\t));\n\t} else if (productStatus === FAILED) {\n\t\tcontent = <p>{productError}</p>;\n\t}\n\n\treturn (\n\t\t<Box sx={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t<Paper elevation={0} sx={{ display: \"flex\", flexDirection: \"row\", padding: \"5px\", alignItems: \"center\", backgroundColor: \"background.default\" }}>\n\t\t\t\t<ShoppingBag color=\"secondary\" />\n\t\t\t\t<Typography variant=\"h2\" sx={{ fontSize: \"25px\", fontWeight: \"bold\", marginX: \"12px\" }}>\n\t\t\t\t\tMy Wishlist\n\t\t\t\t</Typography>\n\t\t\t</Paper>\n\t\t\t<Grid container spacing={2} columns={{ xs: 4, sm: 8, lg: 12 }}>\n\t\t\t\t{content}\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n};\n\nexport default WishList;\n","import { ShoppingBag } from \"@mui/icons-material\";\nimport { Paper, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React from \"react\";\n\ntype Props = {};\n\nconst Profile = (props: Props) => {\n\treturn (\n\t\t<Box>\n\t\t\t<Paper elevation={0} sx={{ display: \"flex\", flexDirection: \"row\", padding: \"5px\", alignItems: \"center\", backgroundColor: \"background.default\" }}>\n\t\t\t\t<ShoppingBag color=\"secondary\" />\n\t\t\t\t<Typography variant=\"h2\" sx={{ fontSize: \"25px\", fontWeight: \"bold\", marginX: \"12px\" }}>\n\t\t\t\t\tMy Profile\n\t\t\t\t</Typography>\n\t\t\t</Paper>\n\t\t</Box>\n\t);\n};\n\nexport default Profile;\n","import { Box, Typography, Divider } from \"@mui/material\";\nimport React from \"react\";\nimport CartI from \"../../types/CartI\";\nimport { CalculateTotalCost } from \"../../utils/CalculateTotalCost\";\n\ntype Props = {\n\tcart: CartI;\n};\n\nconst OrderList = ({ cart }: Props) => {\n\treturn (\n\t\t<Box sx={{ flexGrow: \"1\" }}>\n\t\t\t<Typography variant=\"h6\" sx={{ fontSize: \"17px\" }}>\n\t\t\t\tYour order\n\t\t\t</Typography>\n\t\t\t<Divider />\n\t\t\t{cart.cartItems.map((item) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Box key={item.id} sx={{ display: \"flex\", marginY: \"8px\", width: \"100%\" }}>\n\t\t\t\t\t\t<Typography variant=\"caption\" sx={{ fontSize: \"13px\", marginBottom: \"12px\", overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<span style={{ fontSize: \"12px\", fontWeight: \"bold\" }}>{item.quantity}</span> x {item.product.name}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Typography variant=\"caption\" sx={{ fontSize: \"13px\", marginLeft: \"auto\" }}>\n\t\t\t\t\t\t\t${(item.quantity * item.product.price).toFixed(2)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t<Divider sx={{ marginY: \"20px\" }} />\n\t\t\t<Box sx={{ display: \"flex\", marginY: \"8px\" }}>\n\t\t\t\t<Typography variant=\"caption\" sx={{ fontSize: \"14px\", marginBottom: \"12px\", color: \"primary.gray\" }}>\n\t\t\t\t\tSubtotal:\n\t\t\t\t</Typography>\n\n\t\t\t\t<Typography variant=\"h6\" sx={{ fontSize: \"14px\", marginLeft: \"auto\" }}>\n\t\t\t\t\t${CalculateTotalCost(cart.cartItems)}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<Box sx={{ display: \"flex\", marginY: \"8px\" }}>\n\t\t\t\t<Typography variant=\"caption\" sx={{ fontSize: \"14px\", marginBottom: \"12px\", color: \"primary.gray\" }}>\n\t\t\t\t\tShipping:\n\t\t\t\t</Typography>\n\n\t\t\t\t<Typography variant=\"h6\" sx={{ fontSize: \"14px\", marginLeft: \"auto\" }}>\n\t\t\t\t\t$9.99\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<Divider sx={{ marginY: \"20px\" }} />\n\t\t\t<Box sx={{ display: \"flex\", marginY: \"8px\" }}>\n\t\t\t\t<Typography variant=\"h6\" sx={{ fontSize: \"14px\", marginBottom: \"12px\" }}>\n\t\t\t\t\tTotal:\n\t\t\t\t</Typography>\n\n\t\t\t\t<Typography variant=\"h6\" sx={{ fontSize: \"14px\", marginLeft: \"auto\" }}>\n\t\t\t\t\t${CalculateTotalCost(cart.cartItems)}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default OrderList;\n","import { ShoppingBag } from \"@mui/icons-material\";\nimport { Avatar, Grid, Paper, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { useNavigate, useParams } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { useAppSelector } from \"../../app/hooks\";\nimport orderSlice, { selectOrders } from \"../../reducers/orderSlice\";\nimport { BASE_IMAGE_URL } from \"../../utils/BaseImageUrl\";\nimport OrderList from \"../checkout/OrderList\";\n\ntype Props = {};\n\nconst Order = (props: Props) => {\n\tconst { id } = useParams();\n\tconst navigate = useNavigate();\n\tconst order = useAppSelector(selectOrders).find((val) => val.id === Number.parseInt(id || \"\"));\n\tconsole.log(order);\n\tif (!order) {\n\t\treturn <p>fetching</p>;\n\t}\n\treturn (\n\t\t<Box display=\"flex\" flexDirection={\"column\"}>\n\t\t\t<Grid container sx={{ minWidth: \"100%\" }} spacing={3}>\n\t\t\t\t<Grid item lg={8} md={8} sm={12} xs={12}>\n\t\t\t\t\t<Paper elevation={0} sx={{ display: \"flex\", flexDirection: \"row\", padding: \"5px\", alignItems: \"center\", backgroundColor: \"background.default\" }}>\n\t\t\t\t\t\t<ShoppingBag color=\"secondary\" />\n\t\t\t\t\t\t<Typography variant=\"h2\" sx={{ fontSize: \"25px\", fontWeight: \"bold\", marginX: \"12px\" }}>\n\t\t\t\t\t\t\tOrder Details\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<Paper>\n\t\t\t\t\t\t<Paper sx={{ bgcolor: \"background.default\", display: \"flex\", flex: \"1 1 0\", padding: \"15px 10px\", justifyContent: \"space-between\" }} elevation={0}>\n\t\t\t\t\t\t\t<Box display={\"flex\"}>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\" fontSize={\"15px\"} color={\"primary.gray\"} marginRight={\"5px\"}>\n\t\t\t\t\t\t\t\t\tOrder ID:\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\" fontSize={\"15px\"} color={\"primary.blue\"}>\n\t\t\t\t\t\t\t\t\t{id}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display={\"flex\"}>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\" fontSize={\"15px\"} color={\"primary.gray\"} marginRight={\"5px\"}>\n\t\t\t\t\t\t\t\t\tOrder placed:\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\" fontSize={\"15px\"} color={\"primary.blue\"}>\n\t\t\t\t\t\t\t\t\t{moment(order.timeOrdered).format(\"DD MMM, YYYY \")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t{order.cartItems.map((cartItem) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Box sx={{ display: \"flex\", alignItems: \"center\", padding: \"16px 20px\" }}>\n\t\t\t\t\t\t\t\t\t<Avatar sx={{ width: \"74px\", height: \"76px\", marginX: \"16px\" }} variant=\"square\">\n\t\t\t\t\t\t\t\t\t\t<img style={{ width: \"100%\", height: \"100%\", objectFit: \"cover\" }} src={BASE_IMAGE_URL + cartItem.product.imagesUrl[0]} alt={cartItem.product.name} />\n\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t<Box sx={{ flex: \"1 1 0\" }}>\n\t\t\t\t\t\t\t\t\t\t<Link to={\"/product/\" + cartItem.product.slug}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\" sx={{ fontSize: \"14px\", fontWeight: \"500\" }}>\n\t\t\t\t\t\t\t\t\t\t\t\t{cartItem.product.name}\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" sx={{ fontSize: \"10px\" }}>\n\t\t\t\t\t\t\t\t\t\t\t${cartItem.product.price} x {cartItem.quantity}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\" color=\"secondary\" sx={{ fontSize: \"14px\", fontWeight: \"500\" }}>\n\t\t\t\t\t\t\t\t\t\t\t${(cartItem.product.price * cartItem.quantity).toFixed(2)}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg={4} md={4} sm={12} xs={12}>\n\t\t\t\t\t<OrderList cart={{ cartItems: order.cartItems, totalCost: order.totalCost }} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid gridRow={1} item md={12} xs={12}>\n\t\t\t\t\t<Paper sx={{ flexDirection: \"column\", padding: \"15px 25px\", marginY: \"20px\", width: \"60%\" }}>\n\t\t\t\t\t\t<Typography variant=\"body1\" fontSize={\"16px\"} fontWeight={\"bold\"} marginBottom={\"10px\"}>\n\t\t\t\t\t\t\tShipping Address\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" fontSize={\"16px\"}>\n\t\t\t\t\t\t\tStreet Line: {order.deliveryAddress.streetLine}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" fontSize={\"16px\"}>\n\t\t\t\t\t\t\tCity: {order.deliveryAddress.city}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" fontSize={\"16px\"}>\n\t\t\t\t\t\t\tZip Code: {order.deliveryAddress.zipCode}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\" fontSize={\"16px\"}>\n\t\t\t\t\t\t\tPhone Number: {order.deliveryAddress.phoneNumber}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n};\n\nexport default Order;\n","import { Grid } from \"@mui/material\";\nimport React, { useEffect } from \"react\";\nimport { Route, Routes } from \"react-router\";\nimport Dashboard from \"../components/profile/Dashboard\";\nimport Orders from \"../components/profile/Orders\";\nimport { Container } from \"@mui/system\";\nimport WishList from \"../components/profile/WishList\";\nimport { useAppDispatch, useAppSelector } from \"../app/hooks\";\nimport { fetchOrders, selectOrders, selectOrdersStatus } from \"../reducers/orderSlice\";\nimport { IDLE } from \"../utils/states\";\nimport Profile from \"../components/profile/Profile\";\nimport Order from \"../components/profile/Order\";\n\ntype Props = {};\n\nconst ProfilePage = (props: Props) => {\n\tconst orders = useAppSelector(selectOrders);\n\tconst dispatch = useAppDispatch();\n\tconst ordersStatus = useAppSelector(selectOrdersStatus);\n\n\tuseEffect(() => {\n\t\tif (ordersStatus === IDLE) {\n\t\t\tdispatch(fetchOrders());\n\t\t}\n\t}, []);\n\treturn (\n\t\t<Grid spacing={3} columns={12} maxWidth=\"lg\" container sx={{ paddingX: \"24px\", marginY: \"2rem\" }}>\n\t\t\t<Grid item xs={12} sm={12} md={3}>\n\t\t\t\t<Dashboard />\n\t\t\t</Grid>\n\t\t\t<Grid item md={9} sm={12}>\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path=\"/orders/:id\" element={<Order />} />\n\t\t\t\t\t<Route path=\"/orders\" element={<Orders orders={orders} />} />\n\t\t\t\t\t<Route path=\"/wishlist\" element={<WishList />} />\n\t\t\t\t\t<Route path=\"/\" element={<Profile />} />\n\t\t\t\t</Routes>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n};\n\nexport default ProfilePage;\n","import { Typography, Toolbar, TextField, Button, Box, Select, SelectChangeEvent, MenuItem, FormControl, ImageList, ImageListItem, CardMedia } from \"@mui/material\";\nimport React, { ChangeEvent, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { selectCategories } from \"../../reducers/categorySlice\";\nimport { createProduct, uploadImage } from \"../../reducers/productsSlice\";\nimport CategoryI from \"../../types/CategoryI\";\nimport ProductCreateI from \"../../types/ProductCreateI\";\nimport { BASE_IMAGE_URL } from \"../../utils/BaseImageUrl\";\nimport ParseCategories from \"../../utils/ParseCategories\";\n\ntype Props = {};\n\nconst AddProduct = (props: Props) => {\n\tconst initialProductState: ProductCreateI = {\n\t\tname: \"\",\n\t\timagesUrl: [],\n\t\tprice: 0,\n\t\tdescription: \"\",\n\t\tcategoryId: 1,\n\t};\n\tconst dispatch = useAppDispatch();\n\tconst [product, setProduct] = useState<ProductCreateI>(initialProductState);\n\tconst [categoryId, setCategoryId] = useState(1);\n\tconst [imagePreview, setImagePreview] = useState<string | null>(null);\n\tconst [imageData, setImageData] = useState<FormData | null>(null);\n\tconst categories = useAppSelector(selectCategories);\n\tlet parsedCategories: CategoryI[] = [];\n\tif (categories !== null) {\n\t\tparsedCategories = ParseCategories(categories);\n\t}\n\n\tconst handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n\t\tevent.preventDefault();\n\t\ttry {\n\t\t\tconsole.log(product);\n\t\t\tconst { failed } = await dispatch(createProduct(product)).unwrap();\n\t\t\tif (!failed) {\n\t\t\t\tsetImagePreview(null);\n\t\t\t\tsetImageData(null);\n\t\t\t\tsetProduct(initialProductState);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t};\n\n\tconst handleChanged = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n\t\tsetProduct((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n\t};\n\n\tconst handleSelectChange = (e: SelectChangeEvent<number>) => {\n\t\tsetProduct((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n\t\tsetCategoryId(Number(e.target.value));\n\t};\n\n\tconst onFileChange = (e: ChangeEvent<HTMLInputElement>) => {\n\t\te.preventDefault();\n\t\tif (e.target.files === null) {\n\t\t\treturn;\n\t\t}\n\t\tlet file = e.target.files[0];\n\t\tconst data = new FormData();\n\t\tdata.append(\"imageFile\", file);\n\t\tsetImagePreview(URL.createObjectURL(file));\n\t\tsetImageData(data);\n\t};\n\n\tconst uploadImageOnClick = async () => {\n\t\tif (imageData === null) {\n\t\t\treturn;\n\t\t}\n\t\tconst name = await dispatch(uploadImage(imageData)).unwrap();\n\t\tsetProduct((prev) => ({ ...prev, imagesUrl: [...(prev.imagesUrl ?? []), name] }));\n\t};\n\treturn (\n\t\t<form onSubmit={(e) => handleSubmit(e)} style={{ display: \"flex\", alignItems: \"center\", flexDirection: \"column\", justifyContent: \"center\" }}>\n\t\t\t<br />\n\t\t\t<TextField value={product.name} onChange={(e) => handleChanged(e)} required color=\"info\" style={{ width: \"200px\", margin: \"5px\" }} type=\"text\" label=\"Product Name\" name=\"name\" variant=\"outlined\" />\n\t\t\t<br />\n\t\t\t<TextField value={product.description} onChange={(e) => handleChanged(e)} required multiline rows={4} color=\"info\" style={{ width: \"200px\", margin: \"5px\" }} type=\"text\" name=\"description\" label=\"Product Description\" variant=\"outlined\" />\n\t\t\t<br />\n\t\t\t<TextField value={product.price} onChange={(e) => handleChanged(e)} required color=\"info\" style={{ width: \"200px\", margin: \"5px\" }} type=\"number\" name=\"price\" inputProps={{ step: \"0.01\" }} label=\"Price\" variant=\"outlined\" />\n\t\t\t<br />\n\t\t\t<Select onChange={(e) => handleSelectChange(e)} value={categoryId} size=\"small\" sx={{ height: 1 }} name=\"categoryId\" autoFocus>\n\t\t\t\t{parsedCategories.map((val) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<MenuItem key={val.id} value={val.id}>\n\t\t\t\t\t\t\t{val.categoryName}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Select>\n\t\t\t<br />\n\t\t\t<Button variant=\"contained\" component=\"label\">\n\t\t\t\tUpload Image\n\t\t\t\t<input onChange={(e) => onFileChange(e)} hidden accept=\"image/*\" multiple type=\"file\" />\n\t\t\t</Button>\n\t\t\t<CardMedia sx={{ width: \"60%\", margin: \"auto\" }} component=\"img\" image={imagePreview != null ? imagePreview : \"\"} />\n\t\t\t<br />\n\t\t\t<Button onClick={() => uploadImageOnClick()} variant=\"contained\" color=\"primary\">\n\t\t\t\tSave Image\n\t\t\t</Button>\n\t\t\t<ImageList sx={{ width: 500, height: 450 }} cols={3} rowHeight={164}>\n\t\t\t\t{(product.imagesUrl ?? []).map((item) => (\n\t\t\t\t\t<ImageListItem>\n\t\t\t\t\t\t<img src={BASE_IMAGE_URL + item} alt={\"pic\"} loading=\"lazy\" />\n\t\t\t\t\t</ImageListItem>\n\t\t\t\t))}\n\t\t\t</ImageList>\n\n\t\t\t<br />\n\t\t\t<Button type=\"submit\" variant=\"contained\" color=\"primary\">\n\t\t\t\tsave\n\t\t\t</Button>\n\t\t</form>\n\t);\n};\n\nexport default AddProduct;\n","import { CircularProgress, Select, SelectChangeEvent } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport { DataGrid, GridActionsCellItem, GridColDef, GridColumns, GridRenderCellParams, GridRenderEditCellParams, GridRowId, GridToolbar, GridValueGetterParams, useGridApiContext } from \"@mui/x-data-grid\";\nimport { useEffect, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { selectCategories } from \"../../reducers/categorySlice\";\nimport { editProduct, fetchProducts, selectError, selectProducts, selectStatus } from \"../../reducers/productsSlice\";\nimport CategoryI from \"../../types/CategoryI\";\nimport ProductCreateI from \"../../types/ProductCreateI\";\nimport ParseCategories from \"../../utils/ParseCategories\";\nimport { IDLE } from \"../../utils/states\";\nimport CustomToolbar from \"./CustomToolbar\";\n\nexport const CategorySelectEditField = (props: GridRenderCellParams) => {\n\tconst { id, value, field } = props;\n\tconst apiRef = useGridApiContext();\n\tconst categories = useAppSelector(selectCategories);\n\tlet parsedCategories: CategoryI[] = [];\n\tif (categories !== null) {\n\t\tparsedCategories = ParseCategories(categories);\n\t}\n\tconst handleChange = async (event: SelectChangeEvent) => {\n\t\tawait apiRef.current.setEditCellValue({ id, field, value: event.target.value });\n\t};\n\treturn (\n\t\t<Select value={value} onChange={handleChange} size=\"small\" sx={{ height: 1 }} native autoFocus>\n\t\t\t{parsedCategories.map((val) => {\n\t\t\t\treturn (\n\t\t\t\t\t<option key={val.id} value={val.id}>\n\t\t\t\t\t\t{val.categoryName}\n\t\t\t\t\t</option>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Select>\n\t);\n};\n","import { Button, CircularProgress, Select, SelectChangeEvent } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport { DataGrid, GridActionsCellItem, GridColDef, GridColumns, GridRenderCellParams, GridRenderEditCellParams, GridRowId, GridToolbar, GridValueGetterParams, useGridApiContext } from \"@mui/x-data-grid\";\nimport { useEffect, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { deleteCategory, editCategory, fetchCategories, selectCategories } from \"../../reducers/categorySlice\";\nimport { editProduct, fetchProducts, selectError, selectProducts, selectStatus } from \"../../reducers/productsSlice\";\nimport CategoryCreateI from \"../../types/CategoryCreateI\";\nimport CategoryEditI from \"../../types/CategoryEditI\";\nimport CategoryI from \"../../types/CategoryI\";\nimport ProductCreateI from \"../../types/ProductCreateI\";\nimport ParseCategories from \"../../utils/ParseCategories\";\nimport { IDLE } from \"../../utils/states\";\nimport { CategorySelectEditField } from \"./CategoriesSelectEditField\";\nimport CustomToolbar from \"./CustomToolbar\";\n\nconst renderSelectEditInputCell: GridColDef[\"renderCell\"] = (params) => {\n\treturn <CategorySelectEditField {...params} />;\n};\n\nexport default function CategoryList() {\n\tconst categories = useAppSelector(selectCategories);\n\tconst dispatch = useAppDispatch();\n\tconst [selectedIds, setSelectedIds] = useState<number[]>([]);\n\tlet parsedCategories: CategoryI[] = [];\n\tif (categories !== null) {\n\t\tparsedCategories = ParseCategories(categories);\n\t}\n\tconst handleDeleteClick = async (id: number) => {\n\t\tconst { failed } = await dispatch(deleteCategory(id)).unwrap();\n\t\tif (!failed) {\n\t\t\tdispatch(fetchCategories());\n\t\t}\n\t};\n\tconst columns: GridColDef[] = [\n\t\t{ field: \"id\", headerName: \"ID\", width: 90 },\n\t\t{\n\t\t\tfield: \"categoryName\",\n\t\t\theaderName: \"Category name\",\n\t\t\twidth: 150,\n\t\t\teditable: true,\n\t\t},\n\t\t{\n\t\t\tfield: \"description\",\n\t\t\theaderName: \"Category description\",\n\t\t\twidth: 150,\n\t\t\teditable: true,\n\t\t},\n\t\t{\n\t\t\tfield: \"parentCategoryId\",\n\t\t\theaderName: \"Parent Category Id\",\n\t\t\ttype: \"number\",\n\t\t\twidth: 200,\n\t\t\teditable: false, // TODO nie pokazywac podrzednych kategorii\n\t\t\trenderCell: (params) => (\n\t\t\t\t<p>\n\t\t\t\t\t{\n\t\t\t\t\t\tparsedCategories.find((val) => {\n\t\t\t\t\t\t\treturn val.id == params.row.parentCategoryId;\n\t\t\t\t\t\t})?.categoryName\n\t\t\t\t\t}\n\t\t\t\t</p>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tfield: \"button\",\n\t\t\theaderName: \"\",\n\t\t\ttype: \"action\",\n\t\t\twidth: 150,\n\t\t\trenderCell: (params) => (\n\t\t\t\t<Button color=\"secondary\" onClick={() => handleDeleteClick(params.row.id)}>\n\t\t\t\t\tDelete\n\t\t\t\t</Button>\n\t\t\t),\n\t\t},\n\t];\n\tconsole.log(selectedIds);\n\tconst onCellEdit = (params: any) => {\n\t\tlet newCategory: CategoryEditI = { [params.field]: params.value, id: params.id };\n\t\tdispatch(editCategory(newCategory));\n\t};\n\treturn (\n\t\t<Box sx={{ height: 400, width: \"100%\" }}>\n\t\t\t<DataGrid\n\t\t\t\tonSelectionModelChange={(ids) => {\n\t\t\t\t\tlet selectedIDs: number[] = [];\n\t\t\t\t\t// you have to parse the type\n\t\t\t\t\tids.forEach((val) => {\n\t\t\t\t\t\tselectedIDs.push(Number(val));\n\t\t\t\t\t});\n\t\t\t\t\tsetSelectedIds(selectedIDs);\n\t\t\t\t}}\n\t\t\t\tonCellEditCommit={onCellEdit}\n\t\t\t\trows={parsedCategories}\n\t\t\t\tcolumns={columns}\n\t\t\t\trowsPerPageOptions={[5, 10, 25, 100]}\n\t\t\t\tcheckboxSelection\n\t\t\t\tdisableSelectionOnClick\n\t\t\t/>\n\t\t</Box>\n\t);\n}\n","import { Typography, Toolbar, TextField, Button, Box, Select, SelectChangeEvent, MenuItem, FormControl, ImageList, ImageListItem, CardMedia } from \"@mui/material\";\nimport React, { ChangeEvent, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { createCategory, fetchCategories, selectCategories } from \"../../reducers/categorySlice\";\nimport { createProduct, uploadImage } from \"../../reducers/productsSlice\";\nimport CategoryCreateI from \"../../types/CategoryCreateI\";\nimport CategoryI from \"../../types/CategoryI\";\nimport ProductCreateI from \"../../types/ProductCreateI\";\nimport { BASE_IMAGE_URL } from \"../../utils/BaseImageUrl\";\nimport ParseCategories from \"../../utils/ParseCategories\";\n\ntype Props = {};\n\nconst AddCategory = (props: Props) => {\n\tconst dispatch = useAppDispatch();\n\tconst [categoryId, setCategoryId] = useState(1);\n\tconst initialCategoryState: CategoryCreateI = {\n\t\tcategoryName: \"\",\n\t\tdescription: \"\",\n\t\tparentId: categoryId,\n\t};\n\tconst [category, setCategory] = useState<CategoryCreateI>(initialCategoryState);\n\n\tconst categories = useAppSelector(selectCategories);\n\tlet parsedCategories: CategoryI[] = [];\n\tif (categories !== null) {\n\t\tparsedCategories = ParseCategories(categories);\n\t}\n\tconst handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n\t\tevent.preventDefault();\n\t\tconsole.log(categoryId);\n\t\tconsole.log(category);\n\t\ttry {\n\t\t\tconst { failed } = await dispatch(createCategory(category)).unwrap();\n\n\t\t\tconsole.log(failed);\n\t\t\tif (!failed) {\n\t\t\t\tdispatch(fetchCategories());\n\t\t\t\tsetCategory(initialCategoryState);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t};\n\n\tconst handleChanged = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n\t\tsetCategory((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n\t};\n\n\tconst handleSelectChange = (e: SelectChangeEvent<number>) => {\n\t\tsetCategory((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n\t\tsetCategoryId(Number(e.target.value));\n\t};\n\n\treturn (\n\t\t<form onSubmit={(e) => handleSubmit(e)} style={{ display: \"flex\", alignItems: \"center\", flexDirection: \"column\", justifyContent: \"center\" }}>\n\t\t\t<br />\n\t\t\t<TextField value={category.categoryName} onChange={(e) => handleChanged(e)} required color=\"info\" style={{ width: \"200px\", margin: \"5px\" }} type=\"text\" label=\"Category Name\" name=\"categoryName\" variant=\"outlined\" />\n\t\t\t<br />\n\t\t\t<TextField value={category.description} onChange={(e) => handleChanged(e)} required multiline rows={4} color=\"info\" style={{ width: \"200px\", margin: \"5px\" }} type=\"text\" name=\"description\" label=\"Category Description\" variant=\"outlined\" />\n\t\t\t<br />\n\t\t\t<Select onChange={(e) => handleSelectChange(e)} value={categoryId} size=\"small\" sx={{ height: 1 }} name=\"parentId\" autoFocus>\n\t\t\t\t{parsedCategories.map((val) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<MenuItem key={val.id} value={val.id}>\n\t\t\t\t\t\t\t{val.categoryName}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Select>\n\t\t\t<br />\n\t\t\t<Button type=\"submit\" variant=\"contained\" color=\"primary\">\n\t\t\t\tsave\n\t\t\t</Button>\n\t\t</form>\n\t);\n};\n\nexport default AddCategory;\n","import React from \"react\";\n\ntype Props = {};\n\nconst IncomeView = (props: Props) => {\n\treturn <div>IncomeView</div>;\n};\n\nexport default IncomeView;\n","import { Button, CircularProgress, Select, SelectChangeEvent } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport { DataGrid, GridColDef, GridRenderCellParams, GridRenderEditCellParams, GridToolbar, GridValueGetterParams, useGridApiContext } from \"@mui/x-data-grid\";\nimport { useEffect } from \"react\";\nimport { collapseTextChangeRangesAcrossMultipleVersions } from \"typescript\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { selectCategories } from \"../../reducers/categorySlice\";\nimport { deleteProduct, editProduct, fetchProducts, selectError, selectProducts, selectStatus } from \"../../reducers/productsSlice\";\nimport CategoryI from \"../../types/CategoryI\";\nimport ProductCreateI from \"../../types/ProductCreateI\";\nimport ParseCategories from \"../../utils/ParseCategories\";\nimport { IDLE } from \"../../utils/states\";\nimport { CategorySelectEditField } from \"./CategoriesSelectEditField\";\nimport CustomToolbar from \"./CustomToolbar\";\n\nconst renderSelectEditInputCell: GridColDef[\"renderCell\"] = (params) => {\n\treturn <CategorySelectEditField {...params} />;\n};\n\nexport default function ProductList() {\n\tconst dispatch = useAppDispatch();\n\tconst products = useAppSelector(selectProducts);\n\tconst productStatus = useAppSelector(selectStatus);\n\tconst categories = useAppSelector(selectCategories);\n\tlet parsedCategories: CategoryI[] = [];\n\tif (categories !== null) {\n\t\tparsedCategories = ParseCategories(categories);\n\t}\n\tuseEffect(() => {\n\t\tif (productStatus === IDLE) {\n\t\t\tdispatch(fetchProducts({}));\n\t\t\t// #TODO TODO pagination\n\t\t}\n\t}, []);\n\tconst onCellEdit = (params: any) => {\n\t\tlet newProduct: ProductCreateI = { [params.field]: params.value, id: params.id };\n\t\tconsole.log(newProduct);\n\t\tdispatch(editProduct(newProduct));\n\t};\n\tconst handleDeleteClick = (id: number) => {\n\t\tdispatch(deleteProduct(id));\n\t};\n\tconst columns: GridColDef[] = [\n\t\t{ field: \"id\", headerName: \"ID\", width: 90 },\n\t\t{\n\t\t\tfield: \"name\",\n\t\t\theaderName: \"Product name\",\n\t\t\twidth: 150,\n\t\t\teditable: true,\n\t\t},\n\t\t{\n\t\t\tfield: \"description\",\n\t\t\theaderName: \"Product description\",\n\t\t\twidth: 150,\n\t\t\teditable: true,\n\t\t},\n\t\t{\n\t\t\tfield: \"price\",\n\t\t\theaderName: \"Price\",\n\t\t\ttype: \"number\",\n\t\t\twidth: 110,\n\t\t\teditable: true,\n\t\t},\n\t\t{\n\t\t\tfield: \"categoryId\",\n\t\t\theaderName: \"Category name\",\n\t\t\ttype: \"number\",\n\t\t\twidth: 160,\n\t\t\teditable: true,\n\t\t\trenderEditCell: renderSelectEditInputCell,\n\t\t\trenderCell: (params: GridRenderCellParams<String>) => <p>{parsedCategories.find((val) => val.id === params.row.categoryId)?.categoryName}</p>,\n\t\t},\n\t\t{\n\t\t\tfield: \"button\",\n\t\t\theaderName: \"\",\n\t\t\ttype: \"action\",\n\t\t\twidth: 150,\n\t\t\trenderCell: (params) => (\n\t\t\t\t<Button color=\"secondary\" onClick={() => handleDeleteClick(params.row.id)}>\n\t\t\t\t\tDelete\n\t\t\t\t</Button>\n\t\t\t),\n\t\t},\n\t];\n\n\treturn (\n\t\t<Box sx={{ height: 400, width: \"100%\" }}>\n\t\t\t<DataGrid onCellEditCommit={onCellEdit} rows={products} columns={columns} rowsPerPageOptions={[5, 10, 25, 100]} checkboxSelection disableSelectionOnClick />\n\t\t</Box>\n\t);\n}\n","import React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Drawer from \"@mui/material/Drawer\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport List from \"@mui/material/List\";\nimport Divider from \"@mui/material/Divider\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport InboxIcon from \"@mui/icons-material/MoveToInbox\";\nimport MailIcon from \"@mui/icons-material/Mail\";\nimport AdminProductList from \"./ProductList\";\nimport Accordion from \"@mui/material/Accordion\";\nimport AccordionDetails from \"@mui/material/AccordionDetails\";\nimport AccordionSummary from \"@mui/material/AccordionSummary\";\nimport Typography from \"@mui/material/Typography\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { AddCard, Inventory } from \"@mui/icons-material\";\nimport AddProduct from \"./AddProduct\";\nimport CategoryList from \"./CategoryList\";\nimport AddCategory from \"./AddCategory\";\nimport IncomeView from \"./IncomeView\";\nimport ProductList from \"./ProductList\";\ntype Props = {\n\tpageChangeCallback: (page: JSX.Element) => void;\n};\n\nconst AdminList = ({ pageChangeCallback }: Props) => {\n\tconst [expanded, setExpanded] = React.useState<string | false>(false);\n\n\tconst handleChange = (panel: string) => (event: React.SyntheticEvent, isExpanded: boolean) => {\n\t\tsetExpanded(isExpanded ? panel : false);\n\t};\n\treturn (\n\t\t<Drawer\n\t\t\tvariant=\"permanent\"\n\t\t\tsx={{\n\t\t\t\twidth: \"20vw\",\n\t\t\t\tflexShrink: 0,\n\t\t\t\t[`& .MuiDrawer-paper`]: { width: \"20vw\", boxSizing: \"border-box\" },\n\t\t\t}}\n\t\t>\n\t\t\t<Toolbar />\n\t\t\t<Box sx={{ overflow: \"auto\" }}>\n\t\t\t\t<List>\n\t\t\t\t\t<ListItem disablePadding>\n\t\t\t\t\t\t<ListItemButton onClick={() => pageChangeCallback(<IncomeView />)}>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t<Inventory />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={\"Income View\"} />\n\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t</ListItem>\n\t\t\t\t\t<Accordion expanded={expanded === \"panel1\"} onChange={handleChange(\"panel1\")}>\n\t\t\t\t\t\t<AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1bh-content\" id=\"panel1bh-header\">\n\t\t\t\t\t\t\t<Typography sx={{ flexShrink: 0 }}>Products</Typography>\n\t\t\t\t\t\t</AccordionSummary>\n\t\t\t\t\t\t<AccordionDetails>\n\t\t\t\t\t\t\t<ListItem disablePadding>\n\t\t\t\t\t\t\t\t<ListItemButton onClick={() => pageChangeCallback(<ProductList />)}>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<Inventory />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={\"Product List\"} />\n\t\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem disablePadding>\n\t\t\t\t\t\t\t\t<ListItemButton onClick={() => pageChangeCallback(<AddProduct />)}>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<Inventory />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={\"Create Product\"} />\n\t\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</AccordionDetails>\n\t\t\t\t\t</Accordion>\n\t\t\t\t\t<Accordion expanded={expanded === \"panel2\"} onChange={handleChange(\"panel2\")}>\n\t\t\t\t\t\t<AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel2bh-content\" id=\"panel2bh-header\">\n\t\t\t\t\t\t\t<Typography sx={{ flexShrink: 0 }}>Categories</Typography>\n\t\t\t\t\t\t</AccordionSummary>\n\t\t\t\t\t\t<AccordionDetails>\n\t\t\t\t\t\t\t<ListItem disablePadding>\n\t\t\t\t\t\t\t\t<ListItemButton onClick={() => pageChangeCallback(<CategoryList />)}>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<Inventory />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={\"Category List\"} />\n\t\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<ListItem disablePadding>\n\t\t\t\t\t\t\t\t<ListItemButton onClick={() => pageChangeCallback(<AddCategory />)}>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<Inventory />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText primary={\"Create Category\"} />\n\t\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t</AccordionDetails>\n\t\t\t\t\t</Accordion>\n\t\t\t\t</List>\n\t\t\t</Box>\n\t\t</Drawer>\n\t);\n};\n\nexport default AdminList;\n","import Box from \"@mui/material/Box\";\nimport { useState } from \"react\";\nimport AdminList from \"../components/admin/AdminList\";\nimport IncomeView from \"../components/admin/IncomeView\";\n\ntype Props = {};\n\nconst AdminPage = (props: Props) => {\n\tconst [page, setPage] = useState(<IncomeView />);\n\tconst handlePageChange = (page: JSX.Element) => {\n\t\tsetPage(page);\n\t};\n\treturn (\n\t\t<Box sx={{ display: \"flex\" }}>\n\t\t\t<AdminList pageChangeCallback={handlePageChange} />\n\t\t\t<Box component=\"main\" sx={{ flexGrow: 1, p: 3 }}>\n\t\t\t\t{page}\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default AdminPage;\n","import { Add, AddCircleOutlineOutlined, Clear, Delete, Remove, RemoveCircleOutlineOutlined } from \"@mui/icons-material\";\nimport { Avatar, Box, Button, IconButton, Paper, Typography } from \"@mui/material\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useAppDispatch } from \"../../app/hooks\";\nimport { changeQuantity } from \"../../reducers/cartSlice\";\nimport ProductI from \"../../types/ProductI\";\nimport { BASE_IMAGE_URL } from \"../../utils/BaseImageUrl\";\n\ntype Props = {\n\tproduct: ProductI;\n\tquantity: number;\n\tcartItemId: number;\n};\n\nconst CartPageItem = ({ product, quantity, cartItemId }: Props) => {\n\tconst dispatch = useAppDispatch();\n\treturn (\n\t\t<Paper elevation={4} sx={{ display: \"flex\", borderRadius: \"10px\", marginY: \"20px\", width: \"100%\", paddingX: \"10px\" }}>\n\t\t\t<Avatar sx={{ width: \"156px\", height: \"156px\", borderRadius: \"10px\" }} variant=\"square\">\n\t\t\t\t<img style={{ width: \"156px\", height: \"156px\", objectFit: \"cover\", aspectRatio: \"1/1\" }} src={BASE_IMAGE_URL + product.imagesUrl[0]} alt={product.name} />\n\t\t\t</Avatar>\n\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"column\", rowGap: \"16px\", marginY: \"16px\" }}>\n\t\t\t\t<Link to={\"/product/\" + product.slug}>\n\t\t\t\t\t<Typography variant=\"h6\" sx={{ fontSize: \"18px\", fontWeight: \"500\", textTransform: \"capitalize\", marginX: \"10px\" }}>\n\t\t\t\t\t\t{product.name}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Link>\n\n\t\t\t\t<Box sx={{ display: \"flex\", gap: \"8px\", alignItems: \"center\", marginX: \"10px\" }}>\n\t\t\t\t\t<Typography sx={{ color: \"primary.gray\", fontWeight: \"300\" }}>\n\t\t\t\t\t\t${product.price} x {quantity}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography sx={{ color: \"secondary.main\", fontWeight: \"450\", fontSize: \"15px\" }}>${product.price * quantity}</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\", paddingBottom: \"0px\" }}>\n\t\t\t\t\t<Button sx={{ border: \"1px solid\", aspectRatio: \"1/1\", marginX: \"10px\", minWidth: \"0px\", minHeight: \"0px\", padding: \"5px\" }} color=\"secondary\" disabled={quantity === 1} onClick={() => dispatch(changeQuantity({ id: cartItemId, quantity: quantity - 1 }))}>\n\t\t\t\t\t\t<Remove fontSize=\"small\" color={quantity === 1 ? \"disabled\" : \"secondary\"} />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Typography variant=\"subtitle2\" sx={{ fontSize: \"15px\" }}>\n\t\t\t\t\t\t{quantity}\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<Button sx={{ border: \"1px solid\", aspectRatio: \"1/1\", marginX: \"10px\", minWidth: \"0px\", minHeight: \"0px\", padding: \"5px\" }} color=\"secondary\" onClick={() => dispatch(changeQuantity({ id: cartItemId, quantity: quantity + 1 }))}>\n\t\t\t\t\t\t<Add fontSize=\"small\" color=\"secondary\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<IconButton sx={{ marginLeft: \"auto\", marginBottom: \"auto\" }} onClick={() => dispatch(changeQuantity({ id: cartItemId, quantity: 0 }))} color=\"secondary\">\n\t\t\t\t<Clear color=\"disabled\" />\n\t\t\t</IconButton>\n\t\t</Paper>\n\t);\n};\n\nexport default CartPageItem;\n","import { Box, Button, Chip, Divider, FormControl, FormHelperText, Grid, Input, InputLabel, OutlinedInput, Paper, Typography } from \"@mui/material\";\nimport { Container } from \"@mui/system\";\nimport React from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { useAppDispatch, useAppSelector } from \"../app/hooks\";\nimport CartItem from \"../components/cart/CartItem\";\nimport CartPageItem from \"../components/cart/CartPageItem\";\nimport { selectCart } from \"../reducers/cartSlice\";\nimport { CalculateTotalCost } from \"../utils/CalculateTotalCost\";\n\ntype Props = {};\n\nconst CartPage = (props: Props) => {\n\tconst cart = useAppSelector(selectCart);\n\tconst navigate = useNavigate();\n\tconst dispatch = useAppDispatch();\n\n\treturn (\n\t\t<Container maxWidth=\"lg\" sx={{ margin: \"32px auto\", paddingX: \"24px\" }}>\n\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\", flexWrap: \"wrap\", justifyContent: \"center\" }}>\n\t\t\t\t<Chip label=\"1. Cart\" variant=\"filled\" color=\"secondary\" sx={{ width: \"100px\", fontSize: \"14px\" }} />\n\t\t\t\t<Box sx={{ width: \"50px\", height: \"3px\", backgroundColor: \"primary.gray\", opacity: \"0.5\" }}></Box>\n\t\t\t\t<Chip label=\"2. Payment and delivery\" variant=\"outlined\" color=\"secondary\" sx={{ fontSize: \"14px\" }} />\n\t\t\t\t<Box sx={{ width: \"50px\", height: \"3px\", backgroundColor: \"primary.gray\", opacity: \"0.5\" }}></Box>\n\t\t\t\t<Chip label=\"3. Review\" variant=\"outlined\" color=\"secondary\" sx={{ width: \"100px\", fontSize: \"14px\" }} />\n\t\t\t</Box>\n\t\t\t<Box sx={{ width: \"100%\", display: \"flex\", flexDirection: \"row\", flexWrap: \"wrap\", gap: \"50px\" }}>\n\t\t\t\t<Box sx={{ flexGrow: \"2\", minWidth: { md: \"66.66%\", sm: \"100%\", xs: \"100%\" } }}>\n\t\t\t\t\t{cart.cartItems.map((item) => {\n\t\t\t\t\t\treturn <CartPageItem product={item.product} quantity={item.quantity} cartItemId={item.id} key={item.id} />;\n\t\t\t\t\t})}\n\t\t\t\t</Box>\n\t\t\t\t<Box sx={{ flexGrow: \"1\", marginY: \"20px\" }}>\n\t\t\t\t\t<Paper elevation={1} sx={{ padding: \"24px\" }}>\n\t\t\t\t\t\t<Box sx={{ display: \"flex\", alignItems: \"center\", flexDirection: \"row\", justifyContent: \"space-between\" }}>\n\t\t\t\t\t\t\t<Typography component=\"span\" color=\"primary.dark\">\n\t\t\t\t\t\t\t\tTotal:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography component=\"span\" sx={{ fontWeight: \"500\" }}>\n\t\t\t\t\t\t\t\t${CalculateTotalCost(cart.cartItems)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Box sx={{ marginY: \"30px\" }}>\n\t\t\t\t\t\t\t<Box sx={{ display: \"flex\", alignItems: \"center\" }}>\n\t\t\t\t\t\t\t\t<Typography component=\"span\" sx={{ fontWeight: \"500\" }}>\n\t\t\t\t\t\t\t\t\tAditional Comments\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Box sx={{ backgroundColor: \"rgb(252, 233, 236)\", padding: \"6px 10px\", fontSize: \"12px\", color: \"secondary.main\", borderRadius: \"5px\", marginX: \"5px\" }}>Note</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<FormControl fullWidth>\n\t\t\t\t\t\t\t\t<OutlinedInput color=\"secondary\" id=\"notes\" aria-describedby=\"notes\" multiline minRows={3} />\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Button color=\"secondary\" onClick={() => navigate(\"/checkout\")} variant=\"contained\" sx={{ width: \"100%\", textTransform: \"none\" }}>\n\t\t\t\t\t\t\tCheckout now\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Container>\n\t);\n};\n\nexport default CartPage;\n","import { Box, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, FormControl, Grid, Input, Modal, Paper, TextField, Typography } from \"@mui/material\";\nimport React, { useState } from \"react\";\nimport { useAppDispatch } from \"../../app/hooks\";\nimport { createAddress, updateAddress } from \"../../reducers/addressSlice\";\nimport AddressI from \"../../types/AddressI\";\n\ntype Props = {\n\topen: boolean;\n\thandleClose: () => void;\n\toldAddress: AddressI;\n\tedit: boolean;\n};\n\nconst AddressModal = ({ open, handleClose, oldAddress, edit }: Props) => {\n\tconst [address, setAddress] = useState({ ...oldAddress });\n\tconst dispatch = useAppDispatch();\n\tconst handleChanged = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n\t\tsetAddress((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n\t};\n\n\tconst handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n\t\te.preventDefault();\n\t\tconsole.log(address);\n\t\tif (edit) {\n\t\t\taddress.id = oldAddress?.id;\n\t\t\tdispatch(updateAddress(address));\n\t\t} else {\n\t\t\tdispatch(createAddress(address));\n\t\t}\n\t\thandleClose();\n\t};\n\treturn (\n\t\t<Dialog open={open} onClose={handleClose} sx={{ padding: \"24px\" }}>\n\t\t\t<DialogTitle>Add New Address Information</DialogTitle>\n\t\t\t<DialogContent sx={{ padding: \"24px\" }}>\n\t\t\t\t<Grid component=\"form\" onSubmit={handleSubmit} container spacing={2} columns={{ sm: 6, md: 12 }}>\n\t\t\t\t\t<Grid item sm={3} md={6} sx={{ marginY: \"5px\" }}>\n\t\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} name=\"name\" label=\"Address Name\" color=\"secondary\" defaultValue={oldAddress.name} variant=\"outlined\" autoComplete=\"off\" required />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={3} md={6} sx={{ marginY: \"5px\" }}>\n\t\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} name=\"streetLine\" label=\"Address Line\" color=\"secondary\" defaultValue={oldAddress.streetLine} variant=\"outlined\" autoComplete=\"street-address\" required />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={3} md={6} sx={{ marginY: \"5px\" }}>\n\t\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} name=\"phoneNumber\" label=\"Phone Number\" color=\"secondary\" defaultValue={oldAddress.phoneNumber} inputProps={{ type: \"tel\" }} variant=\"outlined\" autoComplete=\"tel\" required />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={3} md={6} sx={{ marginY: \"5px\" }}>\n\t\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} name=\"city\" label=\"City\" color=\"secondary\" defaultValue={oldAddress.city} variant=\"outlined\" autoComplete=\"address-level2\" required />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={3} md={6} sx={{ marginY: \"5px\" }}>\n\t\t\t\t\t\t<TextField onChange={(e) => handleChanged(e)} name=\"zipCode\" label=\"Zip Code\" color=\"secondary\" defaultValue={oldAddress.zipCode} variant=\"outlined\" autoComplete=\"postal-code\" required />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={3} md={6} sx={{ marginY: \"5px\" }}></Grid>\n\t\t\t\t\t<Grid item sm={3} md={6} sx={{ marginY: \"5px\" }}>\n\t\t\t\t\t\t<Button type=\"submit\" color=\"secondary\" variant=\"contained\">\n\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n\nexport default AddressModal;\n","import { Edit, DeleteOutline } from \"@mui/icons-material\";\nimport { Box, Paper, Avatar, Typography, Button, Grid, IconButton } from \"@mui/material\";\nimport React, { useEffect, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport { selectAddress, selectAddressStatus, fetchAddress, deleteAddress } from \"../../reducers/addressSlice\";\nimport { selectCart } from \"../../reducers/cartSlice\";\nimport AddressI from \"../../types/AddressI\";\nimport { IDLE } from \"../../utils/states\";\nimport AddressModal from \"./AddressModal\";\n\ntype Props = {\n\tsetSelectedAddress: (id: number) => void;\n\tselectedAddressId: number;\n};\n\nconst SelectAddress = ({ setSelectedAddress, selectedAddressId }: Props) => {\n\tconst dispatch = useAppDispatch();\n\tconst addresses = useAppSelector(selectAddress);\n\tconst addressStatus = useAppSelector(selectAddressStatus);\n\tconst [modalOpen, setModalOpen] = useState(false);\n\tconst handleOpen = () => setModalOpen(true);\n\tconst handleClose = () => setModalOpen(false);\n\tconst [editAddress, setEditAddress] = useState<AddressI>({} as AddressI);\n\tconst [editMode, setEditMode] = useState(false);\n\tuseEffect(() => {\n\t\tif (addressStatus === IDLE) {\n\t\t\tdispatch(fetchAddress());\n\t\t}\n\t}, [addressStatus]);\n\n\treturn (\n\t\t<>\n\t\t\t<Box style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t<Paper color=\"primary\" elevation={1} sx={{ padding: \"1.5rem 1.75rem\" }}>\n\t\t\t\t\t<Box sx={{ display: \"flex\", gap: \"12px\", marginBottom: \"28px\", flexDirection: \"row\", alignItems: \"center\" }}>\n\t\t\t\t\t\t<Avatar sx={{ backgroundColor: \"secondary.main\" }}>1</Avatar>\n\t\t\t\t\t\t<Typography variant=\"body1\" sx={{ fontSize: \"20px\", fontWeight: \"400\" }}>\n\t\t\t\t\t\t\tDelivery Address\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleOpen();\n\t\t\t\t\t\t\t\tsetEditMode(false);\n\t\t\t\t\t\t\t\tsetEditAddress({} as AddressI);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tsx={{ textTransform: \"none\", marginY: \"10px\", marginLeft: \"auto\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdd New Address\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Typography variant=\"body2\">Delivery Address</Typography>\n\t\t\t\t\t<Grid container spacing={2} columns={{ xs: 2, sm: 6, md: 12 }}>\n\t\t\t\t\t\t{/* setAddress(id) */}\n\t\t\t\t\t\t{addresses.map((address) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Grid key={address.id} item md={4} sm={3} xs={2} onClick={() => setSelectedAddress(address.id || 0)}>\n\t\t\t\t\t\t\t\t\t<Paper elevation={1} sx={{ padding: \"16px\", position: \"relative\", backgroundColor: \"background.default\", display: \"flex\", flexDirection: \"column\", border: [selectedAddressId === address.id ? \"1px solid red\" : \"\"][0] }}>\n\t\t\t\t\t\t\t\t\t\t<Box sx={{ position: \"absolute\", top: \"5px\", right: \"5px\", display: \"flex\" }}>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetEditMode(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetEditAddress(address);\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpen();\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => dispatch(deleteAddress(address.id || 0))}>\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline color=\"secondary\" />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h6\" sx={{ fontSize: \"16px\", fontWeight: \"500\" }}>\n\t\t\t\t\t\t\t\t\t\t\t{address.name}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" sx={{ fontSize: \"14px\", color: \"primary.dark\" }}>\n\t\t\t\t\t\t\t\t\t\t\t{address.city} {address.zipCode}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" sx={{ fontSize: \"14px\", color: \"primary.dark\" }}>\n\t\t\t\t\t\t\t\t\t\t\t{address.streetLine}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" sx={{ fontSize: \"14px\", color: \"primary.dark\" }}>\n\t\t\t\t\t\t\t\t\t\t\t{address.phoneNumber}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t\t<AddressModal handleClose={handleClose} open={modalOpen} edit={editMode} oldAddress={editAddress} />\n\t\t</>\n\t);\n};\n\nexport default SelectAddress;\n","import { Avatar, Box, Button, Paper, Typography } from \"@mui/material\";\nimport { useNavigate } from \"react-router\";\n\ntype props = {\n\thandleSubmit: () => void;\n};\nconst Payment = ({ handleSubmit }: props) => {\n\treturn (\n\t\t<Box style={{ display: \"flex\", flexDirection: \"column\", marginTop: \"10px\" }}>\n\t\t\t<Paper color=\"primary\" elevation={1} sx={{ padding: \"1.5rem 1.75rem\" }}>\n\t\t\t\t<Box sx={{ display: \"flex\", gap: \"12px\", marginBottom: \"28px\", flexDirection: \"row\", alignItems: \"center\" }}>\n\t\t\t\t\t<Avatar sx={{ backgroundColor: \"secondary.main\" }}>2</Avatar>\n\t\t\t\t\t<Typography variant=\"body1\" sx={{ fontSize: \"20px\", fontWeight: \"400\" }}>\n\t\t\t\t\t\tOrder And Pay\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Button onClick={handleSubmit} variant=\"contained\" color=\"secondary\">\n\t\t\t\t\tOrded now\n\t\t\t\t</Button>\n\t\t\t</Paper>\n\t\t</Box>\n\t);\n};\nexport default Payment;\n","import { Box, Container } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"../app/hooks\";\nimport OrderList from \"../components/checkout/OrderList\";\nimport SelectAddress from \"../components/checkout/SelectAddress\";\nimport Payment from \"../components/checkout/Payment\";\nimport { selectCart } from \"../reducers/cartSlice\";\nimport { useNavigate } from \"react-router\";\nimport { addOrder } from \"../reducers/orderSlice\";\nimport { useFirstRender } from \"@mui/x-data-grid\";\nimport { setMessage } from \"../reducers/messageSlice\";\nimport { selectUserIsLogged } from \"../reducers/authSlice\";\n\ntype Props = {\n\tmoreInfo?: string;\n};\n\nconst CheckoutPage = ({ moreInfo }: Props) => {\n\tconst dispatch = useAppDispatch();\n\tconst cart = useAppSelector(selectCart);\n\tconst loggedIn = useAppSelector(selectUserIsLogged);\n\tconst navigate = useNavigate();\n\tconst handleSubmit = async () => {\n\t\tif (selectedAddressId === 0) {\n\t\t\tdispatch(setMessage({ error: false, message: \"Pick delivery address before checkout\" }));\n\t\t\treturn;\n\t\t}\n\t\tif (cart.cartItems.length === 0) {\n\t\t\tdispatch(setMessage({ error: false, message: \"Add items to the cart first\" }));\n\t\t\treturn;\n\t\t}\n\t\tnavigate(\"/payment\", { state: { moreInfo: moreInfo, selectedAddressId: selectedAddressId } });\n\t};\n\tconst [selectedAddressId, setSelectedAddressId] = useState(0);\n\tconst handleSelectedAddressChange = (id: number) => {\n\t\tsetSelectedAddressId(id);\n\t};\n\tuseEffect(() => {\n\t\tif (!loggedIn) {\n\t\t\tnavigate(\"/\", { replace: true });\n\t\t}\n\t}, []);\n\treturn (\n\t\t<Box sx={{ width: \"100%\", height: \"100%\", backgroundColor: \"primary.main\", margin: \"0\", padding: \"0\", position: \"absolute\", overflow: \"hidden\" }}>\n\t\t\t<Container maxWidth=\"lg\" sx={{ margin: \"32px auto\", paddingX: \"24px\" }}>\n\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"row\", gap: \"40px\", flexWrap: { md: \"noWrap\", sm: \"wrap\", xs: \"wrap\" }, width: \"100%\" }}>\n\t\t\t\t\t<Box sx={{ flexGrow: \"2\", minWidth: { md: \"66.66%\", sm: \"100%\", xs: \"100%\" } }}>\n\t\t\t\t\t\t<SelectAddress setSelectedAddress={handleSelectedAddressChange} selectedAddressId={selectedAddressId} />\n\t\t\t\t\t\t<Payment handleSubmit={handleSubmit} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<OrderList cart={cart} />\n\t\t\t\t</Box>\n\t\t\t</Container>\n\t\t</Box>\n\t);\n};\n\nexport default CheckoutPage;\n","import React, { useEffect, useState } from \"react\";\nimport { PaymentElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { Button, FormControl, Paper } from \"@mui/material\";\n\nexport default function CheckoutForm() {\n\tconst stripe = useStripe();\n\tconst elements = useElements();\n\n\tconst [message, setMessage] = useState(\"\");\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (!stripe) {\n\t\t\treturn;\n\t\t}\n\t\tconst clientSecret = new URLSearchParams(window.location.search).get(\"payment_intent_client_secret\");\n\t\tif (!clientSecret) {\n\t\t\treturn;\n\t\t}\n\t\tstripe.retrievePaymentIntent(clientSecret).then(({ paymentIntent }) => {\n\t\t\tswitch (paymentIntent?.status) {\n\t\t\t\tcase \"succeeded\":\n\t\t\t\t\tsetMessage(\"Payment succeeded!\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"processing\":\n\t\t\t\t\tsetMessage(\"Your payment is processing.\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"requires_payment_method\":\n\t\t\t\t\tsetMessage(\"Your payment was not successful, please try again.\");\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tsetMessage(\"Something went wrong.\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t}, [stripe]);\n\n\tconst handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n\t\te.preventDefault();\n\t\tif (!stripe || !elements) {\n\t\t\t// Stripe.js has not yet loaded.\n\t\t\t// Make sure to disable form submission until Stripe.js has loaded.\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsLoading(true);\n\n\t\tconst { error } = await stripe.confirmPayment({\n\t\t\telements,\n\t\t\tconfirmParams: {\n\t\t\t\treturn_url: \"http://localhost:3000/completed\",\n\t\t\t\t// Make sure to change this to your payment completion page\n\t\t\t},\n\t\t});\n\n\t\t// This point will only be reached if there is an immediate error when\n\t\t// confirming the payment. Otherwise, your customer will be redirected to\n\t\t// your `return_url`. For some payment methods like iDEAL, your customer will\n\t\t// be redirected to an intermediate site first to authorize the payment, then\n\t\t// redirected to the `return_url`.\n\t\tif (error.type === \"card_error\" || error.type === \"validation_error\") {\n\t\t\tsetMessage(error.message || \"\");\n\t\t} else {\n\t\t\tsetMessage(\"An unexpected error occurred.\");\n\t\t}\n\n\t\tsetIsLoading(false);\n\t};\n\n\treturn (\n\t\t<FormControl id=\"payment-form\" onSubmit={handleSubmit} component=\"form\">\n\t\t\t<PaymentElement id=\"payment-element\" />\n\t\t\t<Button type=\"submit\" disabled={isLoading || !stripe || !elements} id=\"submit\" color=\"secondary\" variant=\"outlined\" sx={{ marginY: \"10px\" }}>\n\t\t\t\t{isLoading ? \"Loading\" : \"Pay now\"}\n\t\t\t</Button>\n\t\t\t{message && <div id=\"payment-message\">{message}</div>}\n\t\t</FormControl>\n\t);\n}\n","import { Box, CircularProgress, Paper } from \"@mui/material\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Navigate, useLocation, useNavigate, useSearchParams } from \"react-router-dom\";\nimport axiosInstance from \"../app/axiosInstance\";\nimport { useAppDispatch } from \"../app/hooks\";\nimport CheckoutForm from \"../components/checkout/CheckoutForm\";\nimport { setMessage } from \"../reducers/messageSlice\";\nimport { addOrder } from \"../reducers/orderSlice\";\n\ntype Props = {};\nconst stripePromise = loadStripe(\"pk_test_51LdCHZBKEPMX5hknwI5Qw9m0NPkGmMSNcmn8fVSmyPsbOuxPH41Z4KZHJcS4KNcQRg8syjv3NQzRDlA5RTI8Qg2a00sckIHYAK\");\n\nconst PaymentPage = (props: Props) => {\n\tconst navigate = useNavigate();\n\tconst dispatch = useAppDispatch();\n\n\tconst [clientSecret, setClientSecret] = useState(\"\");\n\tconst { state } = useLocation();\n\n\tuseEffect(() => {\n\t\t// Create PaymentIntent as soon as the page loads\n\t\tif (state === null) {\n\t\t\tnavigate(\"/\");\n\t\t\treturn;\n\t\t}\n\t\tconst { moreInfo, selectedAddressId } = state as { moreInfo: string; selectedAddressId: number };\n\n\t\tconst fetchData = async () => {\n\t\t\treturn await dispatch(addOrder({ moreInfo: moreInfo || \"\", deliveryAddressId: selectedAddressId }));\n\t\t};\n\t\tfetchData().then((data) => {\n\t\t\tif (data.meta.requestStatus === \"fulfilled\") {\n\t\t\t\taxiosInstance.post(\"/payment/charge\", JSON.stringify(data.payload.id)).then((data) => setClientSecret(data.data));\n\t\t\t} else {\n\t\t\t\tdispatch(setMessage({ message: \"Order failed\", error: true }));\n\t\t\t\tnavigate(\"/checkout\");\n\t\t\t}\n\t\t});\n\t}, []);\n\n\tconst options = {\n\t\tclientSecret,\n\t};\n\treturn (\n\t\t<Box sx={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\", width: \"80vw\", height: \"80vh\", margin: \"auto\" }}>\n\t\t\t{clientSecret ? (\n\t\t\t\t<Elements options={options} stripe={stripePromise}>\n\t\t\t\t\t<CheckoutForm />\n\t\t\t\t</Elements>\n\t\t\t) : (\n\t\t\t\t<CircularProgress color=\"secondary\" />\n\t\t\t)}\n\t\t</Box>\n\t);\n};\n\nexport default PaymentPage;\n","enum ProductSort {\n\tPRICE_ASCENDING,\n\tPRICE_DESCENDING,\n\tRELEVANCE,\n}\nexport default ProductSort;\n","import { ArrowForward, ArrowUpward, Category, KeyboardArrowDown } from \"@mui/icons-material\";\nimport { Accordion, AccordionDetails, AccordionSummary, Box, Card, Container, Grid, IconButton, MenuItem, Select, styled, Typography } from \"@mui/material\";\nimport { TypographyProps } from \"@mui/system\";\nimport React, { ReactNode, useEffect, useState } from \"react\";\nimport { Link, useLocation, useNavigate, useSearchParams } from \"react-router-dom\";\nimport { JsxElement } from \"typescript\";\nimport { useAppDispatch, useAppSelector } from \"../app/hooks\";\nimport Product from \"../components/Products/Product\";\nimport { selectCategoryById } from \"../reducers/categorySlice\";\nimport { fetchProducts, selectError, selectProducts, selectStatus } from \"../reducers/productsSlice\";\nimport CategoryI from \"../types/CategoryI\";\nimport ProductParamsI from \"../types/ProductParamI\";\nimport ProductSort from \"../types/SortE\";\nimport { IDLE, LOADING, FULLFILLED, FAILED } from \"../utils/states\";\n// import { selectSearch } from \"../reducers/searchSlice\";\n\ntype Props = {};\nconst CategoryText = (props: { children: string | ReactNode; categoryId: number }) => {\n\tconst [searchParams] = useSearchParams();\n\tconst search = searchParams.get(\"value\") || \"\";\n\tlet params = new URLSearchParams();\n\tparams.set(\"categoryId\", props.categoryId.toString());\n\tparams.set(\"value\", search);\n\treturn (\n\t\t<Link to={\"/search?\" + params.toString()}>\n\t\t\t<Typography sx={{ fontSize: \"15px\", color: \"primary.blue\", marginY: \"10px\" }}>{props.children}</Typography>\n\t\t</Link>\n\t);\n};\nconst SearchPage = (props: Props) => {\n\tconst dispatch = useAppDispatch();\n\tconst [searchParams] = useSearchParams();\n\tconst search = searchParams.get(\"value\") || \"\";\n\tconst categoryId = Number.parseInt(searchParams.get(\"categoryId\") || \"0\");\n\tconst [selectedSort, setSelectedSort] = useState<ProductSort>(ProductSort.RELEVANCE);\n\tconst category = useAppSelector((state) => selectCategoryById(state, categoryId));\n\tconst parentCategory = useAppSelector((state) => selectCategoryById(state, category?.parentCategoryId || 1));\n\tconst products = useAppSelector(selectProducts);\n\tconst productStatus = useAppSelector(selectStatus);\n\tconst productError = useAppSelector(selectError);\n\tconst [expanded, setExpanded] = React.useState<string | false>(\"panel1\");\n\tconst handleChange = (panel: string) => (event: React.SyntheticEvent, newExpanded: boolean) => {\n\t\tsetExpanded(newExpanded ? panel : false);\n\t};\n\tconst [page, setPage] = useState(1);\n\n\tconst fetchConfig: ProductParamsI = {\n\t\tsize: 30,\n\t\tpage: page,\n\t\tsort: selectedSort,\n\t\tsearch: search,\n\t\tcategoryId: categoryId,\n\t};\n\tuseEffect(() => {\n\t\tdispatch(fetchProducts(fetchConfig));\n\t}, [search, categoryId]);\n\tlet content: JSX.Element | JSX.Element[] = <p>Idle</p>;\n\tif (productStatus === LOADING) {\n\t\tcontent = <p>Loading</p>;\n\t} else if (productStatus === FULLFILLED) {\n\t\tcontent = products.map((product) => (\n\t\t\t<Grid lg={4} md={6} sm={6} xs={12} key={product.id} item>\n\t\t\t\t<Product product={product} />\n\t\t\t</Grid>\n\t\t));\n\t} else if (productStatus === FAILED) {\n\t\tcontent = <p>{productError}</p>;\n\t}\n\tconst showCategories = (category: CategoryI | undefined) => {\n\t\treturn category?.categoryChildren.map((category) => {\n\t\t\tif (category.categoryChildren.length > 0) {\n\t\t\t\treturn (\n\t\t\t\t\t<Accordion key={category.id} sx={{ boxShadow: \"none\", margin: \"0px\", minHeight: \"0px\" }} disableGutters expanded={expanded === \"panel\" + category.id} onChange={handleChange(\"panel\" + category.id)}>\n\t\t\t\t\t\t<AccordionSummary sx={{ padding: \"0px\", margin: \"0px\" }} expandIcon={<KeyboardArrowDown sx={{ fontSize: \"0.9rem\" }} />}>\n\t\t\t\t\t\t\t<Typography sx={{ fontSize: \"15px\", color: \"primary.blue\", marginY: \"5px\" }}>{category.categoryName}</Typography>\n\t\t\t\t\t\t</AccordionSummary>\n\t\t\t\t\t\t<AccordionDetails sx={{ margin: 0, padding: 0, paddingLeft: \"10px\" }}>\n\t\t\t\t\t\t\t<CategoryText categoryId={category.id}>All Categories</CategoryText>\n\t\t\t\t\t\t\t{category.categoryChildren.map((category) => (\n\t\t\t\t\t\t\t\t<CategoryText key={category.id} categoryId={category.id}>\n\t\t\t\t\t\t\t\t\t{category.categoryName}\n\t\t\t\t\t\t\t\t</CategoryText>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</AccordionDetails>\n\t\t\t\t\t</Accordion>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<CategoryText key={category.id} categoryId={category.id}>\n\t\t\t\t\t\t{category.categoryName}\n\t\t\t\t\t</CategoryText>\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t};\n\treturn (\n\t\t<Container maxWidth=\"lg\">\n\t\t\t<Card sx={{ padding: \"15px\", marginTop: \"10px\", flexDirection: \"row\", display: \"flex\" }}>\n\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"column\", marginRight: \"auto\" }}>\n\t\t\t\t\t<Typography fontWeight={\"500\"} fontSize={\"17px\"}>\n\t\t\t\t\t\tSearching for: {search}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography>{products.length} results</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}>\n\t\t\t\t\t<Typography fontSize={\"15px\"} marginRight={\"10px\"}>\n\t\t\t\t\t\tSort by:\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select color=\"secondary\" value={selectedSort} onChange={(e) => setSelectedSort(e.target.value as ProductSort)} sx={{ height: \"40px\", width: \"180px\" }}>\n\t\t\t\t\t\t<MenuItem value={ProductSort.RELEVANCE}>Relevance</MenuItem>\n\t\t\t\t\t\t<MenuItem value={ProductSort.PRICE_ASCENDING}>Price Low to High</MenuItem>\n\t\t\t\t\t\t<MenuItem value={ProductSort.PRICE_DESCENDING}>Price High to Low </MenuItem>\n\t\t\t\t\t</Select>\n\t\t\t\t</Box>\n\t\t\t</Card>\n\t\t\t<Grid container sx={{ width: \"100%\", maxWidth: \"1240px\", marginTop: \"30px\" }}>\n\t\t\t\t<Grid item lg={3} md={3} sm={0} sx={{ display: { sm: \"none\", md: \"block\" } }}>\n\t\t\t\t\t<Card sx={{ display: \"flex\", flexDirection: \"column\", padding: \"10px 20px\" }}>\n\t\t\t\t\t\t<Box display=\"flex\" flexDirection={\"row\"}>\n\t\t\t\t\t\t\t<Typography fontSize={\"15px\"} fontWeight={\"500\"} marginY={\"10px\"} marginRight=\"auto\">\n\t\t\t\t\t\t\t\tCategories\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<CategoryText categoryId={category?.parentCategoryId || 1}>\n\t\t\t\t\t\t\t\t<ArrowUpward />\n\t\t\t\t\t\t\t</CategoryText>\n\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t<Box sx={{ display: \"flex\", flexDirection: \"column\", flex: \"1 1 1\" }}>{category?.categoryChildren.length === 0 ? showCategories(parentCategory) : showCategories(category)}</Box>\n\t\t\t\t\t</Card>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg={9} md={9} xs={12}>\n\t\t\t\t\t<Grid container spacing={3} sx={{ width: \"100%\" }}>\n\t\t\t\t\t\t{content}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Container>\n\t);\n};\n\nexport default SearchPage;\n","import React, { useEffect } from \"react\";\nimport Navbar from \"../components/Navbar/Navbar\";\nimport { Routes, Route, Navigate } from \"react-router\";\nimport HomePage from \"./HomePage\";\nimport ProductPage from \"./ProductPage\";\nimport RegisterPage from \"./RegisterPage\";\nimport LoginPage from \"./LoginPage\";\nimport MessageDropdown from \"../components/MessageDropdown\";\nimport { useAppDispatch, useAppSelector } from \"../app/hooks\";\nimport ProfilePage from \"./ProfilePage\";\nimport { selectUser, selectUserIsLogged } from \"../reducers/authSlice\";\nimport AdminPage from \"./AdminPage\";\nimport CartPage from \"./CartPage\";\nimport CheckoutPage from \"./CheckoutPage\";\nimport { Box } from \"@mui/material\";\nimport PaymentPage from \"./PaymentPage\";\nimport Orders from \"../components/profile/Orders\";\nimport SearchPage from \"./SearchPage\";\n\nfunction App() {\n\tconst user = useAppSelector(selectUser);\n\tlet isAdmin = false;\n\tif (user !== null) {\n\t\tisAdmin = user?.roles.includes(\"ROLE_ADMIN\");\n\t}\n\treturn (\n\t\t<Box>\n\t\t\t<Navbar isAdmin={isAdmin} />\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"/\" element={<HomePage />}></Route>\n\t\t\t\t<Route path=\"/cart\" element={<CartPage />}></Route>\n\t\t\t\t<Route path=\"/checkout\" element={<CheckoutPage />}></Route>\n\t\t\t\t<Route path=\"/search\" element={<SearchPage />}></Route>\n\t\t\t\t<Route path=\"/product/:slug\" element={<ProductPage />}></Route>\n\t\t\t\t<Route path=\"/profile/*\" element={<ProfilePage />}></Route>\n\t\t\t\t<Route path=\"/login\" element={<LoginPage />}></Route>\n\t\t\t\t<Route path=\"/register\" element={<RegisterPage />}></Route>\n\t\t\t\t<Route path=\"*\" element={<Navigate replace to=\"/\" />}></Route>\n\t\t\t\t<Route path=\"/admin\" element={isAdmin ? <AdminPage /> : <Navigate replace to=\"/\" />} />\n\t\t\t\t<Route path=\"/payment\" element={<PaymentPage />} />\n\t\t\t</Routes>\n\t\t</Box>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./app/store\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport theme from \"./theme\";\nimport { ThemeProvider } from \"@mui/material/styles\";\nimport App from \"./pages/App\";\nimport { BrowserRouter, HashRouter } from \"react-router-dom\";\nimport { useAppDispatch } from \"./app/hooks\";\nimport { fetchCategories } from \"./reducers/categorySlice\";\n\nconst container = document.getElementById(\"root\")!;\nconst root = createRoot(container);\n\nstore.dispatch(fetchCategories());\n\nroot.render(\n\t<React.StrictMode>\n\t\t<HashRouter>\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<App />\n\t\t\t\t</Provider>\n\t\t\t</ThemeProvider>\n\t\t</HashRouter>\n\t</React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}