(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{256:function(e,t,r){},260:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(180),i=r(101),s=r(22),o=r(9),l=r(15),d="idle",u="loading",j="fullfilled",x="failed",p=r(121),b=r.n(p),f=Object(s.c)({name:"message",initialState:{message:"",error:!1},reducers:{setMessage:function(e,t){return{message:t.payload.message,error:t.payload.error}},clearMessage:function(){return{message:"",error:!1}}}}),h=f.reducer,m=f.actions,O=m.setMessage,g=m.clearMessage,v=function(e){return{message:e.message.message,error:e.message.error}},y="https://ecommercebackend.czarnowskijakub.tech/api/v1";var w={getAccessToken:function(){var e=localStorage.getItem("user");if("string"===typeof e&&""!=e){var t=JSON.parse(e);if(t&&t.accessToken)return"Bearer "+t.accessToken}return""},getRefreshToken:function(){var e=localStorage.getItem("user");if("string"===typeof e&&""!=e){var t=JSON.parse(e);if(t&&t.refreshToken)return t.refreshToken}return""},updateAccessToken:function(e){var t=JSON.parse(localStorage.getItem("user")||"{}");t.accessToken=e,localStorage.setItem("user",JSON.stringify(t))}},C=b.a.create({baseURL:y,headers:{Authorization:w.getAccessToken(),"Content-Type":"application/json"},validateStatus:function(e){return e>=200&&e<=302}});C.interceptors.request.use((function(e){var t=w.getAccessToken();return t?e.headers.Authorization=t:delete C.defaults.headers.common.Authorization,e}),(function(e){return Promise.reject(e)})),C.interceptors.response.use((function(e){return e}),function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/auth/signin"===(r=t.config).url||!t.response||null===localStorage.getItem("user")){e.next=18;break}if(401!==t.response.status||r._retry){e.next=18;break}return r._retry=!0,e.prev=4,e.next=7,C.post("/auth/refreshtoken",JSON.stringify({refreshToken:w.getRefreshToken()}));case 7:return n=e.sent,a=n.data.accessToken,w.updateAccessToken(a),e.abrupt("return",C(r));case 13:return e.prev=13,e.t0=e.catch(4),localStorage.removeItem("user"),delete C.defaults.headers.common.Authorization,e.abrupt("return",Promise.reject(e.t0));case 18:return e.abrupt("return",Promise.reject(t));case 19:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()),C.interceptors.response.use((function(e){return e}),function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.config,401===t.response.status&&Ee.dispatch(O({message:"You have to be logged to do that.",error:!0})),e.abrupt("return",Promise.reject(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var S=C,k={products:[],status:"idle",error:""},I=Object(s.b)("products/fetchProducts",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/products",{params:t});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(s.b)("products/fetchProductBySlug",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/products/slug/"+t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=Object(s.b)("products/createProduct",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.post("/products",JSON.stringify(t));case 3:return n=e.sent,r.dispatch(O({message:"Product added",error:!1})),e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),r.dispatch(O({message:e.t0.response.data.message,error:!0})),e.abrupt("return",r.rejectWithValue({failed:!0}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()),W=Object(s.b)("products/deleteProduct",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.delete("/products/"+t);case 3:return e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),r.dispatch(O({message:e.t0.response.data.message,error:!0})),e.abrupt("return",r.rejectWithValue({failed:!0}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),N=Object(s.b)("products/editProduct",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.patch("/products/"+t.id,JSON.stringify(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),r.dispatch(O({message:e.t0.response.data.message,error:!0})),e.abrupt("return",r.rejectWithValue({failed:!0}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),P=Object(s.b)("products/uploadPicture",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post(y+"/static/upload",t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){console.log("Uploading : "+(e.loaded/e.total*100).toString()+"%")}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),r.rejectWithValue(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),A=Object(s.b)("favorite/addFavorite",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.post("/favorite?product_id=".concat(t));case 3:return e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",r.rejectWithValue(e.t0.response.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),R=Object(s.b)("favorite/deleteFavorite",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.delete("/favorite/".concat(t));case 3:return e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),r.dispatch(O({message:"Failed to remove favorite",error:!0})),e.abrupt("return",r.rejectWithValue(e.t0.response.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),q=Object(s.b)("review/addReview",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.post("/reviews/",JSON.stringify(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),r.dispatch(O({message:"Failed to add review",error:!0})),e.abrupt("return",r.rejectWithValue(e.t0.response.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),E=Object(s.c)({name:"products",initialState:k,reducers:{resetState:function(e){return k}},extraReducers:function(e){e.addCase(I.pending,(function(e){e.status=u})).addCase(I.fulfilled,(function(e,t){e.status=j,e.products=t.payload})).addCase(I.rejected,(function(e,t){e.status=x,console.log(t),e.error=t.error.message})).addCase(z.pending,(function(e){e.status=u})).addCase(z.fulfilled,(function(e,t){e.status=d;var r=e.products.findIndex((function(e){return e.id===t.payload.id}));-1!=r?e.products[r]=t.payload:e.products.push(t.payload)})).addCase(z.rejected,(function(e,t){e.status=x,console.log(t),e.error=t.error.message})).addCase(D.fulfilled,(function(e,t){e.products.push(t.payload)})).addCase(W.fulfilled,(function(e,t){var r=e.products.findIndex((function(e){return e.id===t.payload}));e.products.splice(r,1)})).addCase(A.fulfilled,(function(e,t){var r=e.products.findIndex((function(e){return e.id===t.payload})),n=e.products[r];n.favorite=!0,e.products[r]=n})).addCase(R.fulfilled,(function(e,t){var r=e.products.findIndex((function(e){return e.id===t.payload})),n=e.products[r];n.favorite=!1,e.products[r]=n}))}}),L=(E.actions.resetState,function(e){return e.products.products.filter((function(e){return!0===e.favorite}))}),T=function(e){return e.products.products},Y=function(e){return e.products.status},F=function(e){return e.products.error},B=E.reducer,V=r(13);function X(e){var t=[],r=(null===e||void 0===e?void 0:e.categoryChildren)||[];return 0==r.length?[e]:(r.forEach((function(e){var r=X(e);t.push.apply(t,Object(V.a)(r))})),t.push(e),t)}var U,$=Object(s.b)("categories/fetchCategories",Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/category/1",{});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),M=Object(s.b)("categories/deleteCategory",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.delete("/category/"+t,{});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),_=Object(s.b)("categories/createCategory",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.post("/category",JSON.stringify(t));case 3:return n=e.sent,r.dispatch(O({message:"Category added",error:!1})),e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),r.dispatch(O({message:e.t0.response.data.message,error:!0})),e.abrupt("return",r.rejectWithValue({failed:!0}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()),J=Object(s.b)("categories/editCategory",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.patch("/category/"+t.id,JSON.stringify(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),r.dispatch(O({message:e.t0.response.data.message,error:!0})),e.abrupt("return",r.rejectWithValue({failed:!0}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),H=Object(s.c)({name:"categories",initialState:{categories:null,status:"idle",error:""},reducers:{},extraReducers:function(e){e.addCase($.pending,(function(e){e.status=u})).addCase($.fulfilled,(function(e,t){e.status=j,e.categories=t.payload})).addCase($.rejected,(function(e,t){e.status=x,e.error=t.error.message}))}}),G=function(e){return e.categories.categories},Z=function(e,t){return X(e.categories.categories||{}).find((function(e){return e.id===t}))},Q=function(e){return e.categories.status},K=H.reducer,ee=localStorage.getItem("user");U=null!=ee?JSON.parse(ee||"{}"):null;var te=Object(s.b)("auth/register",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.post("auth/signup",JSON.stringify(t));case 3:return n=e.sent,r.dispatch(O({message:"Registered Succesfully",error:!1})),e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),r.dispatch(O({message:e.t0.response.data.message,error:!0})),e.abrupt("return",r.rejectWithValue({failed:!0}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()),re=Object(s.b)("auth/login",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.post("auth/signin",JSON.stringify(t));case 3:return n=e.sent,r.dispatch(O({message:"Logged In Succesfully",error:!1})),e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),r.dispatch(O({message:e.t0.response.data.message,error:!0})),e.abrupt("return",r.rejectWithValue({failed:!0}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()),ne=Object(s.b)("auth/logout",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("user"),window.location.reload();case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),ae=U?{isLoggedIn:!0,user:U,status:d}:{isLoggedIn:!1,user:null,status:d},ce=Object(s.c)({name:"auth",initialState:ae,reducers:{},extraReducers:function(e){e.addCase(te.fulfilled,(function(e,t){e.isLoggedIn=!1})).addCase(te.rejected,(function(e,t){e.isLoggedIn=!1})).addCase(re.fulfilled,(function(e,t){e.isLoggedIn=!0,e.user=t.payload,localStorage.setItem("user",JSON.stringify(t.payload))})).addCase(re.rejected,(function(e,t){console.log(t),e.isLoggedIn=!1,e.user=null})).addCase(ne.fulfilled,(function(e,t){e.isLoggedIn=!1,e.user=null,localStorage.removeItem("user")}))}}),ie=function(e){return e.auth.user},se=function(e){return e.auth.isLoggedIn},oe=ce.reducer,le={cart:{cartItems:[],totalCost:0},status:d,error:void 0},de=Object(s.b)("cart/fetchCart",Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/cart/");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),ue=Object(s.b)("cart/addToCart",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.post("/cart/",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",r.rejectWithValue(e.t0.response.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),je=Object(s.b)("cart/changeQuantity",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.put("/cart/",t);case 3:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),r.dispatch(O({message:"Failed to change quantity",error:!0})),console.log(e.t0),e.abrupt("return",r.rejectWithValue(e.t0.response.message));case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()),xe=Object(s.c)({name:"cart",initialState:le,reducers:{resetState:function(e){return le}},extraReducers:function(e){e.addCase(de.pending,(function(e){e.status=u})).addCase(de.fulfilled,(function(e,t){e.status=j,e.cart=t.payload})).addCase(de.rejected,(function(e,t){e.status=x,e.error=t.error.message})).addCase(ue.fulfilled,(function(e,t){console.log(t),e.cart.cartItems.push(t.payload)})).addCase(ue.rejected,(function(e,t){console.log(t)})).addCase(je.fulfilled,(function(e,t){var r=e.cart.cartItems.findIndex((function(e){return e.id===t.payload.id}));e.cart.cartItems[r].quantity=t.payload.quantity,0==t.payload.quantity&&e.cart.cartItems.splice(r,1)}))}}),pe=function(e){return e.cart.cart},be=function(e){var t=0;return e.cart.cart.cartItems.forEach((function(e){t+=e.quantity})),t},fe=function(e){return e.cart.status},he=function(e,t){return e.cart.cart.cartItems.find((function(e){return e.product.id===t}))},me=xe.actions.resetState,Oe=xe.reducer,ge={addresses:[],status:d,error:void 0},ve=Object(s.b)("address/fetchAddress",Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/address/");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),ye=Object(s.b)("address/createAddress",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.post("/address/",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),r.dispatch(O({message:"Failed to create address",error:!0})),e.abrupt("return",r.rejectWithValue(e.t0.response.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),we=Object(s.b)("address/deleteAddress",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.delete("/address/".concat(t));case 3:return e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),r.dispatch(O({message:"Failed to delete address",error:!0})),e.abrupt("return",r.rejectWithValue(e.t0.response.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),Ce=Object(s.b)("address/updateAddress",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.patch("/address/".concat(t.id),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),r.dispatch(O({message:"Failed to update address",error:!0})),e.abrupt("return",r.rejectWithValue(e.t0.response.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),Se=Object(s.c)({name:"address",initialState:ge,reducers:{resetState:function(e){return ge}},extraReducers:function(e){e.addCase(ve.pending,(function(e){e.status=u})).addCase(ve.fulfilled,(function(e,t){e.status=j,e.addresses=t.payload})).addCase(ve.rejected,(function(e,t){e.status=x,e.error=t.error.message})).addCase(ye.fulfilled,(function(e,t){e.addresses.push(t.payload)})).addCase(we.fulfilled,(function(e,t){var r=e.addresses.findIndex((function(e){return e.id===t.payload}));e.addresses.splice(r,1)})).addCase(Ce.fulfilled,(function(e,t){var r=e.addresses.findIndex((function(e){return e.id===t.payload.id}));e.addresses[r]=t.payload}))}}),ke=function(e){return e.address.addresses},Ie=function(e){return e.address.status},ze=(Se.actions.resetState,Se.reducer),De={orders:[],status:"idle",error:""},We=Object(s.b)("orders/fetchOrders",Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/orders/");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),Ne=(Object(s.b)("orders/fetchOrders",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/orders/"+t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(s.b)("orders/addOrder",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.post("/orders/",JSON.stringify(t));case 3:return n=e.sent,r.dispatch(me()),e.abrupt("return",n.data);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),r.dispatch(O({message:"Failed to create order",error:!0})),e.abrupt("return",r.rejectWithValue(e.t0.response.message));case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}())),Pe=(Object(s.b)("orders/cancelOrder",function(){var e=Object(l.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.patch("/orders/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),r.dispatch(O({message:"Failed to cancel order",error:!0})),e.abrupt("return",r.rejectWithValue(e.t0.response.message));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()),Object(s.c)({name:"order",initialState:De,reducers:{resetState:function(e){return De}},extraReducers:function(e){e.addCase(We.pending,(function(e){e.status=u})).addCase(We.fulfilled,(function(e,t){e.orders=t.payload,e.orders.sort((function(e,t){return new Date(t.timeOrdered).getTime()-new Date(e.timeOrdered).getTime()})),e.status=j})).addCase(We.rejected,(function(e,t){e.status=x,e.error=t.error.message}))}})),Ae=function(e){return e.order.orders},Re=function(e){return e.order.status},qe=(Pe.actions.resetState,Pe.reducer),Ee=Object(s.a)({reducer:{products:B,categories:K,auth:oe,message:h,cart:Oe,address:ze,order:qe}}),Le=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,396)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))},Te=r(158),Ye=Object(Te.a)({palette:{type:"light",primary:{main:"#ffffff",dark:"#787878",gray:"#949ba7",blue:"#373f50",light:"#DAE1E7"},secondary:{main:"#d23f57"},background:{default:"#f6f9fc"},text:{secondary:"#7d879c",primary:"#2B3445",main:"949ba7"}},overrides:{MuiSwitch:{root:{width:42,height:26,padding:0,margin:8},switchBase:{padding:1,"&$checked, &$colorPrimary$checked, &$colorSecondary$checked":{transform:"translateX(16px)",color:"#fff","& + $track":{opacity:1,border:"none"}}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid #bdbdbd",backgroundColor:"#fafafa",opacity:1,transition:"background-color 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},MuiLink:{styleOverrides:{root:{textDecoration:"none"}}}}}}),Fe=r(375),Be=r(6),Ve=r(317),Xe=r(378),Ue=r(359),$e=r(382),Me=r(191),_e=r(188),Je=r.n(_e),He=r(189),Ge=r.n(He),Ze=r(337),Qe=r(338),Ke=r(339),et=r(340),tt=r(341),rt=r(342),nt=r(14),at=function(){return Object(i.b)()},ct=i.c,it=r(319),st=r(377),ot=r(361),lt=r(1),dt=function(e){var t=Object(n.useState)(!1),r=Object(Be.a)(t,2),a=r[0],c=r[1],i=at(),s=ct(v),o=s.message,l=s.error;return o&&!a&&c(!0),Object(n.useEffect)((function(){var e=setTimeout((function(){c(!1),i(g())}),3e3);return function(){return clearTimeout(e)}}),[o]),Object(lt.jsx)(Ve.a,{sx:{width:"100%",zIndex:"1202",position:"relative"},children:Object(lt.jsx)(st.a,{in:a,timeout:"auto",sx:{mb:2,paddingBottom:"0",marginBottom:"0"},children:Object(lt.jsx)(ot.a,{severity:l?"error":"info",action:Object(lt.jsx)(Xe.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){c(!1),i(g())},children:Object(lt.jsx)(it.a,{fontSize:"inherit"})}),children:o})})})},ut=r(329),jt=r(370),xt=r(108),pt=r(330),bt=r(371),ft=r(328),ht=function(e){var t=0;return e.forEach((function(e){t+=e.product.price*e.quantity})),t.toFixed(2)},mt=r(322),Ot=r(369),gt=r(29),vt="https://ecommercebackend.czarnowskijakub.tech/api/v1/static/",yt=r(320),wt=r(321),Ct=function(e){var t=e.quantity,r=(e.product,e.cartItemId),n=at();return Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(lt.jsx)(Xe.a,{sx:{border:"1px solid"},color:"secondary",onClick:function(){return n(je({id:r,quantity:t+1}))},children:Object(lt.jsx)(yt.a,{fontSize:"small",color:"secondary"})}),Object(lt.jsx)(xt.a,{variant:"subtitle2",sx:{fontSize:"15px"},children:t}),Object(lt.jsx)(Xe.a,{sx:{border:"1px solid"},color:"secondary",disabled:1===t,onClick:function(){return n(je({id:r,quantity:t-1}))},children:Object(lt.jsx)(wt.a,{fontSize:"small",color:1===t?"disabled":"secondary"})})]})},St=function(e){var t=e.product,r=e.quantity,n=e.cartItemId,a=at();return Object(lt.jsxs)(Ve.a,{sx:{display:"flex",alignItems:"center",padding:"16px 20px"},children:[Object(lt.jsx)(Ct,{quantity:r,product:t,cartItemId:n}),Object(lt.jsx)(Ot.a,{sx:{width:"74px",height:"76px",marginX:"16px"},variant:"square",children:Object(lt.jsx)("img",{style:{width:"100%",height:"100%",objectFit:"cover"},src:vt+t.imagesUrl[0],alt:t.name})}),Object(lt.jsxs)(Ve.a,{sx:{flex:"1 1 0"},children:[Object(lt.jsx)(gt.b,{to:"/product/"+t.slug,children:Object(lt.jsx)(xt.a,{variant:"h5",sx:{fontSize:"14px",fontWeight:"500"},children:t.name})}),Object(lt.jsxs)(xt.a,{variant:"caption",sx:{fontSize:"10px"},children:["$",t.price," x ",r]}),Object(lt.jsxs)(xt.a,{variant:"h5",color:"secondary",sx:{fontSize:"14px",fontWeight:"500"},children:["$",(t.price*r).toFixed(2)]})]}),Object(lt.jsx)(Xe.a,{onClick:function(){return a(je({id:n,quantity:0}))},color:"secondary",children:Object(lt.jsx)(mt.a,{color:"disabled"})})]})},kt=function(e){var t=e.open,r=e.onClose,a=Object(nt.m)(),c=ct(pe),i=ct(fe),s=ct(se),o=at();return Object(n.useEffect)((function(){i===d&&s&&o(de())}),[s]),Object(lt.jsxs)(jt.a,{sx:{zIndex:1204,display:"flex",flexDirection:"column"},anchor:"right",open:t,onClose:function(){return r()},children:[Object(lt.jsx)(ft.a,{sx:{width:"380px"},children:Object(lt.jsxs)(ft.a,{sx:{height:"calc((100vh- 80px) - 3.25rem)"},children:[Object(lt.jsxs)(ft.a,{sx:{display:"flex",alignItems:"center",marginX:"20px",height:"74px"},children:[Object(lt.jsx)(ut.a,{}),Object(lt.jsxs)(xt.a,{variant:"h6",sx:{fontSize:"16px",marginLeft:"8px"},children:[c.cartItems.length," items"]})]}),Object(lt.jsx)(pt.a,{}),void 0!=c.cartItems?c.cartItems.map((function(e){return Object(lt.jsx)(St,{cartItemId:e.id,product:e.product,quantity:e.quantity},e.id)})):""]})}),Object(lt.jsxs)(ft.a,{sx:{padding:"20px",marginTop:"auto"},children:[Object(lt.jsxs)(bt.a,{color:"secondary",onClick:function(){a("/checkout"),r()},variant:"contained",sx:{width:"100%",textTransform:"none"},children:["Checkout now ($",ht(c.cartItems),")"]}),Object(lt.jsx)(bt.a,{onClick:function(){a("/cart"),r()},color:"secondary",variant:"outlined",sx:{width:"100%",textTransform:"none",marginY:"10px"},children:"View Cart"})]})]})},It=r(343),zt=r.p+"static/media/logo2.90b21b60.svg",Dt=r(332),Wt=r(336),Nt=r(365),Pt=function(e){var t,r=Object(nt.m)(),a=(at(),Object(n.useState)(1)),c=Object(Be.a)(a,2),i=c[0],s=c[1],o=ct(G)||{},l=ct((function(e){return Z(e,i)}))||{},d=Object(n.useState)(""),u=Object(Be.a)(d,2),j=u[0],x=u[1],p=Object(n.useState)(null),b=Object(Be.a)(p,2),f=b[0],h=b[1],m=Boolean(f),O=function(){h(null)},g=Object(lt.jsxs)(Me.a,{anchorEl:f,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:m,onClose:O,children:[Object(lt.jsx)($e.a,{onClick:function(){s(1),O()},children:Object(lt.jsx)(xt.a,{variant:"body1",children:"All Categories"})}),(null===(t=o.categoryChildren)||void 0===t?void 0:t.map((function(e){return Object(lt.jsx)($e.a,{onClick:function(){s(e.id),O()},children:Object(lt.jsx)(xt.a,{variant:"body1",children:e.categoryName})},e.id)})))||""]});return Object(lt.jsxs)(Ve.a,{onSubmit:function(e){e.preventDefault();var t=new URLSearchParams;t.set("value",j),t.set("categoryId",i.toString()),r("/search?"+t.toString())},component:"form",sx:{border:"1px solid",borderColor:"primary.light",width:"100%",height:"44px",display:"flex",flexDirection:"row",borderRadius:"20px",padding:"2px",alignItems:"center",gap:"5px",overflow:"hidden"},children:[Object(lt.jsx)(Dt.a,{sx:{marginX:"10px"}}),Object(lt.jsx)(Nt.a,{value:j,onChange:function(e){return x(e.target.value)},placeholder:"Search...",sx:{width:"100%"},variant:"standard",focused:!0}),Object(lt.jsxs)(bt.a,{onClick:function(e){h(e.currentTarget)},sx:{borderLeft:"1px solid #DAE1E7",bgcolor:"background.default",height:"100%",color:"primary.dark",paddingX:"24px",textTransform:"none",whiteSpace:"nowrap"},children:[1===i?"All Categories":null===l||void 0===l?void 0:l.categoryName,Object(lt.jsx)(Wt.a,{})]}),g]})};function At(e){var t=e.isAdmin,r=Object(nt.m)(),a=Object(n.useState)(!1),c=Object(Be.a)(a,2),i=c[0],s=c[1],o="primary-search-account-menu-mobile",l=n.useState(null),d=Object(Be.a)(l,2),u=d[0],j=d[1],x=ct(se),p=ct(be),b=Boolean(u),f=at(),h=Object(lt.jsx)(Me.a,{anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},id:o,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:function(){j(null)},children:x?Object(lt.jsxs)("div",{children:[Object(lt.jsxs)($e.a,{onClick:function(){return r("/profile")},children:[Object(lt.jsx)(Xe.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(lt.jsx)(Ze.a,{})}),Object(lt.jsx)("p",{children:"Profile"})]}),Object(lt.jsxs)($e.a,{onClick:function(){return s(!i)},children:[Object(lt.jsx)(Xe.a,{size:"large","aria-label":"Open cart",color:"inherit",children:Object(lt.jsx)(Ue.a,{badgeContent:17,color:"error",children:Object(lt.jsx)(Qe.a,{})})}),Object(lt.jsx)("p",{children:"Cart"})]}),t?Object(lt.jsxs)($e.a,{onClick:function(){return r("/admin")},children:[Object(lt.jsx)(Xe.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(lt.jsx)(Ke.a,{})}),Object(lt.jsx)("p",{children:"Admin Panel"})]}):"",Object(lt.jsxs)($e.a,{onClick:function(){return f(ne())},children:[Object(lt.jsx)(Xe.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(lt.jsx)(et.a,{})}),Object(lt.jsx)("p",{children:"Logout"})]})]}):Object(lt.jsxs)("div",{children:[Object(lt.jsxs)($e.a,{onClick:function(){return r("/login")},children:[Object(lt.jsx)(Xe.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(lt.jsx)(tt.a,{})}),Object(lt.jsx)("p",{children:"Login"})]}),Object(lt.jsxs)($e.a,{onClick:function(){return r("/register")},children:[Object(lt.jsx)(Xe.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(lt.jsx)(rt.a,{})}),Object(lt.jsx)("p",{children:"Register"})]})]})}),m=n.useState(null),g=Object(Be.a)(m,2),v=g[0],y=g[1],w=Boolean(v),C=Object(lt.jsx)(Me.a,{anchorEl:v,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:w,onClose:function(){y(null)},children:x?Object(lt.jsxs)("div",{children:[Object(lt.jsxs)($e.a,{onClick:function(){return r("/profile")},children:[Object(lt.jsx)(Xe.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(lt.jsx)(Ze.a,{})}),Object(lt.jsx)("p",{children:"Profile"})]}),t?Object(lt.jsxs)($e.a,{onClick:function(){return r("/admin")},children:[Object(lt.jsx)(Xe.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(lt.jsx)(Ke.a,{})}),Object(lt.jsx)("p",{children:"Admin Panel"})]}):"",Object(lt.jsxs)($e.a,{onClick:function(){return f(ne())},children:[Object(lt.jsx)(Xe.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(lt.jsx)(et.a,{})}),Object(lt.jsx)("p",{children:"Logout"})]})]}):Object(lt.jsxs)("div",{children:[Object(lt.jsxs)($e.a,{onClick:function(){return r("/login")},children:[Object(lt.jsx)(Xe.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(lt.jsx)(tt.a,{})}),Object(lt.jsx)("p",{children:"Login"})]}),Object(lt.jsxs)($e.a,{onClick:function(){return r("/register")},children:[Object(lt.jsx)(Xe.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(lt.jsx)(rt.a,{})}),Object(lt.jsx)("p",{children:"Register"})]})]})});return Object(lt.jsxs)(lt.Fragment,{children:[Object(lt.jsxs)(Ve.a,{sx:{zIndex:"1203",position:"relative"},children:[Object(lt.jsx)(dt,{}),Object(lt.jsx)(Ve.a,{sx:{height:"80px",backgroundColor:"primary.main"},children:Object(lt.jsxs)(It.a,{maxWidth:"lg",sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",height:"100%"},children:[Object(lt.jsx)(bt.a,{onClick:function(){return r("/")},component:"div",sx:{display:{xs:"none",sm:"flex"},height:"100%"},children:Object(lt.jsx)("img",{src:zt,alt:"logo",style:{objectFit:"scale-down",height:"100%"}})}),Object(lt.jsx)(Ve.a,{sx:{flex:"1 1 0",display:"flex",alignItems:"center"},children:Object(lt.jsx)(Ve.a,{sx:{maxWidth:"670px",marginX:"auto",width:"100%"},children:Object(lt.jsx)(Pt,{})})}),Object(lt.jsxs)(Ve.a,{sx:{display:{xs:"none",md:"flex"}},children:[Object(lt.jsx)(Xe.a,{onClick:function(e){y(e.currentTarget)},size:"large","aria-label":"account of current user","aria-haspopup":"true",color:"inherit",children:Object(lt.jsx)(Je.a,{})}),Object(lt.jsx)(Xe.a,{onClick:function(){return x?s(!i):f(O({message:"Log In First",error:!1}))},size:"large","aria-label":"Open cart",color:"inherit",children:Object(lt.jsx)(Ue.a,{badgeContent:p,color:"error",children:Object(lt.jsx)(Qe.a,{})})})]}),Object(lt.jsx)(Ve.a,{sx:{display:{xs:"flex",md:"none"}},children:Object(lt.jsx)(Xe.a,{size:"large","aria-label":"show more","aria-controls":o,"aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},color:"inherit",children:Object(lt.jsx)(Ge.a,{})})})]})}),h,C]}),Object(lt.jsx)(kt,{open:i,onClose:function(){s(!1)}})]})}var Rt=r(373),qt=r(385),Et=r(344),Lt=r(345),Tt=r(372),Yt=r(363),Ft=function(e){var t=e.product,r=at(),a=ct((function(e){return he(e,t.id)})),c=void 0!==a,i=Object(n.useState)(t.favorite),s=Object(Be.a)(i,2),d=s[0],u=s[1],j=function(){var e=Object(l.a)(Object(o.a)().mark((function e(n){var a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),d){e.next=7;break}return e.next=4,r(A(t.id));case 4:a=e.sent,e.next=11;break;case 7:return console.log(t),e.next=10,r(R(t.id));case 10:a=e.sent;case 11:"rejected"!==a.meta.requestStatus&&u(!d);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(lt.jsxs)(qt.a,{sx:{minWidth:275,backgroundColor:"primary.main",margin:"5px",display:"flex",flexDirection:"column",height:"100%",maxWidth:"440px"},children:[Object(lt.jsxs)(Ve.a,{sx:{display:"inline-block",position:"relative",marginBottom:"5px",maxWidth:"440px",maxHeight:"440px",aspectRatio:"1/1",width:"100%",height:"100%"},children:[Object(lt.jsx)(Tt.a,{sx:{top:"10px",left:"10px",position:"absolute"},label:"5% off",variant:"filled",size:"small",color:"secondary"}),Object(lt.jsx)(Xe.a,{sx:{padding:"5px",paddingBottom:"0",top:"7px",right:"15px",position:"absolute"},"aria-label":"favorite",onClick:function(e){return j(e)},children:d?Object(lt.jsx)(Et.a,{color:"secondary"}):Object(lt.jsx)(Lt.a,{})}),Object(lt.jsx)(gt.b,{to:"/product/"+t.slug,children:Object(lt.jsx)("img",{style:{objectFit:"contain",width:"100%",height:"100%",aspectRatio:"1/1"},src:vt+t.imagesUrl[0],alt:"product"})})]}),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",padding:"1rem"},children:[Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"column",minWidth:"0px",justifyContent:"left",marginRight:"auto"},children:[Object(lt.jsx)(gt.b,{to:"/product/"+t.slug,children:Object(lt.jsx)(xt.a,{sx:{marginY:"5px",fontSize:"14px",fontWeight:"500"},mt:2,variant:"h3",color:"text.primary",children:t.name})}),Object(lt.jsx)(Yt.a,{size:"small",name:"read-only",sx:{marginY:"5px"},value:t.rating,readOnly:!0,precision:.25}),Object(lt.jsxs)(xt.a,{variant:"subtitle1",sx:{fontSize:14,color:"secondary.main",marginY:"5px",fontWeight:"600"},children:["$",t.price]})]}),c?Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"column-reverse",alignItems:"center",justifyContent:"space-between"},children:[Object(lt.jsx)(bt.a,{sx:{aspectRatio:"1/1",margin:0,minWidth:"0px",minHeight:"0px",padding:"3px"},size:"small",variant:"outlined",color:"secondary",onClick:function(){return r(je({id:a.id,quantity:a.quantity+1}))},children:Object(lt.jsx)(yt.a,{fontSize:"small",color:"secondary"})}),Object(lt.jsx)(xt.a,{variant:"subtitle2",sx:{fontSize:"15px"},children:a.quantity}),Object(lt.jsx)(bt.a,{sx:{aspectRatio:"1/1",margin:0,minWidth:"0px",minHeight:"0px",padding:"3px"},size:"small",variant:"outlined",color:"secondary",onClick:function(){return r(je({id:a.id,quantity:a.quantity-1}))},children:Object(lt.jsx)(wt.a,{fontSize:"small"})})]}):Object(lt.jsx)(Ve.a,{sx:{display:"flex",flexDirection:"column-reverse",alignItems:"center",justifyContent:"flex-start"},children:Object(lt.jsx)(bt.a,{sx:{aspectRatio:"1/1",margin:0,minWidth:"0px",minHeight:"0px",padding:"3px"},variant:"outlined",size:"small",color:"secondary",onClick:function(){return r(ue({productId:t.id,quantity:1}))},children:Object(lt.jsx)(yt.a,{fontSize:"small",color:"secondary"})})})]})]})};r(256);var Bt=function(){var e=at(),t=ct(T),r=ct(Y),a=ct(F),c={size:30,page:1};Object(n.useEffect)((function(){e(I(c))}),[]);var i=Object(lt.jsx)("p",{children:"Idle"});return r===u?i=Object(lt.jsx)("p",{children:"Loading"}):r===j?i=t.map((function(e){return Object(lt.jsx)(Rt.a,{xs:4,sm:4,md:4,lg:3,item:!0,children:Object(lt.jsx)(Ft,{product:e})},e.id)})):r===x&&(i=Object(lt.jsx)("p",{children:a})),Object(lt.jsx)(Ve.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(lt.jsx)(Rt.a,{container:!0,spacing:2,columns:{xs:4,sm:8,md:12,lg:12},sx:{width:"100%",maxWidth:"1240px"},children:i})})},Vt=r(360),Xt=r(386),Ut=r(346),$t=r(129),Mt=r.n($t),_t=function(e){var t=e.name,r=e.rating,n=e.timePosted,a=e.message;return Object(lt.jsx)(ft.a,{sx:{width:"100%",marginTop:"30px"},children:Object(lt.jsxs)(ft.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(lt.jsxs)(ft.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(lt.jsx)(Ot.a,{sx:{marginX:"5px"}}),Object(lt.jsxs)(ft.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(lt.jsx)(xt.a,{variant:"h5",sx:{textTransform:"capitalize",marginX:"5px",fontSize:"16px",fontWeight:"500"},children:t}),Object(lt.jsxs)(ft.a,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[Object(lt.jsx)(Yt.a,{value:r,readOnly:!0}),Object(lt.jsx)(xt.a,{sx:{marginX:"5px",fontSize:"16px",fontWeight:"500"},children:r.toFixed(1)}),Object(lt.jsx)(xt.a,{sx:{MarginX:"5px",fontSize:"16px",fontWeight:"400"},children:Mt()(n).fromNow()})]})]})]}),Object(lt.jsx)(ft.a,{children:Object(lt.jsx)(xt.a,{variant:"body2",sx:{marginTop:"15px",fontSize:"15px",fontWeight:"400"},children:a})})]})})},Jt=r(383),Ht=function(e){var t=e.productId,r=Object(n.useState)(""),a=Object(Be.a)(r,2),c=a[0],i=a[1],s=Object(n.useState)(0),o=Object(Be.a)(s,2),l=o[0],d=o[1],u=at();return Object(lt.jsxs)(Ve.a,{sx:{width:"100%",display:"flex",flexDirection:"column",marginTop:"30px",gap:"15px"},children:[Object(lt.jsx)(xt.a,{sx:{fontSize:"28px",fontWeight:"400"},children:"Write a review"}),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(lt.jsx)(xt.a,{sx:{fontSize:"16px",color:"primary.blue"},children:"Your Rating:"}),Object(lt.jsx)(Yt.a,{onChange:function(e,t){return d(t||0)},value:l})]}),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(lt.jsx)(xt.a,{sx:{fontSize:"16px",color:"primary.blue"},children:"Your Review:"}),Object(lt.jsx)(Jt.a,{value:c,onChange:function(e){return i(e.target.value)},color:"secondary",multiline:!0,placeholder:"Write a review here...",rows:4})]}),Object(lt.jsx)(bt.a,{onClick:function(){u(q({productId:t,review:c,rating:l})),i(""),d(0)},sx:{width:"80px",marginY:"10px "},color:"secondary",variant:"contained",children:"Submit"})]})};function Gt(e,t){var r=[t];return 1===t.id||r.push.apply(r,Object(V.a)(Gt(e,e.find((function(e){return e.id===t.parentCategoryId}))||{}))),r}var Zt=function(){var e,t=Object(nt.o)().slug,r=at(),a=Object(n.useState)(0),c=Object(Be.a)(a,2),i=c[0],s=c[1],o=ct((function(e){return function(e,t){return e.products.products.find((function(e){return e.slug===t}))}(e,t||"")})),l=ct((function(e){return he(e,(null===o||void 0===o?void 0:o.id)||0)})),d=ct(G),u=ct(Q),x=void 0,p=Object(n.useState)(0),b=Object(Be.a)(p,2),f=b[0],h=b[1];if(Object(n.useEffect)((function(){r(z(t||""))}),[t]),void 0===o)return Object(lt.jsx)("p",{children:"Loading"});var m=void 0!==l;if(void 0===o)return Object(lt.jsx)("p",{children:"Loading"});if(u===j){var O=X(d||{}),g=Gt(O,O.find((function(e){return e.id===(null===o||void 0===o?void 0:o.categoryId)}))||{}).reverse();x=Object(lt.jsx)(Ve.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"10px"},children:g.map((function(e,t){return 1==e.id?Object(lt.jsxs)(xt.a,{variant:"body2",sx:{fontSize:"12px",fontWeight:"500",marginBottom:"15px"},children:["Bazar "," ",t==g.length-1?"":"--\x3e"]}):Object(lt.jsxs)(xt.a,{variant:"body2",sx:{fontSize:"12px",fontWeight:"500",marginBottom:"15px"},children:[e.categoryName," ",t==g.length-1?"":"--\x3e"]})}))})}return Object(lt.jsxs)(Ve.a,{sx:{width:"100%",height:"auto",position:"sticky",backgroundColor:"primary.main",overflow:"hidden"},children:[Object(lt.jsxs)(Rt.a,{container:!0,maxWidth:"lg",columns:12,sx:{paddingTop:"24px",marginBottom:"16px",marginX:" auto"},children:[Object(lt.jsxs)(Rt.a,{item:!0,xs:12,md:6,sx:{paddingX:"24px",alignItems:"center",flexDirection:"column",display:"flex"},children:[Object(lt.jsx)(Ve.a,{children:Object(lt.jsx)("img",{src:vt+o.imagesUrl[i],style:{objectFit:"contain",height:"350px",width:"350px"},alt:"Main Image"})}),Object(lt.jsx)(Ve.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",gap:"10px"},children:o.imagesUrl.map((function(e,t){return Object(lt.jsx)(Ve.a,{onClick:function(){return s(t)},sx:{border:"1px solid",borderColor:[i===t?"secondary.main":"primary.light"],borderRadius:"10px",width:"64px",height:"64px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(lt.jsx)(Ot.a,{sx:{height:"40px"},variant:"square",children:Object(lt.jsx)("img",{src:vt+o.imagesUrl[t],alt:"",style:{width:"inherit",height:"inherit",objectFit:"fill"}})})},t)}))})]}),Object(lt.jsxs)(Rt.a,{item:!0,xs:12,md:6,sx:{paddingLeft:"10px"},children:[Object(lt.jsx)(xt.a,{variant:"h1",sx:{fontSize:"30px",fontWeight:"600",marginBottom:"20px"},children:o.name}),void 0!==x?x:Object(lt.jsx)("p",{children:"..."}),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"20px"},children:[Object(lt.jsx)("span",{children:"Ratings:"}),Object(lt.jsx)(Yt.a,{value:o.rating,readOnly:!0,size:"small",sx:{marginX:"5px"},precision:.25}),Object(lt.jsxs)("span",{children:["(",o.ratingCount,")"]})]}),Object(lt.jsxs)(Ve.a,{sx:{marginBottom:"20px"},children:[Object(lt.jsxs)(xt.a,{variant:"h2",sx:{fontSize:"25px",fontWeight:"600",color:"secondary.main",marginBottom:"15x"},children:["$",o.price.toFixed(2)]}),Object(lt.jsx)("span",{children:"Stock available"})]}),Object(lt.jsx)(Ve.a,{children:m?Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:"0px"},children:[Object(lt.jsx)(bt.a,{sx:{border:"1px solid",aspectRatio:"1/1",minWidth:"0px",minHeight:"0px",padding:"5px"},color:"secondary",onClick:function(){return r(je({id:l.id,quantity:l.quantity-1}))},children:Object(lt.jsx)(wt.a,{fontSize:"small",color:"secondary"})}),Object(lt.jsx)(xt.a,{variant:"subtitle2",sx:{fontSize:"15px",marginX:"15px"},children:l.quantity}),Object(lt.jsx)(bt.a,{sx:{border:"1px solid",aspectRatio:"1/1",minWidth:"0px",minHeight:"0px",padding:"5px"},color:"secondary",onClick:function(){return r(je({id:l.id,quantity:l.quantity+1}))},children:Object(lt.jsx)(yt.a,{fontSize:"small",color:"secondary"})})]}):Object(lt.jsx)(bt.a,{variant:"contained",color:"secondary",onClick:function(e){return r(ue({productId:o.id,quantity:1}))},children:"Add To Cart"})})]})]}),Object(lt.jsxs)(Ut.a,{maxWidth:"lg",children:[Object(lt.jsx)(Ve.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(lt.jsxs)(Vt.a,{indicatorColor:"secondary",textColor:"secondary",value:f,onChange:function(e,t){h(t)},"aria-label":"basic tabs example",children:[Object(lt.jsx)(Xt.a,{label:"Description",sx:{textTransform:"none"},id:"description","aria-controls":"description"}),Object(lt.jsx)(Xt.a,{label:"Reviews (".concat(o.ratingCount,")"),sx:{textTransform:"none"},id:"review","aria-controls":"review"})]})}),Object(lt.jsxs)(Ve.a,{id:"description","aria-labelledby":"description",hidden:0!==f,sx:{margin:"16px"},children:[Object(lt.jsx)(xt.a,{variant:"h3",sx:{fontSize:"20px",fontWeight:"500",marginBottom:"16px"},children:"Description:"}),Object(lt.jsx)(xt.a,{variant:"body2",children:o.description})]}),Object(lt.jsxs)(Ve.a,{id:"review","aria-labelledby":"review",hidden:1!==f,sx:{margin:"20px"},children:[null===o||void 0===o||null===(e=o.reviews)||void 0===e?void 0:e.map((function(e){return Object(lt.jsx)(_t,{name:e.name,rating:e.rating,timePosted:e.postDate,message:e.review},"review"+(null===e||void 0===e?void 0:e.id))})),Object(lt.jsx)(Ht,{productId:o.id})]})]})]})},Qt=r(3),Kt=r(27),er=r(130),tr=r.n(er);function rr(){var e=n.useState({username:"",password:"",email:"",name:"",surname:""}),t=Object(Be.a)(e,2),r=t[0],a=t[1],c=Object(nt.m)(),i=at();ct(se)&&c("/");var s=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i(te(r)).unwrap();case 4:n=e.sent,n.failed||c("/login"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){a((function(t){return Object(Kt.a)(Object(Kt.a)({},t),{},Object(Qt.a)({},e.target.name,e.target.value))}))};return Object(lt.jsx)(It.a,{component:"main",maxWidth:"xs",children:Object(lt.jsxs)(Ve.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(lt.jsx)(Ot.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(lt.jsx)(tr.a,{})}),Object(lt.jsx)(xt.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(lt.jsxs)(Ve.a,{component:"form",onSubmit:s,sx:{mt:3},children:[Object(lt.jsxs)(Rt.a,{container:!0,spacing:2,children:[Object(lt.jsx)(Rt.a,{item:!0,xs:12,sm:6,children:Object(lt.jsx)(Nt.a,{onChange:function(e){return d(e)},color:"info",autoComplete:"given-name",name:"name",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(lt.jsx)(Rt.a,{item:!0,xs:12,sm:6,children:Object(lt.jsx)(Nt.a,{onChange:function(e){return d(e)},color:"info",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"surname",autoComplete:"family-name"})}),Object(lt.jsx)(Rt.a,{item:!0,xs:12,children:Object(lt.jsx)(Nt.a,{onChange:function(e){return d(e)},color:"info",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"nickname"})}),Object(lt.jsx)(Rt.a,{item:!0,xs:12,children:Object(lt.jsx)(Nt.a,{onChange:function(e){return d(e)},inputProps:{pattern:"^[a-zA-Z0-9._:$!%-]+@[a-zA-Z0-9.-]+.[a-zA-Z]$"},color:"info",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(lt.jsx)(Rt.a,{item:!0,xs:12,children:Object(lt.jsx)(Nt.a,{onChange:function(e){return d(e)},inputProps:{pattern:"^(?=.*?[A-Za-z])(?=.*?[0-9]).{6,}$"},color:"info",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})})]}),Object(lt.jsx)(bt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,color:"primary.darker"},children:"Sign Up"}),Object(lt.jsx)(Rt.a,{container:!0,justifyContent:"flex-end",children:Object(lt.jsx)(Rt.a,{item:!0,children:Object(lt.jsx)(gt.b,{to:"/login",children:Object(lt.jsx)(xt.a,{color:"primary.blue",variant:"subtitle1",children:"Already have an account? Sign in"})})})})]})]})})}function nr(){var e=at(),t=Object(nt.m)(),r=(ct(se),n.useState({username:"",password:""})),a=Object(Be.a)(r,2),c=a[0],i=a[1],s=function(){var r=Object(l.a)(Object(o.a)().mark((function r(n){return Object(o.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.prev=1,r.next=4,e(re(c));case 4:"fulfilled"===r.sent.meta.requestStatus&&e(de()),t("/"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),d=function(e){i((function(t){return Object(Kt.a)(Object(Kt.a)({},t),{},Object(Qt.a)({},e.target.name,e.target.value))}))};return Object(lt.jsx)(It.a,{component:"main",maxWidth:"xs",children:Object(lt.jsxs)(Ve.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(lt.jsx)(Ot.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(lt.jsx)(tr.a,{})}),Object(lt.jsx)(xt.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(lt.jsxs)(Ve.a,{component:"form",onSubmit:s,sx:{mt:1},children:[Object(lt.jsx)(Nt.a,{onChange:function(e){return d(e)},color:"info",sx:{color:"text.main"},margin:"normal",required:!0,fullWidth:!0,label:"Username",name:"username",autoComplete:"username",autoFocus:!0}),Object(lt.jsx)(Nt.a,{onChange:function(e){return d(e)},color:"info",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(lt.jsx)(bt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(lt.jsxs)(Rt.a,{container:!0,children:[Object(lt.jsx)(Rt.a,{item:!0,xs:!0,children:Object(lt.jsx)(gt.b,{to:"/",children:Object(lt.jsx)(xt.a,{color:"primary.blue",variant:"subtitle1",children:"Forgot password?"})})}),Object(lt.jsx)(Rt.a,{item:!0,children:Object(lt.jsx)(gt.b,{to:"/register",children:Object(lt.jsx)(xt.a,{color:"primary.blue",variant:"subtitle1",children:"Don't have an account? Sign Up"})})})]})]})]})})}var ar=r(347),cr=r(376),ir=function(e){var t=Object(n.useState)(""),r=Object(Be.a)(t,2),a=r[0],c=r[1],i=function(e){c(e)},s=ct(L).length,o=(ct(ke).length,ct(Ae).length),l=function(e){return{display:"flex",alignItems:"center",marginY:"1rem",borderLeft:a=="".concat(e)?"4px solid #d23f57":"","&:hover":{borderLeft:"4px solid #d23f57"}}};return Object(lt.jsxs)(cr.a,{sx:{padding:"24px"},elevation:1,children:[Object(lt.jsx)(xt.a,{color:"primary.gray",variant:"body1",sx:{fontSize:"14px",marginBottom:"10px"},children:"DASHBOARD"}),Object(lt.jsx)(gt.b,{to:"/profile/orders",onClick:function(){return i("orders")},children:Object(lt.jsxs)(ft.a,{sx:l("orders"),children:[Object(lt.jsx)(ut.a,{color:"orders"==a?"secondary":"inherit",fontSize:"small"}),Object(lt.jsx)(xt.a,{variant:"body2",sx:{color:"orders"==a?"secondary.main":"black","&:hover":{color:"secondary.main"}},children:"Orders"}),Object(lt.jsx)(xt.a,{variant:"body2",sx:{marginLeft:"auto"},children:o})]})}),Object(lt.jsx)(gt.b,{to:"/profile/wishlist",onClick:function(){return i("wishlist")},children:Object(lt.jsxs)(ft.a,{sx:l("wishlist"),children:[Object(lt.jsx)(ut.a,{color:"wishlist"==a?"secondary":"inherit",fontSize:"small"}),Object(lt.jsx)(xt.a,{variant:"body2",sx:{color:"wishlist"==a?"secondary.main":"black","&:hover":{color:"secondary.main"}},children:"Wishlist"}),Object(lt.jsx)(xt.a,{variant:"body2",sx:{marginLeft:"auto"},children:s})]})}),Object(lt.jsx)(xt.a,{color:"primary.gray",variant:"body1",sx:{fontSize:"14px",marginToY:"20px 10px"},children:"PROFILE"}),Object(lt.jsx)(gt.b,{to:"/profile",onClick:function(){return i("profile")},children:Object(lt.jsxs)(ft.a,{sx:l("profile"),children:[Object(lt.jsx)(ar.a,{color:"profile"==a?"secondary":"inherit",fontSize:"small"}),Object(lt.jsx)(xt.a,{variant:"body2",sx:{color:"profile"==a?"secondary.main":"black","&:hover":{color:"secondary.main"}},children:"Profile info"})]})})]})},sr=r(348),or=r(349),lr=function(e){var t=e.text;return Object(lt.jsx)(xt.a,{variant:"h3",sx:{fontSize:"16px",fontWeight:"600",marginX:"12px",flex:"1 1 0"},color:"primary.gray",children:t})},dr=function(e){var t=e.orders,r=Object(nt.m)();return console.log(t),Object(lt.jsxs)(Ve.a,{children:[Object(lt.jsxs)(cr.a,{elevation:0,sx:{display:"flex",flexDirection:"row",padding:"5px",alignItems:"center",backgroundColor:"background.default"},children:[Object(lt.jsx)(sr.a,{color:"secondary"}),Object(lt.jsx)(xt.a,{variant:"h2",sx:{fontSize:"25px",fontWeight:"bold",marginX:"12px"},children:"My Orders"})]}),Object(lt.jsxs)(cr.a,{elevation:0,sx:{display:"flex",flexDirection:"row",padding:"5px",alignItems:"center",backgroundColor:"background.default"},children:[Object(lt.jsx)(lr,{text:"Order #"}),Object(lt.jsx)(lr,{text:"Status"}),Object(lt.jsx)(lr,{text:"Date Purchased"}),Object(lt.jsx)(lr,{text:"Total"}),Object(lt.jsx)(xt.a,{variant:"h3",sx:{fontSize:"16px",fontWeight:"600",marginX:"12px",flex:"0 0 0px"},color:"primary.gray"})]}),t.map((function(e){return Object(lt.jsxs)(cr.a,{elevation:4,sx:{display:"flex",flexDirection:"row",padding:"5px",alignItems:"center",marginY:"10px"},children:[Object(lt.jsx)(lr,{text:"#"+e.id}),Object(lt.jsx)(lr,{text:Object(lt.jsx)(Tt.a,{color:"secondary",label:e.status})}),Object(lt.jsx)(lr,{text:new Date(e.timeOrdered).toLocaleDateString()}),Object(lt.jsx)(lr,{text:"$"+e.totalCost.toFixed(2)}),Object(lt.jsx)(Xe.a,{onClick:function(){return r("/profile/orders/"+e.id)},sx:{flex:"0 0 0px"},children:Object(lt.jsx)(or.a,{})})]},e.id)}))]})},ur=function(e){var t=at(),r=ct(L),a=ct(Y),c=ct(F);console.log(r);var i={size:30,page:1};Object(n.useEffect)((function(){a===d&&t(I(i))}),[t]);var s=Object(lt.jsx)("p",{children:"Idle"});return a===u?s=Object(lt.jsx)("p",{children:"Loading"}):a===j?s=r.map((function(e){return Object(lt.jsx)(Rt.a,{xs:4,sm:4,md:4,lg:4,item:!0,children:Object(lt.jsx)(Ft,{product:e})},e.id)})):a===x&&(s=Object(lt.jsx)("p",{children:c})),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(lt.jsxs)(cr.a,{elevation:0,sx:{display:"flex",flexDirection:"row",padding:"5px",alignItems:"center",backgroundColor:"background.default"},children:[Object(lt.jsx)(sr.a,{color:"secondary"}),Object(lt.jsx)(xt.a,{variant:"h2",sx:{fontSize:"25px",fontWeight:"bold",marginX:"12px"},children:"My Wishlist"})]}),Object(lt.jsx)(Rt.a,{container:!0,spacing:2,columns:{xs:4,sm:8,lg:12},children:s})]})},jr=function(e){return Object(lt.jsx)(ft.a,{children:Object(lt.jsxs)(cr.a,{elevation:0,sx:{display:"flex",flexDirection:"row",padding:"5px",alignItems:"center",backgroundColor:"background.default"},children:[Object(lt.jsx)(sr.a,{color:"secondary"}),Object(lt.jsx)(xt.a,{variant:"h2",sx:{fontSize:"25px",fontWeight:"bold",marginX:"12px"},children:"My Profile"})]})})},xr=function(e){var t=e.cart;return Object(lt.jsxs)(Ve.a,{sx:{flexGrow:"1"},children:[Object(lt.jsx)(xt.a,{variant:"h6",sx:{fontSize:"17px"},children:"Your order"}),Object(lt.jsx)(pt.a,{}),t.cartItems.map((function(e){return Object(lt.jsxs)(Ve.a,{sx:{display:"flex",marginY:"8px",width:"100%"},children:[Object(lt.jsxs)(xt.a,{variant:"caption",sx:{fontSize:"13px",marginBottom:"12px",overflow:"hidden"},children:[Object(lt.jsx)("span",{style:{fontSize:"12px",fontWeight:"bold"},children:e.quantity})," x ",e.product.name]}),Object(lt.jsxs)(xt.a,{variant:"caption",sx:{fontSize:"13px",marginLeft:"auto"},children:["$",(e.quantity*e.product.price).toFixed(2)]})]},e.id)})),Object(lt.jsx)(pt.a,{sx:{marginY:"20px"}}),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",marginY:"8px"},children:[Object(lt.jsx)(xt.a,{variant:"caption",sx:{fontSize:"14px",marginBottom:"12px",color:"primary.gray"},children:"Subtotal:"}),Object(lt.jsxs)(xt.a,{variant:"h6",sx:{fontSize:"14px",marginLeft:"auto"},children:["$",ht(t.cartItems)]})]}),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",marginY:"8px"},children:[Object(lt.jsx)(xt.a,{variant:"caption",sx:{fontSize:"14px",marginBottom:"12px",color:"primary.gray"},children:"Shipping:"}),Object(lt.jsx)(xt.a,{variant:"h6",sx:{fontSize:"14px",marginLeft:"auto"},children:"$9.99"})]}),Object(lt.jsx)(pt.a,{sx:{marginY:"20px"}}),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",marginY:"8px"},children:[Object(lt.jsx)(xt.a,{variant:"h6",sx:{fontSize:"14px",marginBottom:"12px"},children:"Total:"}),Object(lt.jsxs)(xt.a,{variant:"h6",sx:{fontSize:"14px",marginLeft:"auto"},children:["$",ht(t.cartItems)]})]})]})},pr=function(e){var t=Object(nt.o)().id,r=(Object(nt.m)(),ct(Ae).find((function(e){return e.id===Number.parseInt(t||"")})));return console.log(r),r?Object(lt.jsx)(ft.a,{display:"flex",flexDirection:"column",children:Object(lt.jsxs)(Rt.a,{container:!0,sx:{minWidth:"100%"},spacing:3,children:[Object(lt.jsxs)(Rt.a,{item:!0,lg:8,md:8,sm:12,xs:12,children:[Object(lt.jsxs)(cr.a,{elevation:0,sx:{display:"flex",flexDirection:"row",padding:"5px",alignItems:"center",backgroundColor:"background.default"},children:[Object(lt.jsx)(sr.a,{color:"secondary"}),Object(lt.jsx)(xt.a,{variant:"h2",sx:{fontSize:"25px",fontWeight:"bold",marginX:"12px"},children:"Order Details"})]}),Object(lt.jsxs)(cr.a,{children:[Object(lt.jsxs)(cr.a,{sx:{bgcolor:"background.default",display:"flex",flex:"1 1 0",padding:"15px 10px",justifyContent:"space-between"},elevation:0,children:[Object(lt.jsxs)(ft.a,{display:"flex",children:[Object(lt.jsx)(xt.a,{variant:"body1",fontSize:"15px",color:"primary.gray",marginRight:"5px",children:"Order ID:"}),Object(lt.jsx)(xt.a,{variant:"body1",fontSize:"15px",color:"primary.blue",children:t})]}),Object(lt.jsxs)(ft.a,{display:"flex",children:[Object(lt.jsx)(xt.a,{variant:"body1",fontSize:"15px",color:"primary.gray",marginRight:"5px",children:"Order placed:"}),Object(lt.jsx)(xt.a,{variant:"body1",fontSize:"15px",color:"primary.blue",children:Mt()(r.timeOrdered).format("DD MMM, YYYY ")})]})]}),r.cartItems.map((function(e){return Object(lt.jsxs)(ft.a,{sx:{display:"flex",alignItems:"center",padding:"16px 20px"},children:[Object(lt.jsx)(Ot.a,{sx:{width:"74px",height:"76px",marginX:"16px"},variant:"square",children:Object(lt.jsx)("img",{style:{width:"100%",height:"100%",objectFit:"cover"},src:vt+e.product.imagesUrl[0],alt:e.product.name})}),Object(lt.jsxs)(ft.a,{sx:{flex:"1 1 0"},children:[Object(lt.jsx)(gt.b,{to:"/product/"+e.product.slug,children:Object(lt.jsx)(xt.a,{variant:"h5",sx:{fontSize:"14px",fontWeight:"500"},children:e.product.name})}),Object(lt.jsxs)(xt.a,{variant:"caption",sx:{fontSize:"10px"},children:["$",e.product.price," x ",e.quantity]}),Object(lt.jsxs)(xt.a,{variant:"h5",color:"secondary",sx:{fontSize:"14px",fontWeight:"500"},children:["$",(e.product.price*e.quantity).toFixed(2)]})]})]})}))]})]}),Object(lt.jsx)(Rt.a,{item:!0,lg:4,md:4,sm:12,xs:12,children:Object(lt.jsx)(xr,{cart:{cartItems:r.cartItems,totalCost:r.totalCost}})}),Object(lt.jsx)(Rt.a,{gridRow:1,item:!0,md:12,xs:12,children:Object(lt.jsxs)(cr.a,{sx:{flexDirection:"column",padding:"15px 25px",marginY:"20px",width:"60%"},children:[Object(lt.jsx)(xt.a,{variant:"body1",fontSize:"16px",fontWeight:"bold",marginBottom:"10px",children:"Shipping Address"}),Object(lt.jsxs)(xt.a,{variant:"body1",fontSize:"16px",children:["Street Line: ",r.deliveryAddress.streetLine]}),Object(lt.jsxs)(xt.a,{variant:"body1",fontSize:"16px",children:["City: ",r.deliveryAddress.city]}),Object(lt.jsxs)(xt.a,{variant:"body1",fontSize:"16px",children:["Zip Code: ",r.deliveryAddress.zipCode]}),Object(lt.jsxs)(xt.a,{variant:"body1",fontSize:"16px",children:["Phone Number: ",r.deliveryAddress.phoneNumber]})]})})]})}):Object(lt.jsx)("p",{children:"fetching"})},br=function(e){var t=ct(Ae),r=at(),a=ct(Re);return Object(n.useEffect)((function(){a===d&&r(We())}),[]),Object(lt.jsxs)(Rt.a,{spacing:3,columns:12,maxWidth:"lg",container:!0,sx:{paddingX:"24px",marginY:"2rem"},children:[Object(lt.jsx)(Rt.a,{item:!0,xs:12,sm:12,md:3,children:Object(lt.jsx)(ir,{})}),Object(lt.jsx)(Rt.a,{item:!0,md:9,sm:12,children:Object(lt.jsxs)(nt.d,{children:[Object(lt.jsx)(nt.b,{path:"/orders/:id",element:Object(lt.jsx)(pr,{})}),Object(lt.jsx)(nt.b,{path:"/orders",element:Object(lt.jsx)(dr,{orders:t})}),Object(lt.jsx)(nt.b,{path:"/wishlist",element:Object(lt.jsx)(ur,{})}),Object(lt.jsx)(nt.b,{path:"/",element:Object(lt.jsx)(jr,{})})]})})]})},fr=r(391),hr=r(381),mr=r(367),Or=r(350),gr=r(351),vr=r(353),yr=r(374),wr=r(393),Cr=r(392),Sr=r(157),kr=r.n(Sr),Ir=r(352),zr=r(362),Dr=r(387),Wr=r(388),Nr=r(389),Pr=function(e){var t,r={name:"",imagesUrl:[],price:0,description:"",categoryId:1},a=at(),c=Object(n.useState)(r),i=Object(Be.a)(c,2),s=i[0],d=i[1],u=Object(n.useState)(1),j=Object(Be.a)(u,2),x=j[0],p=j[1],b=Object(n.useState)(null),f=Object(Be.a)(b,2),h=f[0],m=f[1],O=Object(n.useState)(null),g=Object(Be.a)(O,2),v=g[0],y=g[1],w=ct(G),C=[];null!==w&&(C=X(w));var S=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,console.log(s),e.next=5,a(D(s)).unwrap();case 5:n=e.sent,n.failed||(m(null),y(null),d(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e){d((function(t){return Object(Kt.a)(Object(Kt.a)({},t),{},Object(Qt.a)({},e.target.name,e.target.value))}))},I=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==v){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a(P(v)).unwrap();case 4:t=e.sent,d((function(e){var r;return Object(Kt.a)(Object(Kt.a)({},e),{},{imagesUrl:[].concat(Object(V.a)(null!==(r=e.imagesUrl)&&void 0!==r?r:[]),[t])})}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(lt.jsxs)("form",{onSubmit:function(e){return S(e)},style:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[Object(lt.jsx)("br",{}),Object(lt.jsx)(Nt.a,{value:s.name,onChange:function(e){return k(e)},required:!0,color:"info",style:{width:"200px",margin:"5px"},type:"text",label:"Product Name",name:"name",variant:"outlined"}),Object(lt.jsx)("br",{}),Object(lt.jsx)(Nt.a,{value:s.description,onChange:function(e){return k(e)},required:!0,multiline:!0,rows:4,color:"info",style:{width:"200px",margin:"5px"},type:"text",name:"description",label:"Product Description",variant:"outlined"}),Object(lt.jsx)("br",{}),Object(lt.jsx)(Nt.a,{value:s.price,onChange:function(e){return k(e)},required:!0,color:"info",style:{width:"200px",margin:"5px"},type:"number",name:"price",inputProps:{step:"0.01"},label:"Price",variant:"outlined"}),Object(lt.jsx)("br",{}),Object(lt.jsx)(zr.a,{onChange:function(e){return function(e){d((function(t){return Object(Kt.a)(Object(Kt.a)({},t),{},Object(Qt.a)({},e.target.name,e.target.value))})),p(Number(e.target.value))}(e)},value:x,size:"small",sx:{height:1},name:"categoryId",autoFocus:!0,children:C.map((function(e){return Object(lt.jsx)($e.a,{value:e.id,children:e.categoryName},e.id)}))}),Object(lt.jsx)("br",{}),Object(lt.jsxs)(bt.a,{variant:"contained",component:"label",children:["Upload Image",Object(lt.jsx)("input",{onChange:function(e){return function(e){if(e.preventDefault(),null!==e.target.files){var t=e.target.files[0],r=new FormData;r.append("imageFile",t),m(URL.createObjectURL(t)),y(r)}}(e)},hidden:!0,accept:"image/*",multiple:!0,type:"file"})]}),Object(lt.jsx)(Dr.a,{sx:{width:"60%",margin:"auto"},component:"img",image:null!=h?h:""}),Object(lt.jsx)("br",{}),Object(lt.jsx)(bt.a,{onClick:function(){return I()},variant:"contained",color:"primary",children:"Save Image"}),Object(lt.jsx)(Wr.a,{sx:{width:500,height:450},cols:3,rowHeight:164,children:(null!==(t=s.imagesUrl)&&void 0!==t?t:[]).map((function(e){return Object(lt.jsx)(Nr.a,{children:Object(lt.jsx)("img",{src:vt+e,alt:"pic",loading:"lazy"})})}))}),Object(lt.jsx)("br",{}),Object(lt.jsx)(bt.a,{type:"submit",variant:"contained",color:"primary",children:"save"})]})},Ar=r(358),Rr=r(16),qr=function(e){var t=e.id,r=e.value,n=e.field,a=Object(Rr.a)(),c=ct(G),i=[];null!==c&&(i=X(c));var s=function(){var e=Object(l.a)(Object(o.a)().mark((function e(r){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.current.setEditCellValue({id:t,field:n,value:r.target.value});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(lt.jsx)(zr.a,{value:r,onChange:s,size:"small",sx:{height:1},native:!0,autoFocus:!0,children:i.map((function(e){return Object(lt.jsx)("option",{value:e.id,children:e.categoryName},e.id)}))})};function Er(){var e=ct(G),t=at(),r=Object(n.useState)([]),a=Object(Be.a)(r,2),c=a[0],i=a[1],s=[];null!==e&&(s=X(e));var d=function(){var e=Object(l.a)(Object(o.a)().mark((function e(r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(M(r)).unwrap();case 2:n=e.sent,n.failed||t($());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=[{field:"id",headerName:"ID",width:90},{field:"categoryName",headerName:"Category name",width:150,editable:!0},{field:"description",headerName:"Category description",width:150,editable:!0},{field:"parentCategoryId",headerName:"Parent Category Id",type:"number",width:200,editable:!1,renderCell:function(e){var t;return Object(lt.jsx)("p",{children:null===(t=s.find((function(t){return t.id==e.row.parentCategoryId})))||void 0===t?void 0:t.categoryName})}},{field:"button",headerName:"",type:"action",width:150,renderCell:function(e){return Object(lt.jsx)(bt.a,{color:"secondary",onClick:function(){return d(e.row.id)},children:"Delete"})}}];console.log(c);return Object(lt.jsx)(Ve.a,{sx:{height:400,width:"100%"},children:Object(lt.jsx)(Ar.a,{onSelectionModelChange:function(e){var t=[];e.forEach((function(e){t.push(Number(e))})),i(t)},onCellEditCommit:function(e){var r,n=(r={},Object(Qt.a)(r,e.field,e.value),Object(Qt.a)(r,"id",e.id),r);t(J(n))},rows:s,columns:u,rowsPerPageOptions:[5,10,25,100],checkboxSelection:!0,disableSelectionOnClick:!0})})}var Lr=function(e){var t=at(),r=Object(n.useState)(1),a=Object(Be.a)(r,2),c=a[0],i=a[1],s={categoryName:"",description:"",parentId:c},d=Object(n.useState)(s),u=Object(Be.a)(d,2),j=u[0],x=u[1],p=ct(G),b=[];null!==p&&(b=X(p));var f=function(){var e=Object(l.a)(Object(o.a)().mark((function e(r){var n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),console.log(c),console.log(j),e.prev=3,e.next=6,t(_(j)).unwrap();case 6:n=e.sent,a=n.failed,console.log(a),a||(t($()),x(s)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){x((function(t){return Object(Kt.a)(Object(Kt.a)({},t),{},Object(Qt.a)({},e.target.name,e.target.value))}))};return Object(lt.jsxs)("form",{onSubmit:function(e){return f(e)},style:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[Object(lt.jsx)("br",{}),Object(lt.jsx)(Nt.a,{value:j.categoryName,onChange:function(e){return h(e)},required:!0,color:"info",style:{width:"200px",margin:"5px"},type:"text",label:"Category Name",name:"categoryName",variant:"outlined"}),Object(lt.jsx)("br",{}),Object(lt.jsx)(Nt.a,{value:j.description,onChange:function(e){return h(e)},required:!0,multiline:!0,rows:4,color:"info",style:{width:"200px",margin:"5px"},type:"text",name:"description",label:"Category Description",variant:"outlined"}),Object(lt.jsx)("br",{}),Object(lt.jsx)(zr.a,{onChange:function(e){return function(e){x((function(t){return Object(Kt.a)(Object(Kt.a)({},t),{},Object(Qt.a)({},e.target.name,e.target.value))})),i(Number(e.target.value))}(e)},value:c,size:"small",sx:{height:1},name:"parentId",autoFocus:!0,children:b.map((function(e){return Object(lt.jsx)($e.a,{value:e.id,children:e.categoryName},e.id)}))}),Object(lt.jsx)("br",{}),Object(lt.jsx)(bt.a,{type:"submit",variant:"contained",color:"primary",children:"save"})]})},Tr=function(e){return Object(lt.jsx)("div",{children:"IncomeView"})},Yr=function(e){return Object(lt.jsx)(qr,Object(Kt.a)({},e))};function Fr(){var e=at(),t=ct(T),r=ct(Y),a=ct(G),c=[];null!==a&&(c=X(a)),Object(n.useEffect)((function(){r===d&&e(I({}))}),[]);var i=[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Product name",width:150,editable:!0},{field:"description",headerName:"Product description",width:150,editable:!0},{field:"price",headerName:"Price",type:"number",width:110,editable:!0},{field:"categoryId",headerName:"Category name",type:"number",width:160,editable:!0,renderEditCell:Yr,renderCell:function(e){var t;return Object(lt.jsx)("p",{children:null===(t=c.find((function(t){return t.id===e.row.categoryId})))||void 0===t?void 0:t.categoryName})}},{field:"button",headerName:"",type:"action",width:150,renderCell:function(t){return Object(lt.jsx)(bt.a,{color:"secondary",onClick:function(){return r=t.row.id,void e(W(r));var r},children:"Delete"})}}];return Object(lt.jsx)(Ve.a,{sx:{height:400,width:"100%"},children:Object(lt.jsx)(Ar.a,{onCellEditCommit:function(t){var r,n=(r={},Object(Qt.a)(r,t.field,t.value),Object(Qt.a)(r,"id",t.id),r);console.log(n),e(N(n))},rows:t,columns:i,rowsPerPageOptions:[5,10,25,100],checkboxSelection:!0,disableSelectionOnClick:!0})})}var Br=function(e){var t=e.pageChangeCallback,r=a.a.useState(!1),n=Object(Be.a)(r,2),c=n[0],i=n[1],s=function(e){return function(t,r){i(!!r&&e)}};return Object(lt.jsxs)(jt.a,{variant:"permanent",sx:Object(Qt.a)({width:"20vw",flexShrink:0},"& .MuiDrawer-paper",{width:"20vw",boxSizing:"border-box"}),children:[Object(lt.jsx)(fr.a,{}),Object(lt.jsx)(Ve.a,{sx:{overflow:"auto"},children:Object(lt.jsxs)(hr.a,{children:[Object(lt.jsx)(mr.a,{disablePadding:!0,children:Object(lt.jsxs)(Or.a,{onClick:function(){return t(Object(lt.jsx)(Tr,{}))},children:[Object(lt.jsx)(gr.a,{children:Object(lt.jsx)(Ir.a,{})}),Object(lt.jsx)(vr.a,{primary:"Income View"})]})}),Object(lt.jsxs)(yr.a,{expanded:"panel1"===c,onChange:s("panel1"),children:[Object(lt.jsx)(Cr.a,{expandIcon:Object(lt.jsx)(kr.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(lt.jsx)(xt.a,{sx:{flexShrink:0},children:"Products"})}),Object(lt.jsxs)(wr.a,{children:[Object(lt.jsx)(mr.a,{disablePadding:!0,children:Object(lt.jsxs)(Or.a,{onClick:function(){return t(Object(lt.jsx)(Fr,{}))},children:[Object(lt.jsx)(gr.a,{children:Object(lt.jsx)(Ir.a,{})}),Object(lt.jsx)(vr.a,{primary:"Product List"})]})}),Object(lt.jsx)(mr.a,{disablePadding:!0,children:Object(lt.jsxs)(Or.a,{onClick:function(){return t(Object(lt.jsx)(Pr,{}))},children:[Object(lt.jsx)(gr.a,{children:Object(lt.jsx)(Ir.a,{})}),Object(lt.jsx)(vr.a,{primary:"Create Product"})]})})]})]}),Object(lt.jsxs)(yr.a,{expanded:"panel2"===c,onChange:s("panel2"),children:[Object(lt.jsx)(Cr.a,{expandIcon:Object(lt.jsx)(kr.a,{}),"aria-controls":"panel2bh-content",id:"panel2bh-header",children:Object(lt.jsx)(xt.a,{sx:{flexShrink:0},children:"Categories"})}),Object(lt.jsxs)(wr.a,{children:[Object(lt.jsx)(mr.a,{disablePadding:!0,children:Object(lt.jsxs)(Or.a,{onClick:function(){return t(Object(lt.jsx)(Er,{}))},children:[Object(lt.jsx)(gr.a,{children:Object(lt.jsx)(Ir.a,{})}),Object(lt.jsx)(vr.a,{primary:"Category List"})]})}),Object(lt.jsx)(mr.a,{disablePadding:!0,children:Object(lt.jsxs)(Or.a,{onClick:function(){return t(Object(lt.jsx)(Lr,{}))},children:[Object(lt.jsx)(gr.a,{children:Object(lt.jsx)(Ir.a,{})}),Object(lt.jsx)(vr.a,{primary:"Create Category"})]})})]})]})]})})]})},Vr=function(e){var t=Object(n.useState)(Object(lt.jsx)(Tr,{})),r=Object(Be.a)(t,2),a=r[0],c=r[1];return Object(lt.jsxs)(Ve.a,{sx:{display:"flex"},children:[Object(lt.jsx)(Br,{pageChangeCallback:function(e){c(e)}}),Object(lt.jsx)(Ve.a,{component:"main",sx:{flexGrow:1,p:3},children:a})]})},Xr=r(384),Ur=function(e){var t=e.product,r=e.quantity,n=e.cartItemId,a=at();return Object(lt.jsxs)(cr.a,{elevation:4,sx:{display:"flex",borderRadius:"10px",marginY:"20px",width:"100%",paddingX:"10px"},children:[Object(lt.jsx)(Ot.a,{sx:{width:"156px",height:"156px",borderRadius:"10px"},variant:"square",children:Object(lt.jsx)("img",{style:{width:"156px",height:"156px",objectFit:"cover",aspectRatio:"1/1"},src:vt+t.imagesUrl[0],alt:t.name})}),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"column",rowGap:"16px",marginY:"16px"},children:[Object(lt.jsx)(gt.b,{to:"/product/"+t.slug,children:Object(lt.jsx)(xt.a,{variant:"h6",sx:{fontSize:"18px",fontWeight:"500",textTransform:"capitalize",marginX:"10px"},children:t.name})}),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",gap:"8px",alignItems:"center",marginX:"10px"},children:[Object(lt.jsxs)(xt.a,{sx:{color:"primary.gray",fontWeight:"300"},children:["$",t.price," x ",r]}),Object(lt.jsxs)(xt.a,{sx:{color:"secondary.main",fontWeight:"450",fontSize:"15px"},children:["$",t.price*r]})]}),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:"0px"},children:[Object(lt.jsx)(bt.a,{sx:{border:"1px solid",aspectRatio:"1/1",marginX:"10px",minWidth:"0px",minHeight:"0px",padding:"5px"},color:"secondary",disabled:1===r,onClick:function(){return a(je({id:n,quantity:r-1}))},children:Object(lt.jsx)(wt.a,{fontSize:"small",color:1===r?"disabled":"secondary"})}),Object(lt.jsx)(xt.a,{variant:"subtitle2",sx:{fontSize:"15px"},children:r}),Object(lt.jsx)(bt.a,{sx:{border:"1px solid",aspectRatio:"1/1",marginX:"10px",minWidth:"0px",minHeight:"0px",padding:"5px"},color:"secondary",onClick:function(){return a(je({id:n,quantity:r+1}))},children:Object(lt.jsx)(yt.a,{fontSize:"small",color:"secondary"})})]})]}),Object(lt.jsx)(Xe.a,{sx:{marginLeft:"auto",marginBottom:"auto"},onClick:function(){return a(je({id:n,quantity:0}))},color:"secondary",children:Object(lt.jsx)(mt.a,{color:"disabled"})})]})},$r=function(e){var t=ct(pe),r=Object(nt.m)();at();return Object(lt.jsxs)(Ut.a,{maxWidth:"lg",sx:{margin:"32px auto",paddingX:"24px"},children:[Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},children:[Object(lt.jsx)(Tt.a,{label:"1. Cart",variant:"filled",color:"secondary",sx:{width:"100px",fontSize:"14px"}}),Object(lt.jsx)(Ve.a,{sx:{width:"50px",height:"3px",backgroundColor:"primary.gray",opacity:"0.5"}}),Object(lt.jsx)(Tt.a,{label:"2. Payment and delivery",variant:"outlined",color:"secondary",sx:{fontSize:"14px"}}),Object(lt.jsx)(Ve.a,{sx:{width:"50px",height:"3px",backgroundColor:"primary.gray",opacity:"0.5"}}),Object(lt.jsx)(Tt.a,{label:"3. Review",variant:"outlined",color:"secondary",sx:{width:"100px",fontSize:"14px"}})]}),Object(lt.jsxs)(Ve.a,{sx:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"50px"},children:[Object(lt.jsx)(Ve.a,{sx:{flexGrow:"2",minWidth:{md:"66.66%",sm:"100%",xs:"100%"}},children:t.cartItems.map((function(e){return Object(lt.jsx)(Ur,{product:e.product,quantity:e.quantity,cartItemId:e.id},e.id)}))}),Object(lt.jsx)(Ve.a,{sx:{flexGrow:"1",marginY:"20px"},children:Object(lt.jsxs)(cr.a,{elevation:1,sx:{padding:"24px"},children:[Object(lt.jsxs)(Ve.a,{sx:{display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between"},children:[Object(lt.jsx)(xt.a,{component:"span",color:"primary.dark",children:"Total:"}),Object(lt.jsxs)(xt.a,{component:"span",sx:{fontWeight:"500"},children:["$",ht(t.cartItems)]})]}),Object(lt.jsx)(pt.a,{}),Object(lt.jsxs)(Ve.a,{sx:{marginY:"30px"},children:[Object(lt.jsxs)(Ve.a,{sx:{display:"flex",alignItems:"center"},children:[Object(lt.jsx)(xt.a,{component:"span",sx:{fontWeight:"500"},children:"Aditional Comments"}),Object(lt.jsx)(Ve.a,{sx:{backgroundColor:"rgb(252, 233, 236)",padding:"6px 10px",fontSize:"12px",color:"secondary.main",borderRadius:"5px",marginX:"5px"},children:"Note"})]}),Object(lt.jsx)(Xr.a,{fullWidth:!0,children:Object(lt.jsx)(Jt.a,{color:"secondary",id:"notes","aria-describedby":"notes",multiline:!0,minRows:3})})]}),Object(lt.jsx)(bt.a,{color:"secondary",onClick:function(){return r("/checkout")},variant:"contained",sx:{width:"100%",textTransform:"none"},children:"Checkout now"})]})})]})]})},Mr=r(355),_r=r(356),Jr=r(394),Hr=r(354),Gr=r(395),Zr=function(e){var t=e.open,r=e.handleClose,a=e.oldAddress,c=e.edit,i=Object(n.useState)(Object(Kt.a)({},a)),s=Object(Be.a)(i,2),o=s[0],l=s[1],d=at(),u=function(e){l((function(t){return Object(Kt.a)(Object(Kt.a)({},t),{},Object(Qt.a)({},e.target.name,e.target.value))}))};return Object(lt.jsxs)(Jr.a,{open:t,onClose:r,sx:{padding:"24px"},children:[Object(lt.jsx)(Hr.a,{children:"Add New Address Information"}),Object(lt.jsx)(Gr.a,{sx:{padding:"24px"},children:Object(lt.jsxs)(Rt.a,{component:"form",onSubmit:function(e){e.preventDefault(),console.log(o),c?(o.id=null===a||void 0===a?void 0:a.id,d(Ce(o))):d(ye(o)),r()},container:!0,spacing:2,columns:{sm:6,md:12},children:[Object(lt.jsx)(Rt.a,{item:!0,sm:3,md:6,sx:{marginY:"5px"},children:Object(lt.jsx)(Nt.a,{onChange:function(e){return u(e)},name:"name",label:"Address Name",color:"secondary",defaultValue:a.name,variant:"outlined",autoComplete:"off",required:!0})}),Object(lt.jsx)(Rt.a,{item:!0,sm:3,md:6,sx:{marginY:"5px"},children:Object(lt.jsx)(Nt.a,{onChange:function(e){return u(e)},name:"streetLine",label:"Address Line",color:"secondary",defaultValue:a.streetLine,variant:"outlined",autoComplete:"street-address",required:!0})}),Object(lt.jsx)(Rt.a,{item:!0,sm:3,md:6,sx:{marginY:"5px"},children:Object(lt.jsx)(Nt.a,{onChange:function(e){return u(e)},name:"phoneNumber",label:"Phone Number",color:"secondary",defaultValue:a.phoneNumber,inputProps:{type:"tel"},variant:"outlined",autoComplete:"tel",required:!0})}),Object(lt.jsx)(Rt.a,{item:!0,sm:3,md:6,sx:{marginY:"5px"},children:Object(lt.jsx)(Nt.a,{onChange:function(e){return u(e)},name:"city",label:"City",color:"secondary",defaultValue:a.city,variant:"outlined",autoComplete:"address-level2",required:!0})}),Object(lt.jsx)(Rt.a,{item:!0,sm:3,md:6,sx:{marginY:"5px"},children:Object(lt.jsx)(Nt.a,{onChange:function(e){return u(e)},name:"zipCode",label:"Zip Code",color:"secondary",defaultValue:a.zipCode,variant:"outlined",autoComplete:"postal-code",required:!0})}),Object(lt.jsx)(Rt.a,{item:!0,sm:3,md:6,sx:{marginY:"5px"}}),Object(lt.jsx)(Rt.a,{item:!0,sm:3,md:6,sx:{marginY:"5px"},children:Object(lt.jsx)(bt.a,{type:"submit",color:"secondary",variant:"contained",children:"Save"})})]})})]})},Qr=function(e){var t=e.setSelectedAddress,r=e.selectedAddressId,a=at(),c=ct(ke),i=ct(Ie),s=Object(n.useState)(!1),o=Object(Be.a)(s,2),l=o[0],u=o[1],j=function(){return u(!0)},x=Object(n.useState)({}),p=Object(Be.a)(x,2),b=p[0],f=p[1],h=Object(n.useState)(!1),m=Object(Be.a)(h,2),O=m[0],g=m[1];return Object(n.useEffect)((function(){i===d&&a(ve())}),[i]),Object(lt.jsxs)(lt.Fragment,{children:[Object(lt.jsx)(Ve.a,{style:{display:"flex",flexDirection:"column"},children:Object(lt.jsxs)(cr.a,{color:"primary",elevation:1,sx:{padding:"1.5rem 1.75rem"},children:[Object(lt.jsxs)(Ve.a,{sx:{display:"flex",gap:"12px",marginBottom:"28px",flexDirection:"row",alignItems:"center"},children:[Object(lt.jsx)(Ot.a,{sx:{backgroundColor:"secondary.main"},children:"1"}),Object(lt.jsx)(xt.a,{variant:"body1",sx:{fontSize:"20px",fontWeight:"400"},children:"Delivery Address"}),Object(lt.jsx)(bt.a,{onClick:function(){j(),g(!1),f({})},color:"secondary",variant:"outlined",sx:{textTransform:"none",marginY:"10px",marginLeft:"auto"},children:"Add New Address"})]}),Object(lt.jsx)(xt.a,{variant:"body2",children:"Delivery Address"}),Object(lt.jsx)(Rt.a,{container:!0,spacing:2,columns:{xs:2,sm:6,md:12},children:c.map((function(e){return Object(lt.jsx)(Rt.a,{item:!0,md:4,sm:3,xs:2,onClick:function(){return t(e.id||0)},children:Object(lt.jsxs)(cr.a,{elevation:1,sx:{padding:"16px",position:"relative",backgroundColor:"background.default",display:"flex",flexDirection:"column",border:r===e.id?"1px solid red":""},children:[Object(lt.jsxs)(Ve.a,{sx:{position:"absolute",top:"5px",right:"5px",display:"flex"},children:[Object(lt.jsx)(Xe.a,{onClick:function(){g(!0),f(e),j()},children:Object(lt.jsx)(Mr.a,{})}),Object(lt.jsx)(Xe.a,{onClick:function(){return a(we(e.id||0))},children:Object(lt.jsx)(_r.a,{color:"secondary"})})]}),Object(lt.jsx)(xt.a,{variant:"h6",sx:{fontSize:"16px",fontWeight:"500"},children:e.name}),Object(lt.jsxs)(xt.a,{variant:"caption",sx:{fontSize:"14px",color:"primary.dark"},children:[e.city," ",e.zipCode]}),Object(lt.jsx)(xt.a,{variant:"caption",sx:{fontSize:"14px",color:"primary.dark"},children:e.streetLine}),Object(lt.jsx)(xt.a,{variant:"caption",sx:{fontSize:"14px",color:"primary.dark"},children:e.phoneNumber})]})},e.id)}))})]})}),Object(lt.jsx)(Zr,{handleClose:function(){return u(!1)},open:l,edit:O,oldAddress:b})]})},Kr=function(e){var t=e.handleSubmit;return Object(lt.jsx)(Ve.a,{style:{display:"flex",flexDirection:"column",marginTop:"10px"},children:Object(lt.jsxs)(cr.a,{color:"primary",elevation:1,sx:{padding:"1.5rem 1.75rem"},children:[Object(lt.jsxs)(Ve.a,{sx:{display:"flex",gap:"12px",marginBottom:"28px",flexDirection:"row",alignItems:"center"},children:[Object(lt.jsx)(Ot.a,{sx:{backgroundColor:"secondary.main"},children:"2"}),Object(lt.jsx)(xt.a,{variant:"body1",sx:{fontSize:"20px",fontWeight:"400"},children:"Order And Pay"})]}),Object(lt.jsx)(bt.a,{onClick:t,variant:"contained",color:"secondary",children:"Orded now"})]})})},en=function(e){var t=e.moreInfo,r=at(),a=ct(pe),c=ct(se),i=Object(nt.m)(),s=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==j){e.next=3;break}return r(O({error:!1,message:"Pick delivery address before checkout"})),e.abrupt("return");case 3:if(0!==a.cartItems.length){e.next=6;break}return r(O({error:!1,message:"Add items to the cart first"})),e.abrupt("return");case 6:i("/payment",{state:{moreInfo:t,selectedAddressId:j}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=Object(n.useState)(0),u=Object(Be.a)(d,2),j=u[0],x=u[1];return Object(n.useEffect)((function(){c||i("/",{replace:!0})}),[]),Object(lt.jsx)(Ve.a,{sx:{width:"100%",height:"100%",backgroundColor:"primary.main",margin:"0",padding:"0",position:"absolute",overflow:"hidden"},children:Object(lt.jsx)(It.a,{maxWidth:"lg",sx:{margin:"32px auto",paddingX:"24px"},children:Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"row",gap:"40px",flexWrap:{md:"noWrap",sm:"wrap",xs:"wrap"},width:"100%"},children:[Object(lt.jsxs)(Ve.a,{sx:{flexGrow:"2",minWidth:{md:"66.66%",sm:"100%",xs:"100%"}},children:[Object(lt.jsx)(Qr,{setSelectedAddress:function(e){x(e)},selectedAddressId:j}),Object(lt.jsx)(Kr,{handleSubmit:s})]}),Object(lt.jsx)(xr,{cart:a})]})})})},tn=r(390),rn=r(94),nn=r(190);function an(){var e=Object(rn.useStripe)(),t=Object(rn.useElements)(),r=Object(n.useState)(""),a=Object(Be.a)(r,2),c=a[0],i=a[1],s=Object(n.useState)(!1),d=Object(Be.a)(s,2),u=d[0],j=d[1];Object(n.useEffect)((function(){if(e){var t=new URLSearchParams(window.location.search).get("payment_intent_client_secret");t&&e.retrievePaymentIntent(t).then((function(e){var t=e.paymentIntent;switch(null===t||void 0===t?void 0:t.status){case"succeeded":i("Payment succeeded!");break;case"processing":i("Your payment is processing.");break;case"requires_payment_method":i("Your payment was not successful, please try again.");break;default:i("Something went wrong.")}}))}}),[e]);var x=function(){var r=Object(l.a)(Object(o.a)().mark((function r(n){var a,c;return Object(o.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.preventDefault(),e&&t){r.next=3;break}return r.abrupt("return");case 3:return j(!0),r.next=6,e.confirmPayment({elements:t,confirmParams:{return_url:"http://localhost:3000/completed"}});case 6:a=r.sent,"card_error"===(c=a.error).type||"validation_error"===c.type?i(c.message||""):i("An unexpected error occurred."),j(!1);case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(lt.jsxs)(Xr.a,{id:"payment-form",onSubmit:x,component:"form",children:[Object(lt.jsx)(rn.PaymentElement,{id:"payment-element"}),Object(lt.jsx)(bt.a,{type:"submit",disabled:u||!e||!t,id:"submit",color:"secondary",variant:"outlined",sx:{marginY:"10px"},children:u?"Loading":"Pay now"}),c&&Object(lt.jsx)("div",{id:"payment-message",children:c})]})}var cn,sn=Object(nn.a)("pk_test_51LdCHZBKEPMX5hknwI5Qw9m0NPkGmMSNcmn8fVSmyPsbOuxPH41Z4KZHJcS4KNcQRg8syjv3NQzRDlA5RTI8Qg2a00sckIHYAK"),on=function(e){var t=Object(nt.m)(),r=at(),a=Object(n.useState)(""),c=Object(Be.a)(a,2),i=c[0],s=c[1],d=Object(nt.j)().state;Object(n.useEffect)((function(){if(null!==d){var e=d,n=e.moreInfo,a=e.selectedAddressId,c=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Ne({moreInfo:n||"",deliveryAddressId:a}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c().then((function(e){"fulfilled"===e.meta.requestStatus?S.post("/payment/charge",JSON.stringify(e.payload.id)).then((function(e){return s(e.data)})):(r(O({message:"Order failed",error:!0})),t("/checkout"))}))}else t("/")}),[]);var u={clientSecret:i};return Object(lt.jsx)(Ve.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"80vw",height:"80vh",margin:"auto"},children:i?Object(lt.jsx)(rn.Elements,{options:u,stripe:sn,children:Object(lt.jsx)(an,{})}):Object(lt.jsx)(tn.a,{color:"secondary"})})},ln=r(357);!function(e){e[e.PRICE_ASCENDING=0]="PRICE_ASCENDING",e[e.PRICE_DESCENDING=1]="PRICE_DESCENDING",e[e.RELEVANCE=2]="RELEVANCE"}(cn||(cn={}));var dn=cn,un=function(e){var t=Object(gt.c)(),r=Object(Be.a)(t,1)[0].get("value")||"",n=new URLSearchParams;return n.set("categoryId",e.categoryId.toString()),n.set("value",r),Object(lt.jsx)(gt.b,{to:"/search?"+n.toString(),children:Object(lt.jsx)(xt.a,{sx:{fontSize:"15px",color:"primary.blue",marginY:"10px"},children:e.children})})},jn=function(e){var t=at(),r=Object(gt.c)(),c=Object(Be.a)(r,1)[0],i=c.get("value")||"",s=Number.parseInt(c.get("categoryId")||"0"),o=Object(n.useState)(dn.RELEVANCE),l=Object(Be.a)(o,2),d=l[0],p=l[1],b=ct((function(e){return Z(e,s)})),f=ct((function(e){return Z(e,(null===b||void 0===b?void 0:b.parentCategoryId)||1)})),h=ct(T),m=ct(Y),O=ct(F),g=a.a.useState("panel1"),v=Object(Be.a)(g,2),y=v[0],w=v[1],C=Object(n.useState)(1),S=Object(Be.a)(C,2),k=S[0],z=(S[1],{size:30,page:k,sort:d,search:i,categoryId:s});Object(n.useEffect)((function(){t(I(z))}),[i,s]);var D=Object(lt.jsx)("p",{children:"Idle"});m===u?D=Object(lt.jsx)("p",{children:"Loading"}):m===j?D=h.map((function(e){return Object(lt.jsx)(Rt.a,{lg:4,md:6,sm:6,xs:12,item:!0,children:Object(lt.jsx)(Ft,{product:e})},e.id)})):m===x&&(D=Object(lt.jsx)("p",{children:O}));var W=function(e){return null===e||void 0===e?void 0:e.categoryChildren.map((function(e){return e.categoryChildren.length>0?Object(lt.jsxs)(yr.a,{sx:{boxShadow:"none",margin:"0px",minHeight:"0px"},disableGutters:!0,expanded:y==="panel"+e.id,onChange:(t="panel"+e.id,function(e,r){w(!!r&&t)}),children:[Object(lt.jsx)(Cr.a,{sx:{padding:"0px",margin:"0px"},expandIcon:Object(lt.jsx)(Wt.a,{sx:{fontSize:"0.9rem"}}),children:Object(lt.jsx)(xt.a,{sx:{fontSize:"15px",color:"primary.blue",marginY:"5px"},children:e.categoryName})}),Object(lt.jsxs)(wr.a,{sx:{margin:0,padding:0,paddingLeft:"10px"},children:[Object(lt.jsx)(un,{categoryId:e.id,children:"All Categories"}),e.categoryChildren.map((function(e){return Object(lt.jsx)(un,{categoryId:e.id,children:e.categoryName},e.id)}))]})]},e.id):Object(lt.jsx)(un,{categoryId:e.id,children:e.categoryName},e.id);var t}))};return Object(lt.jsxs)(It.a,{maxWidth:"lg",children:[Object(lt.jsxs)(qt.a,{sx:{padding:"15px",marginTop:"10px",flexDirection:"row",display:"flex"},children:[Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"column",marginRight:"auto"},children:[Object(lt.jsxs)(xt.a,{fontWeight:"500",fontSize:"17px",children:["Searching for: ",i]}),Object(lt.jsxs)(xt.a,{children:[h.length," results"]})]}),Object(lt.jsxs)(Ve.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(lt.jsx)(xt.a,{fontSize:"15px",marginRight:"10px",children:"Sort by:"}),Object(lt.jsxs)(zr.a,{color:"secondary",value:d,onChange:function(e){return p(e.target.value)},sx:{height:"40px",width:"180px"},children:[Object(lt.jsx)($e.a,{value:dn.RELEVANCE,children:"Relevance"}),Object(lt.jsx)($e.a,{value:dn.PRICE_ASCENDING,children:"Price Low to High"}),Object(lt.jsx)($e.a,{value:dn.PRICE_DESCENDING,children:"Price High to Low "})]})]})]}),Object(lt.jsxs)(Rt.a,{container:!0,sx:{width:"100%",maxWidth:"1240px",marginTop:"30px"},children:[Object(lt.jsx)(Rt.a,{item:!0,lg:3,md:3,sm:0,sx:{display:{sm:"none",md:"block"}},children:Object(lt.jsxs)(qt.a,{sx:{display:"flex",flexDirection:"column",padding:"10px 20px"},children:[Object(lt.jsxs)(Ve.a,{display:"flex",flexDirection:"row",children:[Object(lt.jsx)(xt.a,{fontSize:"15px",fontWeight:"500",marginY:"10px",marginRight:"auto",children:"Categories"}),Object(lt.jsx)(un,{categoryId:(null===b||void 0===b?void 0:b.parentCategoryId)||1,children:Object(lt.jsx)(ln.a,{})})]}),Object(lt.jsx)(Ve.a,{sx:{display:"flex",flexDirection:"column",flex:"1 1 1"},children:0===(null===b||void 0===b?void 0:b.categoryChildren.length)?W(f):W(b)})]})}),Object(lt.jsx)(Rt.a,{item:!0,lg:9,md:9,xs:12,children:Object(lt.jsx)(Rt.a,{container:!0,spacing:3,sx:{width:"100%"},children:D})})]})]})};var xn=function(){var e=ct(ie),t=!1;return null!==e&&(t=null===e||void 0===e?void 0:e.roles.includes("ROLE_ADMIN")),Object(lt.jsxs)(Ve.a,{children:[Object(lt.jsx)(At,{isAdmin:t}),Object(lt.jsxs)(nt.d,{children:[Object(lt.jsx)(nt.b,{path:"/",element:Object(lt.jsx)(Bt,{})}),Object(lt.jsx)(nt.b,{path:"/cart",element:Object(lt.jsx)($r,{})}),Object(lt.jsx)(nt.b,{path:"/checkout",element:Object(lt.jsx)(en,{})}),Object(lt.jsx)(nt.b,{path:"/search",element:Object(lt.jsx)(jn,{})}),Object(lt.jsx)(nt.b,{path:"/product/:slug",element:Object(lt.jsx)(Zt,{})}),Object(lt.jsx)(nt.b,{path:"/profile/*",element:Object(lt.jsx)(br,{})}),Object(lt.jsx)(nt.b,{path:"/login",element:Object(lt.jsx)(nr,{})}),Object(lt.jsx)(nt.b,{path:"/register",element:Object(lt.jsx)(rr,{})}),Object(lt.jsx)(nt.b,{path:"*",element:Object(lt.jsx)(nt.a,{replace:!0,to:"/"})}),Object(lt.jsx)(nt.b,{path:"/admin",element:t?Object(lt.jsx)(Vr,{}):Object(lt.jsx)(nt.a,{replace:!0,to:"/"})}),Object(lt.jsx)(nt.b,{path:"/payment",element:Object(lt.jsx)(on,{})})]})]})},pn=document.getElementById("root"),bn=Object(c.createRoot)(pn);Ee.dispatch($()),bn.render(Object(lt.jsx)(a.a.StrictMode,{children:Object(lt.jsx)(gt.a,{children:Object(lt.jsx)(Fe.a,{theme:Ye,children:Object(lt.jsx)(i.a,{store:Ee,children:Object(lt.jsx)(xn,{})})})})})),Le()}},[[260,1,2]]]);
//# sourceMappingURL=main.f1ea3459.chunk.js.map